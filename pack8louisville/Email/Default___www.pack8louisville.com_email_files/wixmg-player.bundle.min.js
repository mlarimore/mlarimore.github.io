!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("WixMGPlayer",[],e):"object"==typeof exports?exports.WixMGPlayer=e():t.WixMGPlayer=e()}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://static.parastorage.com/services/wixmg-player/1.179.0/",n(n.s=28)}([function(t,e,n){(function(t,n){(function(e){"use strict";var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a}function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i}var l,c=function(t){function e(e){var n=t.call(this,e)||this;return Object.defineProperty(n,"message",{enumerable:!1,value:e}),Object.defineProperty(n,"name",{enumerable:!1,value:n.constructor.name}),Error.captureStackTrace(n,n.constructor),n}return o(e,t),e}(Error),u=function(t){function e(e,n,i){return t.call(this,"The function "+e+" expected a "+n+", "+i+" given.")||this}return o(e,t),e}(c);!function(t){t.SINGLETON="singleton",t.TRANSIENT="transient",t.SCOPED="scoped"}(l||(l={}));var d=l,p=function(t){var e=function(e){return t.lifetime=e,t};return{setLifetime:e,transient:function(){return e(d.TRANSIENT)},scoped:function(){return e(d.SCOPED)},singleton:function(){return e(d.SINGLETON)}}},h=function(t){return{resolve:function(){return t},lifetime:d.TRANSIENT}},_=function(t,e){if("function"!=typeof t)throw new u("asFunction","function",typeof t);var n={lifetime:d.TRANSIENT};e=r({},n,e);var i=b(t),o={resolve:i,lifetime:e.lifetime};return o.resolve=i.bind(o),r(o,p(o)),o},g=function(t,e){if("function"!=typeof t)throw new u("asClass","class",typeof t);var n={lifetime:d.TRANSIENT};e=r({},n,e);var i=b((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,s([void 0],e)))}),t),o={resolve:i,lifetime:e.lifetime};return o.resolve=i.bind(o),r(o,p(o)),o};function b(t,e){e||(e=t);var n=e.dependencies||[];return function(e){if(n.length>0){var i=n.reduce((function(t,n){return t[n]=e.resolve(n),t}),{});return t(i,e)}return t(e)}}var m={asValue:h,asFunction:_,asClass:g},f=function(t){function e(e,n,i){return t.call(this,function(t,e,n){(e=e.slice()).push(t);var i=e.join(" -> "),o="Could not resolve '"+t+"'.";return n&&(o+=" "+n+" \n\n Resolution path: "+i),o}(e,n,i))||this}return o(e,t),e}(c);function y(t,e){var n;return"object"!=typeof t?r(((n={})[t]=e,n)):t}var v=function(){function t(t,e){this._registrations={},this._resolutionStack=[],this.options=r({},t),this._parentContainer=e||null,this.__familyTree__=this._parentContainer?[this].concat(this._parentContainer.__familyTree__):[this],this.cache={}}return Object.defineProperty(t.prototype,"registrations",{get:function(){return r({},this._parentContainer&&this._parentContainer.registrations,this._registrations)},enumerable:!0,configurable:!0}),t.prototype._registerAs=function(t,e,n,i,o){var a=this,s=y(n,i);return Object.keys(s).forEach((function(n){var i=s[n];o=r({},o),!e&&Array.isArray(i)&&(o=r({},o,i[1]),i=i[0]),a.register(n,t(i,o))})),this},t.prototype.createScope=function(){return new t(this.options,this)},t.prototype.register=function(t,e){var n=this,i=y(t,e);return Object.keys(i).forEach((function(t){n._registrations[t]=i[t]})),this},t.prototype.registerClass=function(t,e,n){return this._registerAs(g,!1,t,e,n)},t.prototype.registerFunction=function(t,e,n){return this._registerAs(_,!1,t,e,n)},t.prototype.registerValue=function(t,e,n){return this._registerAs(h,!0,t,e,n)},t.prototype.resolve=function(t){var e=this.__familyTree__[this.__familyTree__.length-1];try{var n=this.registrations[t];if(this._resolutionStack.indexOf(t)>-1)throw new f(t,this._resolutionStack,"Cyclic dependencies detected.");if(!n)throw new f(t,this._resolutionStack);this._resolutionStack.push(t);var i=void 0,o=void 0;switch(n.lifetime){case d.TRANSIENT:o=n.resolve(this);break;case d.SINGLETON:void 0===(i=e.cache[t])?(o=n.resolve(this),e.cache[t]=o):o=i;break;case d.SCOPED:for(var r=0,a=this.__familyTree__;r<a.length;r++)if(void 0!==(i=a[r].cache[t])){o=i;break}void 0===i&&(o=n.resolve(this),this.cache[t]=o);break;default:throw new f(t,this._resolutionStack,'Unknown lifetime "'+n.lifetime+'"')}return this._resolutionStack.pop(),o}catch(t){throw this._resolutionStack=[],t}},t}(),I=r({createContainer:function(t,e){return new v(t,e)},Lifetime:d},m),F=/iphone/i,B=/ipod/i,E=/ipad/i,C=/(android)/i,U=/^((?!chrome|android).)*safari/i,x=function(){return!!window.MSStream},Q=function(){return window.navigator&&window.navigator.userAgent},R=function(){return!x()&&F.test(Q())},w=function(){return!x()&&B.test(Q())},A=function(){return!x()&&E.test(Q())},L=function(){return R()||w()||A()},O=function(){return C.test(Q())},G=function(){return U.test(Q())},k=function(t){return L()?function(t){return r(r({},t),{disableControlWithClickOnPlayer:!0,disableControlWithKeyboard:!0,hideMainUI:!0,nativeBrowserControls:!0})}(t):O()?function(t){return r(r({},t),{disableControlWithClickOnPlayer:!0,disableControlWithKeyboard:!0})}(t):t},S=function(t){return function(e,n,i){var o,r,a=t||n;if(e.___playerAPI||(e.___playerAPI={}),e.___playerAPI[a]&&(o=e.___playerAPI[a],r=i,o.value!==r.value||o.get!==r.get||o.set!==r.set))throw new Error('Method "'+a+'" for public API in '+e.constructor.name+" is already defined");e.___playerAPI[a]=i}},T=function(){function t(t,e,n,i,o){void 0===n&&(n=[]),void 0===i&&(i=[]),this._scope=e,this._scope.registerValue({config:k(t)}),this._scope.registerValue({themeConfig:o}),this._config=this._scope.resolve("config"),this._resolveAdditionalModules(i),this._resolveDefaultModules(n)}return t.prototype._resolveDefaultModules=function(t){var e=this;this._defaultModules=t.reduce((function(t,n){if(e._additionalModules[n])return t;var i=e._scope.resolve(n);return e._addPlayerAPIFromModule(i),t[n]=i,t}),{})},t.prototype._resolveAdditionalModules=function(t){var e=this;this._additionalModules=t.reduce((function(t,n){var i=e._scope.resolve(n);return e._addPlayerAPIFromModule(i),t[n]=i,t}),{})},t.prototype._getWrappedCallToModuleFunction=function(t,e){var n=this;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n._destroyed)throw new Error("Player instance is destroyed");return e.apply(t,i)}},t.prototype._getPlayerAPIMethodDescriptor=function(t,e){var n={enumerable:!0,configurable:!0},i=e.get,o=e.set,r=e.value;return i&&(n.get=this._getWrappedCallToModuleFunction(t,i)),o&&(n.set=this._getWrappedCallToModuleFunction(t,o)),r&&(n.value=this._getWrappedCallToModuleFunction(t,r),n.writable=!0),n},t.prototype._addPlayerAPIFromModule=function(t){var e=this;t.___playerAPI&&Object.keys(t.___playerAPI).forEach((function(n){if(e[n])throw new Error("API method "+n+" is already defined in Player facade");Object.defineProperty(e,n,e._getPlayerAPIMethodDescriptor(t,t.___playerAPI[n]))}))},t.prototype._clearPlayerAPIForModule=function(t){var e=this;t.___playerAPI&&Object.keys(t.___playerAPI).forEach((function(t){delete e[t]}))},t.prototype.destroy=function(){var t=this;Object.keys(this._defaultModules).forEach((function(e){var n=t._defaultModules[e];t._clearPlayerAPIForModule(n),n.destroy()})),Object.keys(this._additionalModules).forEach((function(e){var n=t._additionalModules[e];t._clearPlayerAPIForModule(n),n.destroy&&n.destroy()})),this._defaultModules=null,this._additionalModules=null,this._config=null,this._scope=null,this._destroyed=!0},t}(),W=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var o=i[n];t.call(e,o[1],o[0])}},e}()}(),N="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,D=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),V="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(D):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},X=["top","right","bottom","left","width","height","size","weight"],Z="undefined"!=typeof MutationObserver,M=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,o=0;function r(){n&&(n=!1,t()),i&&s()}function a(){V(r)}function s(){var t=Date.now();if(n){if(t-o<2)return;i=!0}else n=!0,i=!1,setTimeout(a,e);o=t}return s}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){N&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Z?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){N&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;X.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Y=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},P=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||D},j=q(0,0,0,0);function H(t){return parseFloat(t)||0}function J(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+H(t["border-"+n+"-width"])}),0)}function z(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return j;var i=P(t).getComputedStyle(t),o=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var o=i[n],r=t["padding-"+o];e[o]=H(r)}return e}(i),r=o.left+o.right,a=o.top+o.bottom,s=H(i.width),l=H(i.height);if("border-box"===i.boxSizing&&(Math.round(s+r)!==e&&(s-=J(i,"left","right")+r),Math.round(l+a)!==n&&(l-=J(i,"top","bottom")+a)),!function(t){return t===P(t).document.documentElement}(t)){var c=Math.round(s+r)-e,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return q(o.left,o.top,s,l)}var $="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof P(t).SVGGraphicsElement}:function(t){return t instanceof P(t).SVGElement&&"function"==typeof t.getBBox};function K(t){return N?$(t)?function(t){var e=t.getBBox();return q(0,0,e.width,e.height)}(t):z(t):j}function q(t,e,n,i){return{x:t,y:e,width:n,height:i}}var tt=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=q(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=K(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),et=function(t,e){var n=function(t){var e=t.x,n=t.y,i=t.width,o=t.height,r="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(r.prototype);return Y(a,{x:e,y:n,width:i,height:o,top:n,right:e+i,bottom:o+n,left:e}),a}(e);Y(this,{target:t,contentRect:n})},nt=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new W,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof P(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new tt(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof P(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new et(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),it="undefined"!=typeof WeakMap?new WeakMap:new W,ot=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=M.getInstance(),i=new nt(e,n,this);it.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){ot.prototype[t]=function(){var e;return(e=it.get(this))[t].apply(e,arguments)}}));var rt=void 0!==D.ResizeObserver?D.ResizeObserver:ot,at=0,st=0,lt=["touchstart","pointerdown","MSPointerDown","mousedown"],ct=["touchend","touchcancel","pointerup","MSPointerUp","pointercancel","MSPointerCancel","mouseup"];function ut(){at=0,st=0}function dt(t){!1!==t.isPrimary&&(at+=1)}function pt(t){!1!==t.isPrimary&&(t.touches?at=t.touches.length:(window.setImmediate||window.setTimeout)((function(){at=Math.max(at-1,0)})))}function ht(t){switch(t.keyCode||t.which){case 16:case 17:case 18:case 91:case 93:return}st+=1}function _t(t){switch(t.keyCode||t.which){case 16:case 17:case 18:case 91:case 93:return}(window.setImmediate||window.setTimeout)((function(){st=Math.max(st-1,0)}))}function gt(){return{pointer:Boolean(at),key:Boolean(st)}}var bt,mt={engage:function(){return window.addEventListener("blur",ut,!1),document.documentElement.addEventListener("keydown",ht,!0),document.documentElement.addEventListener("keyup",_t,!0),lt.forEach((function(t){document.documentElement.addEventListener(t,dt,!0)})),ct.forEach((function(t){document.documentElement.addEventListener(t,pt,!0)})),{get:gt}},disengage:function(){at=st=0,window.removeEventListener("blur",ut,!1),document.documentElement.removeEventListener("keydown",ht,!0),document.documentElement.removeEventListener("keyup",_t,!0),lt.forEach((function(t){document.documentElement.removeEventListener(t,dt,!0)})),ct.forEach((function(t){document.documentElement.removeEventListener(t,pt,!0)}))}},ft="undefined"!=typeof document&&"onfocusin"in document,yt=ft?"focusin":"focus",vt=ft?"focusout":"blur",It=null,Ft=null,Bt={pointer:!1,key:!1,script:!1,initial:!1};function Et(t){var e="";if(t.type===yt){var n=bt.get();e=Ft||n.pointer&&"pointer"||n.key&&"key"||"script"}else"initial"===t.type&&(e="initial");document.documentElement.setAttribute("data-playable-focus-source",e),t.type!==vt&&(Bt[e]=!0,It=e)}function Ct(){return It}function Ut(t){return Bt[t]}function xt(t){Ft=t}function Qt(){Ft=!1}var Rt,wt={engage:function(){return document.documentElement.addEventListener(yt,Et,!0),document.documentElement.addEventListener(vt,Et,!0),bt=mt.engage(),Et({type:"initial"}),{used:Ut,current:Ct,lock:xt,unlock:Qt}},disengage:function(){Et({type:vt}),It=Ft=null,Object.keys(Bt).forEach((function(t){Bt[t]=!1})),mt.disengage(),document.documentElement.removeEventListener(yt,Et,!0),document.documentElement.removeEventListener(vt,Et,!0),document.documentElement.removeAttribute("data-playable-focus-source")}},At="undefined"!=typeof window&&window.document&&"unknown"!=typeof window.document.activeElement,Lt=function(t,e,n){var i,o,r,a,s=(a=function(){var a,s=At?document.activeElement:null;if(i=!1,o!==s){if(o=s,a=t,Array.prototype.slice.call(a.getElementsByClassName("focus-within")).forEach((function(t){t.classList.remove("focus-within")})),!t.contains(s))return void(r&&(r=!1,n()));r||(r=!0,e()),function(t,e){for(var n=e;n!==t&&void 0!==n.classList;)n.classList.add("focus-within"),n=n.parentNode}(t,s)}},function(){i||(requestAnimationFrame(a),i=!0)});return t.addEventListener("focus",s,!0),t.addEventListener("blur",s,!0),s(),function(){t.removeEventListener("focus",s,!0),t.removeEventListener("blur",s,!0)}};(Rt=e.MEDIA_STREAM_TYPES||(e.MEDIA_STREAM_TYPES={})).MP4="MP4",Rt.WEBM="WEBM",Rt.HLS="HLS",Rt.DASH="DASH",Rt.OGG="OGG",Rt.MOV="MOV",Rt.MKV="MKV";var Ot,Gt,kt={"application/x-mpegURL":e.MEDIA_STREAM_TYPES.HLS,"application/vnd.apple.mpegURL":e.MEDIA_STREAM_TYPES.HLS,"application/dash+xml":e.MEDIA_STREAM_TYPES.DASH,"video/mp4":e.MEDIA_STREAM_TYPES.MP4,"video/x-mp4":e.MEDIA_STREAM_TYPES.MP4,"x-video/mp4":e.MEDIA_STREAM_TYPES.MP4,"video/webm":e.MEDIA_STREAM_TYPES.WEBM,"video/ogg":e.MEDIA_STREAM_TYPES.OGG,"video/quicktime":e.MEDIA_STREAM_TYPES.MOV,"video/x-matroska":e.MEDIA_STREAM_TYPES.MKV};(Ot=e.MEDIA_STREAM_DELIVERY_PRIORITY||(e.MEDIA_STREAM_DELIVERY_PRIORITY={}))[Ot.NATIVE_PROGRESSIVE=0]="NATIVE_PROGRESSIVE",Ot[Ot.ADAPTIVE_VIA_MSE=1]="ADAPTIVE_VIA_MSE",Ot[Ot.NATIVE_ADAPTIVE=2]="NATIVE_ADAPTIVE",Ot[Ot.FORCED=3]="FORCED",function(t){t.PLAY_CLICK="ui-events/play-click",t.PLAY_OVERLAY_CLICK="ui-events/play-overlay-click",t.PAUSE_CLICK="ui-events/pause-click",t.PROGRESS_CHANGE="ui-events/progress-change",t.PROGRESS_DRAG_STARTED="ui-events/progress-drag-started",t.PROGRESS_DRAG_ENDED="ui-events/progress-drag-ended",t.PROGRESS_SYNC_BUTTON_MOUSE_ENTER="ui-events/progress-sync-button-mouse-enter",t.PROGRESS_SYNC_BUTTON_MOUSE_LEAVE="ui-events/progress-sync-button-mouse-leave",t.PROGRESS_USER_PREVIEWING_FRAME="ui-events/progress-user-previewing-frame",t.VOLUME_CHANGE="ui-events/volume-change",t.MUTE_CLICK="ui-events/mute-click",t.UNMUTE_CLICK="ui-events/unmute-click",t.ENTER_FULL_SCREEN_CLICK="ui-events/enter-full-screen-click",t.EXIT_FULL_SCREEN_CLICK="ui-events/exit-full-screen-click",t.ENTER_PICTURE_IN_PICTURE_CLICK="ui-events/enter-picture-in-picture-click",t.EXIT_PICTURE_IN_PICTURE_CLICK="ui-events/exit-picture-in-picture-click",t.MOUSE_ENTER_ON_PLAYER="ui-events/mouse-enter-on-player",t.MOUSE_MOVE_ON_PLAYER="ui-events/mouse-move-on-player",t.MOUSE_LEAVE_ON_PLAYER="ui-events/mouse-leave-on-player",t.FOCUS_ENTER_ON_PLAYER="ui-events/focus-enter-on-player",t.FOCUS_LEAVE_ON_PLAYER="ui-events/focus-leave-on-player",t.MAIN_BLOCK_HIDE="ui-events/main-block-hide",t.MAIN_BLOCK_SHOW="ui-events/main-block-show",t.LOADER_SHOW="ui-events/loader-show",t.LOADER_HIDE="ui-events/loader-hide",t.LOADING_COVER_SHOW="ui-events/loading-cover-show",t.LOADING_COVER_HIDE="ui-events/loading-cover-hide",t.TOGGLE_PLAYBACK_WITH_KEYBOARD="ui-events/toggle-playback-with-keyboard",t.GO_BACKWARD_WITH_KEYBOARD="ui-events/go-backward-with-keyboard",t.GO_FORWARD_WITH_KEYBOARD="ui-events/go-forward-with-keyboard",t.INCREASE_VOLUME_WITH_KEYBOARD="ui-events/increase-volume-with-keyboard",t.DECREASE_VOLUME_WITH_KEYBOARD="ui-events/decrease-volume-with-keyboard",t.MUTE_WITH_KEYBOARD="ui-events/mute-with-keyboard",t.UNMUTE_WITH_KEYBOARD="ui-events/unmute-with-keyboard",t.HIDE_INTERACTION_INDICATOR="ui-events/hide-interaction-indicator",t.PLAY_WITH_SCREEN_CLICK="ui-events/play-with-screen-click",t.PAUSE_WITH_SCREEN_CLICK="ui-events/pause-with-screen-click",t.ENTER_FULL_SCREEN_WITH_SCREEN_CLICK="ui-events/enter-full-screen-with-screen-click",t.EXIT_FULL_SCREEN_WITH_SCREEN_CLICK="ui-events/exit-full-screen-with-screen-click",t.CONTROL_DRAG_START="ui-events/control-drag-start",t.CONTROL_DRAG_END="ui-events/control-drag-end",t.KEYBOARD_KEYDOWN_INTERCEPTED="ui-events/keyboard-keydown-intercepted",t.FULL_SCREEN_STATE_CHANGED="ui-events/full-screen-state-changed",t.PICTURE_IN_PICTURE_STATUS_CHANGE="ui-events/picture-in-picture-status-changed",t.RESIZE="ui-events/resize"}(Gt||(Gt={}));var St,Tt=Gt;!function(t){t.ERROR="video-events/error",t.STATE_CHANGED="video-events/state-changed",t.LIVE_STATE_CHANGED="video-events/live-state-changed",t.DYNAMIC_CONTENT_ENDED="video-events/dynamic-content-ended",t.CHUNK_LOADED="video-events/chunk-loaded",t.CURRENT_TIME_UPDATED="video-events/current-time-updated",t.DURATION_UPDATED="video-events/duration-updated",t.SOUND_STATE_CHANGED="video-events/sound-state-changed",t.VOLUME_CHANGED="video-events/volume-changed",t.MUTE_CHANGED="video-events/mute-changed",t.SEEK_IN_PROGRESS="video-events/seek-in-progress",t.UPLOAD_STALLED="video-events/upload-stalled",t.UPLOAD_SUSPEND="video-events/upload-suspend",t.PLAY_REQUEST="video-events/play-request",t.PLAY_ABORTED="video-events/play-aborted",t.RESET="video-events/reset-playback"}(St||(St={}));var Wt,Nt=St;!function(t){t.SRC_PARSE="error-src-parse",t.MANIFEST_LOAD="error-manifest-load",t.MANIFEST_PARSE="error-manifest-parse",t.MANIFEST_INCOMPATIBLE="error-manifest-incompatible",t.LEVEL_LOAD="error-level-load",t.CONTENT_LOAD="error-content-load",t.CONTENT_PARSE="error-content-parse",t.MEDIA="error-media",t.UNKNOWN="error-unknown"}(Wt||(Wt={}));var Dt,Vt=Wt;!function(t){t.LOGO_LABEL="logo-label",t.LOGO_TOOLTIP="logo-tooltip",t.LIVE_INDICATOR_TEXT="live-indicator-text",t.LIVE_SYNC_LABEL="live-sync-button-label",t.LIVE_SYNC_TOOLTIP="live-sync-button-tooltip",t.ENTER_FULL_SCREEN_LABEL="enter-full-screen-label",t.ENTER_FULL_SCREEN_TOOLTIP="enter-full-screen-tooltip",t.EXIT_FULL_SCREEN_LABEL="exit-full-screen-label",t.EXIT_FULL_SCREEN_TOOLTIP="exit-full-screen-tooltip",t.ENTER_PICTURE_IN_PICTURE_LABEL="enter-picture-in-picture-button-label",t.ENTER_PICTURE_IN_PICTURE_TOOLTIP="enter-picture-in-picture-button-tooltip",t.EXIT_PICTURE_IN_PICTURE_LABEL="exit-picture-in-picture-button-label",t.EXIT_PICTURE_IN_PICTURE_TOOLTIP="exit-picture-in-picture-button-tooltip",t.PLAY_CONTROL_LABEL="play-control-label",t.PAUSE_CONTROL_LABEL="pause-control-label",t.PROGRESS_CONTROL_LABEL="progress-control-label",t.PROGRESS_CONTROL_VALUE="progress-control-value",t.UNMUTE_CONTROL_LABEL="unmute-control-label",t.UNMUTE_CONTROL_TOOLTIP="unmute-control-label",t.MUTE_CONTROL_LABEL="mute-control-label",t.MUTE_CONTROL_TOOLTIP="mute-control-tooltip",t.VOLUME_CONTROL_LABEL="volume-control-label",t.VOLUME_CONTROL_VALUE="volume-control-value",t.DOWNLOAD_BUTTON_LABEL="download-button-label",t.DOWNLOAD_BUTTON_TOOLTIP="download-button-tooltip"}(Dt||(Dt={}));var Xt,Zt=Dt;!function(t){t.SRC_SET="engine-state/src-set",t.LOAD_STARTED="engine-state/load-started",t.METADATA_LOADED="engine-state/metadata-loaded",t.READY_TO_PLAY="engine-state/ready-to-play",t.SEEK_IN_PROGRESS="engine-state/seek-in-progress",t.PLAY_REQUESTED="engine-state/play-requested",t.WAITING="engine-state/waiting",t.PLAYING="engine-state/playing",t.PAUSED="engine-state/paused",t.ENDED="engine-state/ended"}(Xt||(Xt={}));var Mt,Yt=Xt;!function(t){t.NONE="live-state/none",t.INITIAL="live-state/initial",t.NOT_SYNC="live-state/not-sync",t.SYNC="live-state/sync",t.ENDED="live-state/ended"}(Mt||(Mt={}));var Pt=Mt;function jt(t){if(!t)throw new Error("HTML provided to htmlToElement is empty");var e=document.createElement("div");if(e.innerHTML=t.trim(),e.childElementCount>1)throw new Error("HTML provided to htmlToElement doesn't have root element");return e.firstChild}function Ht(t,e){return t(e={exports:{}},e.exports),e.exports}var Jt=Ht((function(t){!function(){var e={}.hasOwnProperty;function n(){for(var t=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var r=typeof o;if("string"===r||"number"===r)t.push(o);else if(Array.isArray(o)&&o.length){var a=n.apply(null,o);a&&t.push(a)}else if("object"===r)for(var s in o)e.call(o,s)&&o[s]&&t.push(s)}}return t.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n}()})),zt=function(){function t(t){this._themeStyles={};var e=this.constructor._moduleTheme;t&&e&&(t.registerModuleTheme(this,e),this._themeStyles=t.get(this))}return t.setTheme=function(t){this._moduleTheme=t},t.extendStyleNames=function(t){this._styles=function(t,e){var n=r({},t);return Object.keys(e).forEach((function(t){n[t]=n[t]?Jt(n[t],e[t]):e[t]})),n}(this._styles,t)},t.resetStyles=function(){this._styles={}},Object.defineProperty(t.prototype,"themeStyles",{get:function(){return this._themeStyles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styleNames",{get:function(){return this.constructor._styles||{}},enumerable:!0,configurable:!0}),t._styles={},t}(),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(zt);function Kt(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}Kt("/**\n * The challenge here to support \"playable queries\" and \"direction\" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.root-container__controlButton___3nLjS {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.root-container__controlButton___3nLjS:hover {\n    opacity: .7; }\n.root-container__hidden___10ZXK {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.root-container__container____RXkJ {\n  font-family: HelveticaNeueW01-45Ligh, HelveticaNeueW02-45Ligh, HelveticaNeueW10-45Ligh, Helvetica Neue, Helvetica, Arial, \\\\30e1\\30a4\\30ea\\30aa, meiryo, \\\\30d2\\30e9\\30ae\\30ce\\89d2\\30b4 pro w3, hiragino kaku gothic pro;\n  position: relative;\n  z-index: 0;\n  display: block;\n  overflow: hidden;\n  height: inherit;\n  outline: none;\n  /**\n * 1. Change the font styles in all browsers.\n * 2. Show the overflow in IE.\n * 3. Remove the margin in Firefox and Safari.\n * 4. Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 5. Correct the inability to style clickable types in iOS and Safari.\n */\n  /**\n * Remove the inner border and padding in Firefox.\n */\n  /**\n * Restore the focus styles unset by the previous rule.\n */ }\n.root-container__container____RXkJ button {\n    font-family: inherit;\n    /* 1 */\n    font-size: 100%;\n    /* 1 */\n    line-height: 1.15;\n    /* 1 */\n    overflow: visible;\n    /* 2 */\n    margin: 0;\n    /* 3 */\n    text-transform: none;\n    /* 4 */\n    -webkit-appearance: button;\n    /* 5 */ }\n.root-container__container____RXkJ button::-moz-focus-inner {\n    padding: 0;\n    border-style: none; }\n.root-container__container____RXkJ button:-moz-focusring {\n    outline: 1px dotted ButtonText; }\n[data-playable-hook='player-container'].root-container__container____RXkJ [data-playable-component],\n[data-playable-hook='player-container'].root-container__container____RXkJ [data-playable-component] *,\n[data-playable-hook='player-container'].root-container__container____RXkJ [data-playable-component] *:before,\n[data-playable-hook='player-container'].root-container__container____RXkJ [data-playable-component] *:after {\n  -webkit-box-sizing: content-box !important;\n          box-sizing: content-box !important;\n  outline: none !important; }\n.root-container__fillAllSpace___33wu6,\n.root-container__fullScreen___3oMwD {\n  width: 100% !important;\n  min-width: 100% !important;\n  height: 100% !important;\n  min-height: 100% !important; }\n[data-playable-focus-source='key'] [data-playable-hook='player-container'] button.focus-within,\n[data-playable-focus-source='key'] [data-playable-hook='player-container'] input.focus-within,\n[data-playable-focus-source='key'] [data-playable-hook='player-container'] img.focus-within,\n[data-playable-focus-source='script']\n[data-playable-hook='player-container'] button.focus-within,\n[data-playable-focus-source='script']\n[data-playable-hook='player-container'] input.focus-within,\n[data-playable-focus-source='script']\n[data-playable-hook='player-container'] img.focus-within {\n  -webkit-box-shadow: 0 0 0 2px rgba(56, 153, 236, 0.8);\n          box-shadow: 0 0 0 2px rgba(56, 153, 236, 0.8); }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvb3QtY29udGFpbmVyLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0dBS0c7QUFDSDtFQUNFLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixpQ0FBeUI7VUFBekIseUJBQXlCO0VBQ3pCLHFDQUE2QjtFQUE3Qiw2QkFBNkI7RUFDN0IsV0FBVztFQUNYLFVBQVU7RUFDVixpQkFBaUI7RUFDakIsY0FBYztFQUNkLDhCQUE4QjtFQUM5Qix5QkFBd0I7TUFBeEIsc0JBQXdCO1VBQXhCLHdCQUF3QjtFQUN4QiwwQkFBb0I7TUFBcEIsdUJBQW9CO1VBQXBCLG9CQUFvQixFQUFFO0FBQ3RCO0lBQ0UsWUFBWSxFQUFFO0FBRWxCO0VBQ0UsOEJBQThCO0VBQzlCLG9CQUFvQjtFQUNwQix3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLHNCQUFzQixFQUFFO0FBRTFCO0VBQ0UsME5BQTBOO0VBQzFOLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsY0FBYztFQUNkOzs7Ozs7R0FNQztFQUNEOztHQUVDO0VBQ0Q7O0dBRUMsRUFBRTtBQUNIO0lBQ0UscUJBQXFCO0lBQ3JCLE9BQU87SUFDUCxnQkFBZ0I7SUFDaEIsT0FBTztJQUNQLGtCQUFrQjtJQUNsQixPQUFPO0lBQ1Asa0JBQWtCO0lBQ2xCLE9BQU87SUFDUCxVQUFVO0lBQ1YsT0FBTztJQUNQLHFCQUFxQjtJQUNyQixPQUFPO0lBQ1AsMkJBQTJCO0lBQzNCLE9BQU8sRUFBRTtBQUNYO0lBQ0UsV0FBVztJQUNYLG1CQUFtQixFQUFFO0FBQ3ZCO0lBQ0UsK0JBQStCLEVBQUU7QUFFckM7Ozs7RUFJRSwyQ0FBbUM7VUFBbkMsbUNBQW1DO0VBQ25DLHlCQUF5QixFQUFFO0FBRTdCOztFQUVFLHVCQUF1QjtFQUN2QiwyQkFBMkI7RUFDM0Isd0JBQXdCO0VBQ3hCLDRCQUE0QixFQUFFO0FBRWhDOzs7Ozs7Ozs7RUFTRSxzREFBOEM7VUFBOUMsOENBQThDLEVBQUUiLCJmaWxlIjoicm9vdC1jb250YWluZXIuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLmNvbnRyb2xCdXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmNvbnRyb2xCdXR0b246aG92ZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5oaWRkZW4ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAgIWltcG9ydGFudDsgfVxuXG4uY29udGFpbmVyIHtcbiAgZm9udC1mYW1pbHk6IEhlbHZldGljYU5ldWVXMDEtNDVMaWdoLCBIZWx2ZXRpY2FOZXVlVzAyLTQ1TGlnaCwgSGVsdmV0aWNhTmV1ZVcxMC00NUxpZ2gsIEhlbHZldGljYSBOZXVlLCBIZWx2ZXRpY2EsIEFyaWFsLCBcXFxcMzBlMVxcMzBhNFxcMzBlYVxcMzBhYSwgbWVpcnlvLCBcXFxcMzBkMlxcMzBlOVxcMzBhZVxcMzBjZVxcODlkMlxcMzBiNCBwcm8gdzMsIGhpcmFnaW5vIGtha3UgZ290aGljIHBybztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiAwO1xuICBkaXNwbGF5OiBibG9jaztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgaGVpZ2h0OiBpbmhlcml0O1xuICBvdXRsaW5lOiBub25lO1xuICAvKipcbiAqIDEuIENoYW5nZSB0aGUgZm9udCBzdHlsZXMgaW4gYWxsIGJyb3dzZXJzLlxuICogMi4gU2hvdyB0aGUgb3ZlcmZsb3cgaW4gSUUuXG4gKiAzLiBSZW1vdmUgdGhlIG1hcmdpbiBpbiBGaXJlZm94IGFuZCBTYWZhcmkuXG4gKiA0LiBSZW1vdmUgdGhlIGluaGVyaXRhbmNlIG9mIHRleHQgdHJhbnNmb3JtIGluIEVkZ2UsIEZpcmVmb3gsIGFuZCBJRS5cbiAqIDUuIENvcnJlY3QgdGhlIGluYWJpbGl0eSB0byBzdHlsZSBjbGlja2FibGUgdHlwZXMgaW4gaU9TIGFuZCBTYWZhcmkuXG4gKi9cbiAgLyoqXG4gKiBSZW1vdmUgdGhlIGlubmVyIGJvcmRlciBhbmQgcGFkZGluZyBpbiBGaXJlZm94LlxuICovXG4gIC8qKlxuICogUmVzdG9yZSB0aGUgZm9jdXMgc3R5bGVzIHVuc2V0IGJ5IHRoZSBwcmV2aW91cyBydWxlLlxuICovIH1cbiAgLmNvbnRhaW5lciBidXR0b24ge1xuICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICAgIC8qIDEgKi9cbiAgICBmb250LXNpemU6IDEwMCU7XG4gICAgLyogMSAqL1xuICAgIGxpbmUtaGVpZ2h0OiAxLjE1O1xuICAgIC8qIDEgKi9cbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICAvKiAyICovXG4gICAgbWFyZ2luOiAwO1xuICAgIC8qIDMgKi9cbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgICAvKiA0ICovXG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247XG4gICAgLyogNSAqLyB9XG4gIC5jb250YWluZXIgYnV0dG9uOjotbW96LWZvY3VzLWlubmVyIHtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGJvcmRlci1zdHlsZTogbm9uZTsgfVxuICAuY29udGFpbmVyIGJ1dHRvbjotbW96LWZvY3VzcmluZyB7XG4gICAgb3V0bGluZTogMXB4IGRvdHRlZCBCdXR0b25UZXh0OyB9XG5cbltkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXS5jb250YWluZXIgW2RhdGEtcGxheWFibGUtY29tcG9uZW50XSxcbltkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXS5jb250YWluZXIgW2RhdGEtcGxheWFibGUtY29tcG9uZW50XSAqLFxuW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddLmNvbnRhaW5lciBbZGF0YS1wbGF5YWJsZS1jb21wb25lbnRdICo6YmVmb3JlLFxuW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddLmNvbnRhaW5lciBbZGF0YS1wbGF5YWJsZS1jb21wb25lbnRdICo6YWZ0ZXIge1xuICBib3gtc2l6aW5nOiBjb250ZW50LWJveCAhaW1wb3J0YW50O1xuICBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7IH1cblxuLmZpbGxBbGxTcGFjZSxcbi5mdWxsU2NyZWVuIHtcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7IH1cblxuOmdsb2JhbCBbZGF0YS1wbGF5YWJsZS1mb2N1cy1zb3VyY2U9J2tleSddIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXSBidXR0b24uZm9jdXMtd2l0aGluLFxuOmdsb2JhbCBbZGF0YS1wbGF5YWJsZS1mb2N1cy1zb3VyY2U9J2tleSddIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXSBpbnB1dC5mb2N1cy13aXRoaW4sXG46Z2xvYmFsIFtkYXRhLXBsYXlhYmxlLWZvY3VzLXNvdXJjZT0na2V5J10gW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddIGltZy5mb2N1cy13aXRoaW4sXG46Z2xvYmFsIFtkYXRhLXBsYXlhYmxlLWZvY3VzLXNvdXJjZT0nc2NyaXB0J11cbltkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXSBidXR0b24uZm9jdXMtd2l0aGluLFxuOmdsb2JhbCBbZGF0YS1wbGF5YWJsZS1mb2N1cy1zb3VyY2U9J3NjcmlwdCddXG5bZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ10gaW5wdXQuZm9jdXMtd2l0aGluLFxuOmdsb2JhbCBbZGF0YS1wbGF5YWJsZS1mb2N1cy1zb3VyY2U9J3NjcmlwdCddXG5bZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ10gaW1nLmZvY3VzLXdpdGhpbiB7XG4gIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDU2LCAxNTMsIDIzNiwgMC44KTsgfVxuIl19 */");var qt=function(t){function e(e){var n,i=t.call(this)||this,o=e.width,r=e.height,a=e.fillAllSpace,s=e.callbacks,l=e.rtl;return i._callbacks=s,i._$rootElement=jt('<div data-playable-hook="player-container" dir="ltr" data-playable-dir="'+(n={styles:i.styleNames}).direction+'" tabindex="0" class="'+n.styles.container+'"></div>'),i.setFillAllSpaceFlag(a),i.setRtl(l),i.setWidth(o),i.setHeight(r),i._bindEvents(),i}return o(e,t),e.prototype._bindEvents=function(){this._$rootElement.addEventListener("mouseenter",this._callbacks.onMouseEnter),this._$rootElement.addEventListener("mousemove",this._callbacks.onMouseMove),this._$rootElement.addEventListener("mouseleave",this._callbacks.onMouseLeave)},e.prototype._unbindEvents=function(){this._$rootElement.removeEventListener("mouseenter",this._callbacks.onMouseEnter),this._$rootElement.removeEventListener("mousemove",this._callbacks.onMouseMove),this._$rootElement.removeEventListener("mouseleave",this._callbacks.onMouseLeave)},e.prototype.setWidth=function(t){if(t){var e=t+"px";this._$rootElement.style.width=e,this._$rootElement.style.minWidth=e}},e.prototype.setHeight=function(t){if(t){var e=t+"px";this._$rootElement.style.height=e,this._$rootElement.style.minHeight=e}},e.prototype.getWidth=function(){return this._$rootElement.offsetWidth},e.prototype.getHeight=function(){return this._$rootElement.offsetHeight},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.appendComponentElement=function(t){this._$rootElement.appendChild(t)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.setFullScreenState=function(t){t?(this._$rootElement.setAttribute("data-playable-in-full-screen","true"),this._$rootElement.classList.add(this.styleNames.fullScreen)):(this._$rootElement.setAttribute("data-playable-in-full-screen","false"),this._$rootElement.classList.remove(this.styleNames.fullScreen))},e.prototype.setFillAllSpaceFlag=function(t){void 0===t&&(t=!1),t?this._$rootElement.classList.add(this.styleNames.fillAllSpace):this._$rootElement.classList.remove(this.styleNames.fillAllSpace)},e.prototype.setRtl=function(t){this._$rootElement.setAttribute("data-playable-dir",t?"rtl":"ltr")},e.prototype.destroy=function(){this._unbindEvents(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null},e}($t);function te(t,e,n){return Array.prototype.reduce.call(t,e,n)}function ee(t,e,n){for(var i=e.exec(t);null!==i;)n(i),i=e.exec(t)}qt.extendStyleNames({controlButton:"root-container__controlButton___3nLjS",hidden:"root-container__hidden___10ZXK",container:"root-container__container____RXkJ",fillAllSpace:"root-container__fillAllSpace___33wu6",fullScreen:"root-container__fullScreen___3oMwD"});var ne,ie=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"];if("undefined"!=typeof HTMLElement)for(var oe=0;oe<ie.length&&!(ne=Element.prototype[ie[oe]]);oe++);var re=ne?function(t,e){return ne.call(t,e)}:function(t,e){return-1!==Array.prototype.indexOf.call(document.querySelectorAll(e),t)},ae=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:[a-z-]+-)?(?:min|max)-width[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,se=/\[[\s\t]*?(?:([a-z-]+)-)?(min|max)-width[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function le(t){var e=[];return-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")?[]:(ee(t=t.replace(/'/g,'"'),ae,(function(t){var n=t.slice(1),i=n[0],o=n[1],r=i+n[2];ee(o,se,(function(t){var n=t.slice(1),i=n[0],o=void 0===i?"":i,a=n[1],s=n[2];e.push({selector:r,prefix:o,mode:a,width:parseInt(s,10)})}))})),e)}function ce(){return te(document.styleSheets,(function(t,e){try{var n=e.cssRules||e.rules;if(n)return t.concat(function(t){return te(t,(function(t,e){if(1===e.type){var n=e.selectorText||e.cssText;return t.concat(le(n))}return t}),[])}(n));if(e.cssText)return t.concat(le(e.cssText))}catch(t){}return t}),[])}var ue=function(){function t(t,e){var n=(void 0===e?{}:e).prefix,i=void 0===n?"data-playable":n;this._element=t,this._queryPrefix=i,this._queries=[]}return t.prototype._getQueryAttributeValue=function(t,e){return this._queries.filter((function(n){return n.mode===t&&("max"===t&&n.width>=e||"min"===t&&n.width<=e)})).map((function(t){return t.width+"px"})).join(" ")},t.prototype._setQueryAttribute=function(t,e){var n=this._queryPrefix?this._queryPrefix+"-"+t+"-width":t+"-width",i=this._getQueryAttributeValue(t,e);i?this._element.setAttribute(n,i):this._element.removeAttribute(n)},t.prototype.getQueries=function(){this._queries=function(t,e){void 0===e&&(e="");var n=new Map,i=[];return ce().forEach((function(o){n.has(o.selector)||n.set(o.selector,re(t,o.selector)),n.get(o.selector)&&(o.prefix!==e||i.some((function(t){return t.mode===o.mode&&t.width===o.width}))||i.push({mode:o.mode,width:o.width}))})),i.sort((function(t,e){return t.width-e.width}))}(this._element,this._queryPrefix)},t.prototype.setWidth=function(t){this._setQueryAttribute("min",t),this._setQueryAttribute("max",t)},t.prototype.destroy=function(){this._element=null},t}(),de=!1,pe=!1,he=function(){function t(t){var e=t.eventEmitter,n=t.config;this._eventEmitter=e,this.isHidden=!1,this._bindCallbacks(),this._initUI(n),this._bindEvents()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._bindCallbacks=function(){this._onResized=this._onResized.bind(this),this._broadcastMouseEnter=this._broadcastMouseEnter.bind(this),this._broadcastMouseMove=this._broadcastMouseMove.bind(this),this._broadcastMouseLeave=this._broadcastMouseLeave.bind(this),this._broadcastFocusEnter=this._broadcastFocusEnter.bind(this),this._broadcastFocusLeave=this._broadcastFocusLeave.bind(this)},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Tt.FULL_SCREEN_STATE_CHANGED,this.view.setFullScreenState,this.view]],this)},t.prototype._initUI=function(t){this.view=new qt({callbacks:{onMouseEnter:this._broadcastMouseEnter,onMouseLeave:this._broadcastMouseLeave,onMouseMove:this._broadcastMouseMove},width:t.width||null,height:t.height||null,fillAllSpace:t.fillAllSpace||de,rtl:t.rtl||pe}),this._elementQueries=new ue(this.getElement()),this._resizeObserver=new rt(this._onResized),this._resizeObserver.observe(this.getElement())},t.prototype.appendComponentElement=function(t){this.view.appendComponentElement(t)},t.prototype._broadcastMouseEnter=function(){this._eventEmitter.emitAsync(Tt.MOUSE_ENTER_ON_PLAYER)},t.prototype._broadcastMouseMove=function(){this._eventEmitter.emitAsync(Tt.MOUSE_MOVE_ON_PLAYER)},t.prototype._broadcastMouseLeave=function(){this._eventEmitter.emitAsync(Tt.MOUSE_LEAVE_ON_PLAYER)},t.prototype._broadcastFocusEnter=function(){this._eventEmitter.emitAsync(Tt.FOCUS_ENTER_ON_PLAYER)},t.prototype._broadcastFocusLeave=function(){this._eventEmitter.emitAsync(Tt.FOCUS_LEAVE_ON_PLAYER)},t.prototype._enableFocusInterceptors=function(){this._disengageFocusWithin||(this._disengageFocusWithin=Lt(this.getElement(),this._broadcastFocusEnter,this._broadcastFocusLeave)),this._disengageFocusSource||(wt.engage(),this._disengageFocusSource=wt.disengage)},t.prototype._disableFocusInterceptors=function(){this._disengageFocusSource&&(this._disengageFocusSource(),this._disengageFocusSource=null),this._disengageFocusWithin&&(this._disengageFocusWithin(),this._disengageFocusWithin=null)},t.prototype._onResized=function(){var t=this.view.getWidth(),e=this.view.getHeight();this._elementQueries.setWidth(t),this._eventEmitter.emitAsync(Tt.RESIZE,{width:t,height:e})},t.prototype.attachToElement=function(t){this._enableFocusInterceptors(),t.appendChild(this.getElement()),this._elementQueries.getQueries()},t.prototype.setWidth=function(t){this.view.setWidth(t)},t.prototype.getWidth=function(){return this.view.getWidth()},t.prototype.setHeight=function(t){this.view.setHeight(t)},t.prototype.getHeight=function(){return this.view.getHeight()},t.prototype.setFillAllSpace=function(t){this.view.setFillAllSpaceFlag(t)},t.prototype.setRtl=function(t){this.view.setRtl(t)},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.destroy=function(){this._unbindEvents(),this._disableFocusInterceptors(),this._resizeObserver.unobserve(this.getElement()),this._elementQueries.destroy(),this.view.destroy()},t.moduleName="rootContainer",t.dependencies=["eventEmitter","config"],a([S()],t.prototype,"getElement",null),a([S()],t.prototype,"attachToElement",null),a([S()],t.prototype,"setWidth",null),a([S()],t.prototype,"getWidth",null),a([S()],t.prototype,"setHeight",null),a([S()],t.prototype,"getHeight",null),a([S()],t.prototype,"setFillAllSpace",null),a([S()],t.prototype,"setRtl",null),a([S()],t.prototype,"hide",null),a([S()],t.prototype,"show",null),t}(),_e=Ht((function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(t,e,i,r,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new o(i,r||t,a),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,i,o=[];if(0===this._eventsCount)return o;for(i in t=this._events)e.call(t,i)&&o.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var o=0,r=i.length,a=new Array(r);o<r;o++)a[o]=i[o].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},s.prototype.emit=function(t,e,i,o,r,a){var s=n?n+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,o),!0;case 5:return u.fn.call(u.context,e,i,o,r),!0;case 6:return u.fn.call(u.context,e,i,o,r,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,i);break;case 4:u[c].fn.call(u[c].context,e,i,o);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(t,e,n){return r(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return r(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,i,o){var r=n?n+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||o&&!s.once||i&&s.context!==i||a(this,r);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==e||o&&!s[l].once||i&&s[l].context!==i)&&c.push(s[l]);c.length?this._events[r]=1===c.length?c[0]:c:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})).EventEmitter,ge=!!function(){if(void 0!==t)return t;if("undefined"!=typeof window)return window;throw new Error("unable to locate global object")}().Promise,be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.on=function(e,n,i){return t.prototype.on.call(this,e,n,i)},e.prototype.once=function(e,n,i){return t.prototype.once.call(this,e,n,i)},e.prototype.off=function(e,n,i,o){return t.prototype.off.call(this,e,n,i,o)},e.prototype.bindEvents=function(t,e){var n=this,i=[];return t.forEach((function(t){var o=t[0],r=t[1],a=t[2],s=void 0===a?e:a;n.on(o,r,s),i.push((function(){n.off(o,r,s)}))})),function(){i.forEach((function(t){t()}))}},e.prototype.emitAsync=function(e){for(var i=this,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];if(ge)return Promise.resolve().then((function(){return t.prototype.emit.apply(i,s([e],o))}));n?n((function(){return t.prototype.emit.apply(i,s([e],o))})):setTimeout((function(){return t.prototype.emit.apply(i,s([e],o))}))},e.prototype.destroy=function(){this.removeAllListeners()},e.moduleName="eventEmitter",a([S()],e.prototype,"on",null),a([S()],e.prototype,"once",null),a([S()],e.prototype,"off",null),e}(_e),me=function(){function t(t){var e=t.eventEmitter,n=t.nativeOutput,i=t.config;this._eventEmitter=e,this._config=i,this._defaultOutput=n,this._output=n,this._applyConfig(this._config)}return t.prototype._applyConfig=function(t){void 0===t&&(t={});var e=t.preload,n=t.autoplay,i=t.loop,o=t.muted,r=t.volume,a=t.playsinline,s=t.crossOrigin,l=t.src;this.setPreload(e),this.setAutoplay(n),this.setLoop(i),this.setMute(o),this.setVolume(r),this.setPlaysinline(a),this.setCrossOrigin(s),l&&this.setSrc(l)},t.prototype.getElement=function(){return this._output.getElement()},Object.defineProperty(t.prototype,"isDynamicContent",{get:function(){return this._output.isDynamicContent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamicContentEnded",{get:function(){return this._output.isDynamicContentEnded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSeekAvailable",{get:function(){return this._output.isSeekAvailable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMetadataLoaded",{get:function(){return this._output.isMetadataLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPreloadActive",{get:function(){return this._output.isPreloadActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAutoPlayActive",{get:function(){return this._output.isAutoPlayActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSyncWithLive",{get:function(){return this._output.isSyncWithLive},enumerable:!0,configurable:!0}),t.prototype.setSrc=function(t,e){t!==this.getSrc()&&this._output.setSrc(t,e)},t.prototype.getSrc=function(){return this._output.src},t.prototype.reset=function(){this.pause(),this.seekTo(0),this._eventEmitter.emitAsync(Nt.RESET)},t.prototype.play=function(){this._output.play()},t.prototype.pause=function(){this._output.pause()},t.prototype.togglePlayback=function(){this.isPaused?this.play():this.pause()},t.prototype.resetPlayback=function(){this.pause(),this.seekTo(0),this._eventEmitter.emitAsync(Nt.RESET)},Object.defineProperty(t.prototype,"isPaused",{get:function(){return this._output.isPaused},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnded",{get:function(){return this._output.isEnded},enumerable:!0,configurable:!0}),t.prototype.syncWithLive=function(){this._output.syncWithLive()},t.prototype.seekForward=function(t){var e=this.getDuration();if(e){var n=this.getCurrentTime();this.seekTo(Math.min(n+t,e))}},t.prototype.seekBackward=function(t){if(this.getDuration()){var e=this.getCurrentTime();this.seekTo(Math.max(e-t,0))}},t.prototype.setVolume=function(t){var e=Number(t),n=isNaN(e)?1:Math.max(0,Math.min(Number(t)/100,1));this._output.setVolume(n)},t.prototype.getVolume=function(){return 100*this._output.volume},t.prototype.increaseVolume=function(t){this.setVolume(this.getVolume()+t)},t.prototype.decreaseVolume=function(t){this.setVolume(this.getVolume()-t)},t.prototype.setMute=function(t){this._output.setMute(t)},t.prototype.mute=function(){this.setMute(!0)},t.prototype.unmute=function(){this.setMute(!1)},Object.defineProperty(t.prototype,"isMuted",{get:function(){return this._output.isMuted},enumerable:!0,configurable:!0}),t.prototype.setAutoplay=function(t){this._output.setAutoplay(t)},t.prototype.getAutoplay=function(){return this._output.isAutoplay},t.prototype.setLoop=function(t){this._output.setLoop(t)},t.prototype.getLoop=function(){return this._output.isLoop},t.prototype.setPlaybackRate=function(t){this._output.setPlaybackRate(t)},t.prototype.getPlaybackRate=function(){return this._output.playbackRate},t.prototype.setPreload=function(t){this._output.setPreload(t)},t.prototype.getPreload=function(){return this._output.preload},t.prototype.getCurrentTime=function(){return this._output.currentTime},t.prototype.seekTo=function(t){this._output.setCurrentTime(t)},t.prototype.getDuration=function(){return this._output.duration||0},t.prototype.getVideoWidth=function(){return this._output.videoWidth},t.prototype.getVideoHeight=function(){return this._output.videoHeight},t.prototype.getBuffered=function(){return this._output.buffered},t.prototype.setPlaysinline=function(t){this._output.setInline(t)},t.prototype.getPlaysinline=function(){return this._output.isInline},t.prototype.setCrossOrigin=function(t){this._output.setCrossOrigin(t)},t.prototype.getCrossOrigin=function(){return this._output.crossOrigin},t.prototype.getCurrentState=function(){return this._output.currentState},t.prototype.getDebugInfo=function(){return this._output.getDebugInfo()},t.prototype.destroy=function(){},t.prototype.changeOutput=function(t,e){var n=this.getSrc();return this._output.pause(),this._output=t,this._applyConfig(this._config),this._output.setSrc(n,e)},t.prototype.resetOutput=function(){var t=!this._output.isPaused,e=this._output.currentTime;this._output=this._defaultOutput,this._output.setCurrentTime(e),t&&this._output.play()},t.moduleName="engine",t.dependencies=["eventEmitter","config","nativeOutput"],a([S()],t.prototype,"setSrc",null),a([S()],t.prototype,"getSrc",null),a([S()],t.prototype,"reset",null),a([S()],t.prototype,"play",null),a([S()],t.prototype,"pause",null),a([S()],t.prototype,"togglePlayback",null),a([S()],t.prototype,"resetPlayback",null),a([S()],t.prototype,"isPaused",null),a([S()],t.prototype,"isEnded",null),a([S()],t.prototype,"syncWithLive",null),a([S()],t.prototype,"seekForward",null),a([S()],t.prototype,"seekBackward",null),a([S()],t.prototype,"setVolume",null),a([S()],t.prototype,"getVolume",null),a([S()],t.prototype,"increaseVolume",null),a([S()],t.prototype,"decreaseVolume",null),a([S()],t.prototype,"mute",null),a([S()],t.prototype,"unmute",null),a([S()],t.prototype,"isMuted",null),a([S()],t.prototype,"setAutoplay",null),a([S()],t.prototype,"getAutoplay",null),a([S()],t.prototype,"setLoop",null),a([S()],t.prototype,"getLoop",null),a([S()],t.prototype,"setPlaybackRate",null),a([S()],t.prototype,"getPlaybackRate",null),a([S()],t.prototype,"setPreload",null),a([S()],t.prototype,"getPreload",null),a([S()],t.prototype,"getCurrentTime",null),a([S()],t.prototype,"seekTo",null),a([S()],t.prototype,"getDuration",null),a([S("getVideoRealWidth")],t.prototype,"getVideoWidth",null),a([S("getVideoRealHeight")],t.prototype,"getVideoHeight",null),a([S()],t.prototype,"setPlaysinline",null),a([S()],t.prototype,"getPlaysinline",null),a([S()],t.prototype,"setCrossOrigin",null),a([S()],t.prototype,"getCrossOrigin",null),a([S("getPlaybackState")],t.prototype,"getCurrentState",null),a([S()],t.prototype,"getDebugInfo",null),t}(),fe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ye=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function ve(t,e){void 0===e&&(e=1);var n=function(t){var e=(t=t.replace(fe,(function(t,e,n,i){return e+e+n+n+i+i}))).match(ye);if(e)return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)};throw new Error("Playable.js: Color passed to theme should be in HEX format")}(t);return"rgba("+n.r+","+n.g+","+n.b+","+e+")"}function Ie(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var Fe=new Map;function Be(t){var e=Ie(t);return""+e+function(t){if(Fe.has(t)){var e=Fe.get(t)+1;return Fe.set(t,e),""+e}return Fe.set(t,0),""}(e)}function Ee(t){return Object.keys(t).reduce((function(t,e){var n;return r(r({},t),((n={})[e]=function(t){return"wix-playable--"+Be(t)}(e),n))}),{})}var Ce,Ue=function(){function t(){this._rulesByModule=new Map,this._classNamesByModule=new Map,this._data={}}return t.prototype.attach=function(){var t=this;this._styleNode=this._styleNode||document.createElement("style");var e=[];this._rulesByModule.forEach((function(n,i){e.push(t._getModuleCSS(i))})),this._styleNode.innerHTML=e.join(" "),document.getElementsByTagName("head")[0].appendChild(this._styleNode)},t.prototype.update=function(t){this._data=r(r({},this._data),t),this._styleNode&&this.attach()},t.prototype.registerModuleTheme=function(t,e){if(this._rulesByModule.get(t))throw new Error("can`t register multiple themes for one module");this._rulesByModule.set(t,e),this._classNamesByModule.set(t,Ee(e))},t.prototype.getModuleClassNames=function(t){return this._classNamesByModule.get(t)},t.prototype._getModuleCSS=function(t){var e=this,n=this._rulesByModule.get(t),i=this._classNamesByModule.get(t);return n&&i?Object.keys(n).map((function(t){return e._getRuleCSS(n[t],i[t])})).join(" "):""},t.prototype._getRuleCSS=function(t,e){var n=this;if(!t||!e)return"";var i=Object.keys(t).filter((function(e){return"object"==typeof t[e]})).map((function(t){return-1!==t.indexOf("&")?t:"& "+t})).map((function(i){return i.replace(/&/g,"."+e)+" {"+n._getRuleStyles(t[i])+"}"})).join(" ");return"."+e+" {"+this._getRuleStyles(t)+"} "+i},t.prototype._getRuleStyles=function(t){var e=this;return Object.keys(t).filter((function(e){return"object"!=typeof t[e]})).map((function(n){return Ie(n)+": "+("function"==typeof t[n]?t[n](e._data):t[n])})).join("; ")},t}(),xe={color:"#FFF",liveColor:"#ea492e",progressColor:"#FFF"},Qe=function(){function t(t){var e=this,n=t.themeConfig;this._styleSheet=new Ue,this._styleSheet.update(r(r({},xe),n)),window.setTimeout((function(){e._styleSheet&&e._styleSheet.attach()}),0)}return t.prototype.updateTheme=function(t){this._styleSheet.update(t)},t.prototype.registerModuleTheme=function(t,e){this._styleSheet.registerModuleTheme(t,e)},t.prototype.get=function(t){return this._styleSheet.getModuleClassNames(t)},t.prototype.destroy=function(){this._styleSheet=null},t.moduleName="theme",t.dependencies=["themeConfig"],a([S()],t.prototype,"updateTheme",null),t}(),Re=((Ce={})[Zt.LOGO_LABEL]="Watch on site",Ce[Zt.LOGO_TOOLTIP]="Watch On Site",Ce[Zt.LIVE_INDICATOR_TEXT]=function(t){return t.isEnded?"Live Ended":"Live"},Ce[Zt.LIVE_SYNC_LABEL]="Sync to live",Ce[Zt.LIVE_SYNC_TOOLTIP]="Sync to Live",Ce[Zt.PAUSE_CONTROL_LABEL]="Pause",Ce[Zt.PLAY_CONTROL_LABEL]="Play",Ce[Zt.PROGRESS_CONTROL_LABEL]="Progress control",Ce[Zt.PROGRESS_CONTROL_VALUE]=function(t){return"Already played "+t.percent+"%"},Ce[Zt.MUTE_CONTROL_LABEL]="Mute",Ce[Zt.MUTE_CONTROL_TOOLTIP]="Mute",Ce[Zt.UNMUTE_CONTROL_LABEL]="Unmute",Ce[Zt.UNMUTE_CONTROL_TOOLTIP]="Unmute",Ce[Zt.VOLUME_CONTROL_LABEL]="Volume control",Ce[Zt.VOLUME_CONTROL_VALUE]=function(t){return"Volume is "+t.volume+"%"},Ce[Zt.ENTER_FULL_SCREEN_LABEL]="Enter full screen",Ce[Zt.ENTER_FULL_SCREEN_TOOLTIP]="Enter Full Screen",Ce[Zt.EXIT_FULL_SCREEN_LABEL]="Exit full screen",Ce[Zt.EXIT_FULL_SCREEN_TOOLTIP]="Exit Full Screen",Ce[Zt.ENTER_PICTURE_IN_PICTURE_LABEL]="Play Picture-in-Picture",Ce[Zt.ENTER_PICTURE_IN_PICTURE_TOOLTIP]="Play Picture-in-Picture",Ce[Zt.EXIT_PICTURE_IN_PICTURE_LABEL]="Exit Picture-in-Picture",Ce[Zt.EXIT_PICTURE_IN_PICTURE_TOOLTIP]="Exit Picture-in-Picture",Ce[Zt.DOWNLOAD_BUTTON_LABEL]="Download video",Ce[Zt.DOWNLOAD_BUTTON_TOOLTIP]="Download Video",Ce),we=function(){function t(t){var e=t.config;this._textMap=r(r({},Re),e.texts)}return t.prototype.get=function(t,e,n){if(this._textMap){var i=this._textMap[t]||n;return"function"==typeof i?i(e):i}},t.prototype.destroy=function(){this._textMap=null},t.moduleName="textMap",t.dependencies=["config"],t}(),Ae=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Le=function(){function t(t,e){this._$elem=t,this._callback=e,this._fullscreenFn=function(){for(var t={},e=0;e<Ae.length;e+=1)if(Ae[e][1]in document){for(var n=0;n<Ae[e].length;n+=1)t[Ae[0][n]]=Ae[e][n];return t}return!1}(),this._bindEvents()}return Object.defineProperty(t.prototype,"isAPIExist",{get:function(){return Boolean(this._fullscreenFn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInFullScreen",{get:function(){return"boolean"!=typeof this._fullscreenFn&&Boolean(document[this._fullscreenFn.fullscreenElement])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return"boolean"!=typeof this._fullscreenFn&&this.isAPIExist&&document[this._fullscreenFn.fullscreenEnabled]},enumerable:!0,configurable:!0}),t.prototype._bindEvents=function(){if("boolean"==typeof this._fullscreenFn)return!1;document.addEventListener(this._fullscreenFn.fullscreenchange,this._callback)},t.prototype._unbindEvents=function(){if("boolean"==typeof this._fullscreenFn)return!1;document.removeEventListener(this._fullscreenFn.fullscreenchange,this._callback)},t.prototype.request=function(){if(this.isEnabled){var t=this._fullscreenFn.requestFullscreen;/5\.1[.\d]* Safari/.test(navigator.userAgent)?this._$elem[t]():this._$elem[t](Element.ALLOW_KEYBOARD_INPUT)}},t.prototype.exit=function(){this.isEnabled&&document[this._fullscreenFn.exitFullscreen]()},t.prototype.destroy=function(){this._unbindEvents(),this._$elem=null},t}(),Oe=!1,Ge=function(){function t(t,e){this._$elem=t,this._callback=e,this._bindEvents(),this._enterWhenHasMetaData=this._enterWhenHasMetaData.bind(this)}return Object.defineProperty(t.prototype,"isAPIExist",{get:function(){return Boolean(this._$elem&&this._$elem.webkitSupportsFullscreen)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInFullScreen",{get:function(){return Boolean(this._$elem&&this._$elem.webkitDisplayingFullscreen)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.isAPIExist},enumerable:!0,configurable:!0}),t.prototype._bindEvents=function(){this._$elem.addEventListener("webkitbeginfullscreen",this._callback),this._$elem.addEventListener("webkitendfullscreen",this._callback)},t.prototype._unbindEvents=function(){this._$elem.removeEventListener("webkitbeginfullscreen",this._callback),this._$elem.removeEventListener("webkitendfullscreen",this._callback),this._$elem.removeEventListener("loadedmetadata",this._enterWhenHasMetaData)},t.prototype._enterWhenHasMetaData=function(){this._$elem.removeEventListener("loadedmetadata",this._enterWhenHasMetaData),Oe=!1,this.request()},t.prototype.request=function(){if(this.isEnabled&&!this.isInFullScreen&&!Oe)try{this._$elem.webkitEnterFullscreen()}catch(t){this._$elem.readyState<1&&(this._$elem.addEventListener("loadedmetadata",this._enterWhenHasMetaData),Oe=!0)}},t.prototype.exit=function(){this.isEnabled&&this.isInFullScreen&&this._$elem.webkitExitFullscreen()},t.prototype.destroy=function(){this._unbindEvents(),this._$elem=null},t}(),ke={exitFullScreenOnEnd:!0,enterFullScreenOnPlay:!1,exitFullScreenOnPause:!1,pauseVideoOnFullScreenExit:!1},Se=function(){function t(t){var e=t.eventEmitter,n=t.engine,i=t.rootContainer,o=t.config;if(this._exitFullScreenOnEnd=!1,this._enterFullScreenOnPlay=!1,this._exitFullScreenOnPause=!1,this._pauseVideoOnFullScreenExit=!1,this._eventEmitter=e,this._engine=n,o.disableFullScreen)this._isEnabled=!1;else{this._isEnabled=!0;var a=r({},ke);this._exitFullScreenOnEnd=a.exitFullScreenOnEnd,this._enterFullScreenOnPlay=a.enterFullScreenOnPlay,this._exitFullScreenOnPause=a.exitFullScreenOnPause,this._pauseVideoOnFullScreenExit=a.pauseVideoOnFullScreenExit}this._onChange=this._onChange.bind(this),L()?(this._element=this._engine.getElement(),this._helper=new Ge(this._engine.getElement(),this._onChange)):(this._element=i.getElement(),this._helper=new Le(i.getElement(),this._onChange)),this._bindEvents()}return t.prototype._onChange=function(t){t.target===this._element&&(!this._helper.isInFullScreen&&this._pauseVideoOnFullScreenExit&&this._engine.pause(),this._eventEmitter.emitAsync(Tt.FULL_SCREEN_STATE_CHANGED,this._helper.isInFullScreen))},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Nt.STATE_CHANGED,this._processNextStateFromEngine],[Nt.PLAY_REQUEST,this._enterOnPlayRequested]],this)},t.prototype._exitOnEnd=function(){this._exitFullScreenOnEnd&&this.isInFullScreen&&this.exitFullScreen()},t.prototype._enterOnPlayRequested=function(){this._enterFullScreenOnPlay&&!this.isInFullScreen&&this.enterFullScreen()},t.prototype._exitOnPauseRequested=function(){this._exitFullScreenOnPause&&this.isInFullScreen&&this.exitFullScreen()},t.prototype._processNextStateFromEngine=function(t){switch(t.nextState){case Yt.ENDED:this._exitOnEnd();break;case Yt.PAUSED:this._exitOnPauseRequested()}},t.prototype.enableExitFullScreenOnPause=function(){this._exitFullScreenOnPause=!0},t.prototype.disableExitFullScreenOnPause=function(){this._exitFullScreenOnPause=!1},t.prototype.enableExitFullScreenOnEnd=function(){this._exitFullScreenOnEnd=!0},t.prototype.disableExitFullScreenOnEnd=function(){this._exitFullScreenOnPause=!1},t.prototype.enableEnterFullScreenOnPlay=function(){this._enterFullScreenOnPlay=!0},t.prototype.disableEnterFullScreenOnPlay=function(){this._enterFullScreenOnPlay=!1},t.prototype.enablePauseVideoOnFullScreenExit=function(){this._pauseVideoOnFullScreenExit=!0},t.prototype.disablePauseVideoOnFullScreenExit=function(){this._pauseVideoOnFullScreenExit=!1},t.prototype.enterFullScreen=function(){this.isEnabled&&this._helper.request()},t.prototype.exitFullScreen=function(){this.isEnabled&&this._helper.exit()},Object.defineProperty(t.prototype,"isInFullScreen",{get:function(){return!!this.isEnabled&&this._helper.isInFullScreen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this._helper.isEnabled&&this._isEnabled},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._unbindEvents(),this._helper.destroy()},t.moduleName="fullScreenManager",t.dependencies=["eventEmitter","engine","rootContainer","config"],a([S()],t.prototype,"enableExitFullScreenOnPause",null),a([S()],t.prototype,"disableExitFullScreenOnPause",null),a([S()],t.prototype,"enableExitFullScreenOnEnd",null),a([S()],t.prototype,"disableExitFullScreenOnEnd",null),a([S()],t.prototype,"enableEnterFullScreenOnPlay",null),a([S()],t.prototype,"disableEnterFullScreenOnPlay",null),a([S()],t.prototype,"enablePauseVideoOnFullScreenExit",null),a([S()],t.prototype,"disablePauseVideoOnFullScreenExit",null),a([S()],t.prototype,"enterFullScreen",null),a([S()],t.prototype,"exitFullScreen",null),a([S()],t.prototype,"isInFullScreen",null),t}(),Te=[Tt.GO_FORWARD_WITH_KEYBOARD,Tt.GO_BACKWARD_WITH_KEYBOARD,Tt.PROGRESS_CHANGE],We=function(){function t(t){var e=t.eventEmitter,n=t.engine;this._eventEmitter=e,this._engine=n,this._state=Pt.NONE,this._isSeekedByUIWhilePlaying=null,this._bindEvents()}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),t.prototype._bindEvents=function(){var t=this;this._unbindEvents=this._eventEmitter.bindEvents(s([[Nt.STATE_CHANGED,this._processStateChange]],Te.map((function(e){return[e,t._processSeekByUI]})),[[Nt.DYNAMIC_CONTENT_ENDED,this._onDynamicContentEnded]]),this)},t.prototype._processStateChange=function(t){var e=t.prevState,n=t.nextState;if(n!==Yt.SRC_SET){if(this._engine.isDynamicContent&&!this._engine.isDynamicContentEnded)switch(n){case Yt.METADATA_LOADED:this._setState(Pt.INITIAL);break;case Yt.PLAY_REQUESTED:this._state===Pt.INITIAL&&this._engine.syncWithLive();break;case Yt.PLAYING:(this._state===Pt.INITIAL||this._state===Pt.NOT_SYNC||this._isSeekedByUIWhilePlaying)&&(this._setState(this._engine.isSyncWithLive?Pt.SYNC:Pt.NOT_SYNC),this._isSeekedByUIWhilePlaying=!1);break;case Yt.PAUSED:e===Yt.PLAYING&&this._setState(Pt.NOT_SYNC)}}else this._setState(Pt.NONE)},t.prototype._processSeekByUI=function(){this._engine.isDynamicContent&&this._engine.getCurrentState()===Yt.PLAYING&&(this._isSeekedByUIWhilePlaying=!0)},t.prototype._onDynamicContentEnded=function(){this._setState(Pt.ENDED)},t.prototype._setState=function(t){if(this._state!==t){var e=this._state,n=t;this._state=t,this._eventEmitter.emitAsync(Nt.LIVE_STATE_CHANGED,{prevState:e,nextState:n})}},t.prototype.destroy=function(){this._unbindEvents()},t.moduleName="liveStateEngine",t.dependencies=["eventEmitter","engine"],t}(),Ne=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(e=window.console).warn.apply(e,s([t],n))},De=32,Ve=13,Xe=9,Ze=37,Me=39,Ye=38,Pe=40,je=68,He=function(){function t(t,e){this._eventEmitter=new _e,this._element=t,e&&this._attachCallbacks(e),this._bindCallbacks(),this._bindEvents()}return t.prototype._attachCallbacks=function(t){var e=this;Object.keys(t).forEach((function(n){var i=t[n];Array.isArray(i)?i.forEach((function(t){return e._eventEmitter.on(n,t)})):e._eventEmitter.on(n,i)}))},t.prototype._unattachCallbacks=function(){this._eventEmitter.removeAllListeners()},t.prototype._bindCallbacks=function(){this._processKeyboardInput=this._processKeyboardInput.bind(this)},t.prototype._bindEvents=function(){this._element.addEventListener("keydown",this._processKeyboardInput,!1)},t.prototype._unbindEvents=function(){this._element.removeEventListener("keydown",this._processKeyboardInput,!1)},t.prototype.addCallbacks=function(t){this._attachCallbacks(t)},t.prototype._processKeyboardInput=function(t){this._eventEmitter.emit(t.keyCode,t)},Object.defineProperty(t.prototype,"_isDestroyed",{get:function(){return!this._element&&!this._eventEmitter},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._isDestroyed?Ne("KeyboardInterceptor.destroy called after already been destroyed"):(this._unbindEvents(),this._element=null,this._unattachCallbacks(),this._eventEmitter=null)},t}(),Je=function(){function t(t){var e=t.config,n=t.eventEmitter,i=t.rootContainer,o=t.engine;this._eventEmitter=n,this._engine=o,R()||w()||A()||O()?this._isEnabled=!1:this._isEnabled=!1!==e.disableControlWithKeyboard,this._initInterceptor(i.getElement())}return t.prototype._initInterceptor=function(t){this._isEnabled&&(this._keyboardInterceptor=new He(t),this._attachDefaultControls())},t.prototype._attachDefaultControls=function(){var t,e=this;this._keyboardInterceptor.addCallbacks(((t={})[Xe]=function(){e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED)},t[De]=function(t){t.preventDefault(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._eventEmitter.emitAsync(Tt.TOGGLE_PLAYBACK_WITH_KEYBOARD),e._engine.togglePlayback()},t[Ze]=function(t){e._engine.isSeekAvailable&&(t.preventDefault(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._eventEmitter.emitAsync(Tt.GO_BACKWARD_WITH_KEYBOARD),e._engine.seekBackward(5))},t[Me]=function(t){e._engine.isSeekAvailable&&(t.preventDefault(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._eventEmitter.emitAsync(Tt.GO_FORWARD_WITH_KEYBOARD),e._engine.seekForward(5))},t[Ye]=function(t){t.preventDefault(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._eventEmitter.emitAsync(Tt.INCREASE_VOLUME_WITH_KEYBOARD),e._engine.setMute(!1),e._engine.increaseVolume(10)},t[Pe]=function(t){t.preventDefault(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._eventEmitter.emitAsync(Tt.DECREASE_VOLUME_WITH_KEYBOARD),e._engine.setMute(!1),e._engine.decreaseVolume(10)},t))},t.prototype._destroyInterceptor=function(){this._keyboardInterceptor&&this._keyboardInterceptor.destroy()},t.prototype.addKeyControl=function(t,e){var n;this._isEnabled&&this._keyboardInterceptor.addCallbacks(((n={})[t]=e,n))},t.prototype.destroy=function(){this._destroyInterceptor()},t.moduleName="keyboardControl",t.dependencies=["engine","eventEmitter","rootContainer","config"],t}();function ze(t,e){return t.querySelector('[data-playable-hook="'+e+'"]')}function $e(t,e,n){n?t.classList.add(e):t.classList.remove(e)}Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.debug-panel__controlButton___pG-WY {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.debug-panel__controlButton___pG-WY:hover {\n    opacity: .7; }\n.debug-panel__hidden___1TRHR {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.debug-panel__debugPanel___116IW {\n  position: absolute;\n  z-index: 10000;\n  top: 10px;\n  left: 10px;\n  overflow: scroll;\n  width: 400px;\n  height: 250px;\n  border-radius: 3px;\n  background-color: rgba(0, 0, 0, 0.95); }\n.debug-panel__debugPanel___116IW .debug-panel__closeButton___claHV {\n    position: absolute;\n    top: 10px;\n    right: 5px;\n    cursor: pointer;\n    color: white; }\n.debug-panel__debugPanel___116IW .debug-panel__closeButton___claHV:hover {\n      opacity: .8; }\n.debug-panel__debugPanel___116IW .debug-panel__infoContainer___-AZH_ {\n    font-size: 8px;\n    line-height: 8px;\n    margin: 5px;\n    padding: 5px;\n    color: white; }\n.debug-panel__debugPanel___116IW .debug-panel__infoContainer___-AZH_ .debug-panel__string___1Jfzp {\n      color: green; }\n.debug-panel__debugPanel___116IW .debug-panel__infoContainer___-AZH_ .debug-panel__number___2WdLF {\n      color: darkorange; }\n.debug-panel__debugPanel___116IW .debug-panel__infoContainer___-AZH_ .debug-panel__boolean___CpohN {\n      color: blue; }\n.debug-panel__debugPanel___116IW .debug-panel__infoContainer___-AZH_ .debug-panel__null___2ZOuz {\n      color: magenta; }\n.debug-panel__debugPanel___116IW .debug-panel__infoContainer___-AZH_ .debug-panel__key___4avak {\n      color: white; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlYnVnLXBhbmVsLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0dBS0c7QUFDSDtFQUNFLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixpQ0FBeUI7VUFBekIseUJBQXlCO0VBQ3pCLHFDQUE2QjtFQUE3Qiw2QkFBNkI7RUFDN0IsV0FBVztFQUNYLFVBQVU7RUFDVixpQkFBaUI7RUFDakIsY0FBYztFQUNkLDhCQUE4QjtFQUM5Qix5QkFBd0I7TUFBeEIsc0JBQXdCO1VBQXhCLHdCQUF3QjtFQUN4QiwwQkFBb0I7TUFBcEIsdUJBQW9CO1VBQXBCLG9CQUFvQixFQUFFO0FBQ3RCO0lBQ0UsWUFBWSxFQUFFO0FBRWxCO0VBQ0UsOEJBQThCO0VBQzlCLG9CQUFvQjtFQUNwQix3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLHNCQUFzQixFQUFFO0FBRTFCO0VBQ0UsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixVQUFVO0VBQ1YsV0FBVztFQUNYLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2IsY0FBYztFQUNkLG1CQUFtQjtFQUNuQixzQ0FBc0MsRUFBRTtBQUN4QztJQUNFLG1CQUFtQjtJQUNuQixVQUFVO0lBQ1YsV0FBVztJQUNYLGdCQUFnQjtJQUNoQixhQUFhLEVBQUU7QUFDZjtNQUNFLFlBQVksRUFBRTtBQUNsQjtJQUNFLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLGFBQWE7SUFDYixhQUFhLEVBQUU7QUFDZjtNQUNFLGFBQWEsRUFBRTtBQUNqQjtNQUNFLGtCQUFrQixFQUFFO0FBQ3RCO01BQ0UsWUFBWSxFQUFFO0FBQ2hCO01BQ0UsZUFBZSxFQUFFO0FBQ25CO01BQ0UsYUFBYSxFQUFFIiwiZmlsZSI6ImRlYnVnLXBhbmVsLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBjaGFsbGVuZ2UgaGVyZSB0byBzdXBwb3J0IFwicGxheWFibGUgcXVlcmllc1wiIGFuZCBcImRpcmVjdGlvblwiIGF0IHRoZSBzYW1lIHRpbWUgYW5kIGFsbG93IG1peGlucyBsaWtlOlxuICogICBAaW5jbHVkZSBxdWVyeShtYXgtd2lkdGgtNTUwKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgbHRyKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgcnRsKCkpXG4gKi9cbi5jb250cm9sQnV0dG9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZzogMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAuMnM7XG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IG9wYWNpdHk7XG4gIG9wYWNpdHk6IDE7XG4gIGJvcmRlcjogMDtcbiAgYm9yZGVyLXJhZGl1czogMDtcbiAgb3V0bGluZTogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyOyB9XG4gIC5jb250cm9sQnV0dG9uOmhvdmVyIHtcbiAgICBvcGFjaXR5OiAuNzsgfVxuXG4uaGlkZGVuIHtcbiAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIG1pbi13aWR0aDogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICBvcGFjaXR5OiAwICFpbXBvcnRhbnQ7IH1cblxuLmRlYnVnUGFuZWwge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDEwMDAwO1xuICB0b3A6IDEwcHg7XG4gIGxlZnQ6IDEwcHg7XG4gIG92ZXJmbG93OiBzY3JvbGw7XG4gIHdpZHRoOiA0MDBweDtcbiAgaGVpZ2h0OiAyNTBweDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuOTUpOyB9XG4gIC5kZWJ1Z1BhbmVsIC5jbG9zZUJ1dHRvbiB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMTBweDtcbiAgICByaWdodDogNXB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBjb2xvcjogd2hpdGU7IH1cbiAgICAuZGVidWdQYW5lbCAuY2xvc2VCdXR0b246aG92ZXIge1xuICAgICAgb3BhY2l0eTogLjg7IH1cbiAgLmRlYnVnUGFuZWwgLmluZm9Db250YWluZXIge1xuICAgIGZvbnQtc2l6ZTogOHB4O1xuICAgIGxpbmUtaGVpZ2h0OiA4cHg7XG4gICAgbWFyZ2luOiA1cHg7XG4gICAgcGFkZGluZzogNXB4O1xuICAgIGNvbG9yOiB3aGl0ZTsgfVxuICAgIC5kZWJ1Z1BhbmVsIC5pbmZvQ29udGFpbmVyIC5zdHJpbmcge1xuICAgICAgY29sb3I6IGdyZWVuOyB9XG4gICAgLmRlYnVnUGFuZWwgLmluZm9Db250YWluZXIgLm51bWJlciB7XG4gICAgICBjb2xvcjogZGFya29yYW5nZTsgfVxuICAgIC5kZWJ1Z1BhbmVsIC5pbmZvQ29udGFpbmVyIC5ib29sZWFuIHtcbiAgICAgIGNvbG9yOiBibHVlOyB9XG4gICAgLmRlYnVnUGFuZWwgLmluZm9Db250YWluZXIgLm51bGwge1xuICAgICAgY29sb3I6IG1hZ2VudGE7IH1cbiAgICAuZGVidWdQYW5lbCAuaW5mb0NvbnRhaW5lciAua2V5IHtcbiAgICAgIGNvbG9yOiB3aGl0ZTsgfVxuIl19 */');var Ke=function(t){function e(e){var n=t.call(this)||this,i=e.callbacks;return n._callbacks=i,n._initDOM(),n._bindEvents(),n}return o(e,t),e.prototype._initDOM=function(){var t;this._$rootElement=jt('<div class="'+(t={styles:this.styleNames}).styles.debugPanel+'" data-playable-component> <div class="'+t.styles.closeButton+'" data-playable-hook="debug-panel-close-button" > x </div> <pre class="'+t.styles.infoContainer+'" data-playable-hook="debug-panel-info-container" > </pre></div>'),this._$closeButton=ze(this._$rootElement,"debug-panel-close-button"),this._$infoContainer=ze(this._$rootElement,"debug-panel-info-container")},e.prototype._bindEvents=function(){this._$closeButton.addEventListener("click",this._callbacks.onCloseButtonClick)},e.prototype._unbindEvents=function(){this._$closeButton.removeEventListener("click",this._callbacks.onCloseButtonClick)},e.prototype.show=function(){$e(this._$rootElement,this.styleNames.hidden,!1)},e.prototype.hide=function(){$e(this._$rootElement,this.styleNames.hidden,!0)},e.prototype.setInfo=function(t){var e,n;this._$infoContainer.innerHTML=(e=JSON.stringify(t,void 0,4),n=this.styleNames,(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(t){var e=n.number;return/^"/.test(t)?e=/:$/.test(t)?n.key:n.string:/true|false/.test(t)?e=n.boolean:/null/.test(t)&&(e=n.null),'<span class="'+e+'">'+t+"</span>"})))},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._unbindEvents(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null,this._$closeButton=null,this._$infoContainer=null},e}($t);Ke.extendStyleNames({controlButton:"debug-panel__controlButton___pG-WY",hidden:"debug-panel__hidden___1TRHR",debugPanel:"debug-panel__debugPanel___116IW",closeButton:"debug-panel__closeButton___claHV",infoContainer:"debug-panel__infoContainer___-AZH_",string:"debug-panel__string___1Jfzp",number:"debug-panel__number___2WdLF",boolean:"debug-panel__boolean___CpohN",null:"debug-panel__null___2ZOuz",key:"debug-panel__key___4avak"});var qe,tn=function(){function t(t){var e=t.engine,n=t.rootContainer,i=t.keyboardControl;this._engine=e,this._bindCallbacks(),this._initUI(),this.hide(),n.appendComponentElement(this.getElement()),i.addKeyControl(je,this._keyControlCallback)}return t.prototype._keyControlCallback=function(t){t.ctrlKey&&t.shiftKey&&this.show()},t.prototype.getElement=function(){return this.view.getElement()},t.prototype._initUI=function(){this.view=new Ke({callbacks:{onCloseButtonClick:this.hide}})},t.prototype._bindCallbacks=function(){this.updateInfo=this.updateInfo.bind(this),this.hide=this.hide.bind(this),this._keyControlCallback=this._keyControlCallback.bind(this)},t.prototype.getDebugInfo=function(){var t=this._engine.getDebugInfo();if("html5video"===t.output){var n=t,i=n.url,o=n.type,r=n.deliveryPriority,a=n.currentBitrate,s=n.overallBufferLength,l=n.nearestBufferSegInfo,c=n.viewDimensions,u=n.currentTime,d=n.duration,p=n.loadingStateTimestamps,h=n.bitrates,_=n.bwEstimate,g=n.output;return{url:i,type:o,deliveryPriority:e.MEDIA_STREAM_DELIVERY_PRIORITY[r],currentBitrate:a,overallBufferLength:s,nearestBufferSegInfo:l,viewDimensions:c,currentTime:u,duration:d,loadingStateTimestamps:p,bitrates:h,bwEstimate:_,output:g}}return t},t.prototype.updateInfo=function(){this.view.setInfo(this.getDebugInfo())},t.prototype.setUpdateInterval=function(){this.clearUpdateInterval(),this._interval=window.setInterval(this.updateInfo,1e3)},t.prototype.clearUpdateInterval=function(){window.clearInterval(this._interval)},t.prototype.show=function(){this.isHidden&&(this.updateInfo(),this.setUpdateInterval(),this.view.show(),this.isHidden=!1)},t.prototype.hide=function(){this.isHidden||(this.clearUpdateInterval(),this.view.hide(),this.isHidden=!0)},t.prototype.destroy=function(){this.clearUpdateInterval(),this.view.destroy()},t.moduleName="debugPanel",t.View=Ke,t.dependencies=["engine","rootContainer","keyboardControl"],t}();(qe=e.VIDEO_VIEW_MODES||(e.VIDEO_VIEW_MODES={})).REGULAR="REGULAR",qe.BLUR="BLUR",qe.FILL="FILL",Kt(".screen__screen___3BN2N {\n  position: absolute;\n  z-index: 50;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n  .screen__screen___3BN2N.screen__regularMode___1Bv69 video, .screen__screen___3BN2N.screen__blurMode___Zianj video {\n    width: 100%;\n    height: 100%; }\n  .screen__screen___3BN2N.screen__fillMode___rToyv video {\n    position: absolute; }\n  .screen__screen___3BN2N.screen__verticalStripes___1tr7O.screen__fillMode___rToyv video {\n    width: 100%;\n    height: auto !important; }\n  .screen__screen___3BN2N.screen__horizontalStripes___1yh9M.screen__fillMode___rToyv video {\n    height: 100%; }\n  .screen__screen___3BN2N video {\n    position: relative;\n    z-index: 1;\n    -webkit-box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2); }\n  .screen__screen___3BN2N.screen__hiddenCursor___3-TwW {\n    cursor: none; }\n  .screen__backgroundCanvas___1PHZh {\n  position: absolute;\n  z-index: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  -webkit-filter: blur(14px);\n          filter: blur(14px); }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmVlbi5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixPQUFPO0VBQ1AsU0FBUztFQUNULFVBQVU7RUFDVixRQUFRO0VBQ1IscUJBQWM7RUFBZCxxQkFBYztFQUFkLGNBQWM7RUFDZCw2QkFBdUI7RUFBdkIsOEJBQXVCO01BQXZCLDJCQUF1QjtVQUF2Qix1QkFBdUI7RUFDdkIsWUFBWTtFQUNaLGFBQWE7RUFDYix3QkFBd0I7RUFDeEIseUJBQXdCO01BQXhCLHNCQUF3QjtVQUF4Qix3QkFBd0I7RUFDeEIsMEJBQW9CO01BQXBCLHVCQUFvQjtVQUFwQixvQkFBb0IsRUFBRTtFQUN0QjtJQUNFLFlBQVk7SUFDWixhQUFhLEVBQUU7RUFDakI7SUFDRSxtQkFBbUIsRUFBRTtFQUN2QjtJQUNFLFlBQVk7SUFDWix3QkFBd0IsRUFBRTtFQUM1QjtJQUNFLGFBQWEsRUFBRTtFQUNqQjtJQUNFLG1CQUFtQjtJQUNuQixXQUFXO0lBQ1gsZ0RBQXdDO1lBQXhDLHdDQUF3QyxFQUFFO0VBQzVDO0lBQ0UsYUFBYSxFQUFFO0VBRW5CO0VBQ0UsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxPQUFPO0VBQ1AsU0FBUztFQUNULFVBQVU7RUFDVixRQUFRO0VBQ1IsMkJBQW1CO1VBQW5CLG1CQUFtQixFQUFFIiwiZmlsZSI6InNjcmVlbi5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNjcmVlbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogNTA7XG4gIHRvcDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogMDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyOyB9XG4gIC5zY3JlZW4ucmVndWxhck1vZGUgdmlkZW8sIC5zY3JlZW4uYmx1ck1vZGUgdmlkZW8ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTsgfVxuICAuc2NyZWVuLmZpbGxNb2RlIHZpZGVvIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IH1cbiAgLnNjcmVlbi52ZXJ0aWNhbFN0cmlwZXMuZmlsbE1vZGUgdmlkZW8ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50OyB9XG4gIC5zY3JlZW4uaG9yaXpvbnRhbFN0cmlwZXMuZmlsbE1vZGUgdmlkZW8ge1xuICAgIGhlaWdodDogMTAwJTsgfVxuICAuc2NyZWVuIHZpZGVvIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTtcbiAgICBib3gtc2hhZG93OiAwIDAgMjBweCByZ2JhKDAsIDAsIDAsIDAuMik7IH1cbiAgLnNjcmVlbi5oaWRkZW5DdXJzb3Ige1xuICAgIGN1cnNvcjogbm9uZTsgfVxuXG4uYmFja2dyb3VuZENhbnZhcyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogMDtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICBmaWx0ZXI6IGJsdXIoMTRweCk7IH1cbiJdfQ== */");var en=function(t){function n(n){var i,o=t.call(this)||this,r=n.callbacks,a=n.nativeControls,s=n.playbackViewElement;return o._callbacks=r,o._styleNamesByViewMode=((i={})[e.VIDEO_VIEW_MODES.REGULAR]=o.styleNames.regularMode,i[e.VIDEO_VIEW_MODES.BLUR]=o.styleNames.blurMode,i[e.VIDEO_VIEW_MODES.FILL]=o.styleNames.fillMode,i),o._bindCallbacks(),a&&s.setAttribute("controls","true"),o._initDOM(s),o._bindEvents(),o.setViewMode(e.VIDEO_VIEW_MODES.REGULAR),o}return o(n,t),n.prototype._bindCallbacks=function(){this._updateBackground=this._updateBackground.bind(this)},n.prototype._initDOM=function(t){var e;this._$rootElement=jt('<div class="'+(e={styles:this.styleNames}).styles.screen+'" data-playable-hook="screen-block" data-playable-component> <canvas class="'+e.styles.backgroundCanvas+'" data-playable-hook="background-canvas"/></div>'),this._$playbackElement=t,this._$rootElement.appendChild(t),this._$canvas=ze(this._$rootElement,"background-canvas")},n.prototype._bindEvents=function(){this._$rootElement.addEventListener("click",this._callbacks.onWrapperMouseClick),this._$rootElement.addEventListener("dblclick",this._callbacks.onWrapperMouseDblClick)},n.prototype._unbindEvents=function(){this._$rootElement.removeEventListener("click",this._callbacks.onWrapperMouseClick),this._$rootElement.removeEventListener("dblclick",this._callbacks.onWrapperMouseDblClick)},n.prototype.focusOnNode=function(){this._$rootElement.focus()},n.prototype.show=function(){$e(this._$rootElement,this.styleNames.hidden,!1)},n.prototype.hide=function(){$e(this._$rootElement,this.styleNames.hidden,!0)},n.prototype.getElement=function(){return this._$rootElement},n.prototype.hideCursor=function(){$e(this._$rootElement,this.styleNames.hiddenCursor,!0)},n.prototype.showCursor=function(){$e(this._$rootElement,this.styleNames.hiddenCursor,!1)},n.prototype.setViewMode=function(t){var n=this;this._styleNamesByViewMode[t]&&(this.resetBackground(),Object.keys(this._styleNamesByViewMode).forEach((function(t){$e(n._$rootElement,n._styleNamesByViewMode[t],!1)})),$e(this._$rootElement,this._styleNamesByViewMode[t],!0),t===e.VIDEO_VIEW_MODES.BLUR?this._startUpdatingBackground():this._stopUpdatingBackground(),this._currentMode=t)},n.prototype.setBackgroundSize=function(t,e){this.setBackgroundWidth(t),this.setBackgroundHeight(e)},n.prototype.setBackgroundWidth=function(t){this._$canvas.width=t},n.prototype.setBackgroundHeight=function(t){this._$canvas.height=t},n.prototype._startUpdatingBackground=function(){this._requestAnimationFrameID||this._updateBackground()},n.prototype._stopUpdatingBackground=function(){this._requestAnimationFrameID&&(cancelAnimationFrame(this._requestAnimationFrameID),this._requestAnimationFrameID=null)},n.prototype.resetAspectRatio=function(){var t=this._$playbackElement,e=t.videoWidth,n=t.videoHeight,i=this._$rootElement.getBoundingClientRect(),o=i.width,r=i.height;this._isHorizontalStripes=o/r<(n?e/n:0),$e(this._$rootElement,this.styleNames.horizontalStripes,this._isHorizontalStripes),$e(this._$rootElement,this.styleNames.verticalStripes,!this._isHorizontalStripes)},n.prototype.resetBackground=function(){this._currentMode===e.VIDEO_VIEW_MODES.BLUR&&this._clearBackground()},n.prototype._getSourceAreas=function(t,e){return this._isHorizontalStripes?[[0,0,t,1],[0,e-1,t,1]]:[[0,0,1,e],[t-1,0,1,e]]},n.prototype._getCanvasAreas=function(t,e){return this._isHorizontalStripes?[[0,0,t,e/2],[0,e/2,t,e/2]]:[[0,0,t/2,e],[t/2,0,t/2,e]]},n.prototype._drawAreaFromSource=function(t,e){var n=t[0],i=t[1],o=t[2],r=t[3],a=e[0],s=e[1],l=e[2],c=e[3];this._$canvas.getContext("2d").drawImage(this._$playbackElement,n,i,o,r,a,s,l,c)},n.prototype._drawBackground=function(){var t=this._$playbackElement,e=t.videoWidth,n=t.videoHeight,i=this._$canvas.width,o=this._$canvas.height,r=this._getSourceAreas(e,n),a=this._getCanvasAreas(i,o);this._drawAreaFromSource(r[0],a[0]),this._drawAreaFromSource(r[1],a[1])},n.prototype._updateBackground=function(){this._drawBackground(),this._requestAnimationFrameID=requestAnimationFrame(this._updateBackground)},n.prototype._clearBackground=function(){this._$canvas.getContext("2d").clearRect(0,0,this._$canvas.width,this._$canvas.height)},n.prototype.destroy=function(){this._stopUpdatingBackground(),this._unbindEvents(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null,this._$playbackElement=null,this._$canvas=null},n}($t);en.extendStyleNames({screen:"screen__screen___3BN2N",regularMode:"screen__regularMode___1Bv69",blurMode:"screen__blurMode___Zianj",fillMode:"screen__fillMode___rToyv",verticalStripes:"screen__verticalStripes___1tr7O",horizontalStripes:"screen__horizontalStripes___1yh9M",hiddenCursor:"screen__hiddenCursor___3-TwW",backgroundCanvas:"screen__backgroundCanvas___1PHZh"});var nn=function(){function t(t){var e=t.config,n=t.eventEmitter,i=t.engine,o=t.fullScreenManager,r=t.interactionIndicator,a=t.rootContainer;this._eventEmitter=n,this._engine=i,this._fullScreenManager=o,this._interactionIndicator=r,this.isHidden=!1,this._delayedToggleVideoPlaybackTimeout=null,this._isClickProcessingDisabled=Boolean(e.disableControlWithClickOnPlayer),this._bindCallbacks(),this._initUI(e.nativeBrowserControls),this._bindEvents(),a.appendComponentElement(this.getElement())}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._bindCallbacks=function(){this._processClick=this._processClick.bind(this),this._processDblClick=this._processDblClick.bind(this),this._toggleVideoPlayback=this._toggleVideoPlayback.bind(this)},t.prototype._initUI=function(t){var e={nativeControls:t,callbacks:{onWrapperMouseClick:this._processClick,onWrapperMouseDblClick:this._processDblClick},playbackViewElement:this._engine.getElement()};this.view=new en(e)},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Tt.PLAY_OVERLAY_CLICK,this.view.focusOnNode,this.view],[Tt.RESIZE,this._updateSizes],[Yt.SRC_SET,this.view.resetBackground,this.view],[Yt.METADATA_LOADED,this.view.resetAspectRatio,this.view]],this)},t.prototype._updateSizes=function(t){var e=t.width,n=t.height;this.view.setBackgroundSize(e,n),this.view.resetAspectRatio()},t.prototype.showCursor=function(){this.view.showCursor()},t.prototype.hideCursor=function(){this.view.hideCursor()},t.prototype._processClick=function(){this._isClickProcessingDisabled||(this._showPlaybackChangeIndicator(),this._fullScreenManager.isEnabled?this._setDelayedPlaybackToggle():this._toggleVideoPlayback())},t.prototype._processDblClick=function(){this._isClickProcessingDisabled||this._fullScreenManager.isEnabled&&(this._isDelayedPlaybackToggleExist&&(this._clearDelayedPlaybackToggle(),this._hideDelayedPlaybackChangeIndicator()),this._toggleFullScreen())},t.prototype._showPlaybackChangeIndicator=function(){var t=this._engine.getCurrentState();t===Yt.PLAY_REQUESTED||t===Yt.PLAYING?this._interactionIndicator.showPause():this._interactionIndicator.showPlay()},t.prototype._hideDelayedPlaybackChangeIndicator=function(){this._interactionIndicator.hideIcons()},t.prototype._setDelayedPlaybackToggle=function(){this._clearDelayedPlaybackToggle(),this._delayedToggleVideoPlaybackTimeout=window.setTimeout(this._toggleVideoPlayback,300)},t.prototype._clearDelayedPlaybackToggle=function(){window.clearTimeout(this._delayedToggleVideoPlaybackTimeout),this._delayedToggleVideoPlaybackTimeout=null},Object.defineProperty(t.prototype,"_isDelayedPlaybackToggleExist",{get:function(){return Boolean(this._delayedToggleVideoPlaybackTimeout)},enumerable:!0,configurable:!0}),t.prototype._toggleVideoPlayback=function(){this._clearDelayedPlaybackToggle();var t=this._engine.getCurrentState();t===Yt.PLAY_REQUESTED||t===Yt.PLAYING?(this._engine.pause(),this._eventEmitter.emitAsync(Tt.PAUSE_WITH_SCREEN_CLICK)):(this._engine.play(),this._eventEmitter.emitAsync(Tt.PLAY_WITH_SCREEN_CLICK))},t.prototype._toggleFullScreen=function(){this._fullScreenManager.isInFullScreen?(this._fullScreenManager.exitFullScreen(),this._eventEmitter.emitAsync(Tt.EXIT_FULL_SCREEN_WITH_SCREEN_CLICK)):(this._fullScreenManager.enterFullScreen(),this._eventEmitter.emitAsync(Tt.ENTER_FULL_SCREEN_WITH_SCREEN_CLICK))},t.prototype.hide=function(){this.isHidden||(this.view.hide(),this.isHidden=!0)},t.prototype.show=function(){this.isHidden&&(this.view.show(),this.isHidden=!1)},t.prototype.setVideoViewMode=function(t){this.view.setViewMode(t)},t.prototype.destroy=function(){this._unbindEvents(),this._clearDelayedPlaybackToggle(),this.view.destroy()},t.moduleName="screen",t.View=en,t.dependencies=["engine","eventEmitter","config","fullScreenManager","interactionIndicator","rootContainer"],a([S()],t.prototype,"setVideoViewMode",null),t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.interaction-indicator__controlButton___2Y9N6 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.interaction-indicator__controlButton___2Y9N6:hover {\n    opacity: .7; }\n.interaction-indicator__hidden___2uTS- {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.interaction-indicator__iconContainer___2r3Wb {\n  position: absolute;\n  z-index: 100;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  pointer-events: none;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.interaction-indicator__iconContainer___2r3Wb .interaction-indicator__icon___1pjM4 {\n    font-size: 9px;\n    line-height: 9px;\n    position: relative;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-animation-name: interaction-indicator__fadeOut___P6kY6;\n            animation-name: interaction-indicator__fadeOut___P6kY6;\n    -webkit-animation-duration: .5s;\n            animation-duration: .5s;\n    opacity: 0;\n    border-radius: 100px;\n    background-color: rgba(0, 0, 0, 0.5);\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center; }\n.interaction-indicator__iconContainer___2r3Wb .interaction-indicator__animatedIcon___3cK8N {\n    -webkit-animation-name: interaction-indicator__iconSize___IYB2z;\n            animation-name: interaction-indicator__iconSize___IYB2z;\n    -webkit-animation-duration: .5s;\n            animation-duration: .5s; }\n.interaction-indicator__iconContainer___2r3Wb .interaction-indicator__playIcon___1XtXN {\n    position: relative;\n    left: 3px; }\n.interaction-indicator__iconContainer___2r3Wb .interaction-indicator__pauseIcon___qH2VX {\n    margin: 5px 0; }\n.interaction-indicator__iconContainer___2r3Wb .interaction-indicator__seconds___2TlaJ {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    min-width: 5px;\n    min-height: 8px;\n    color: white;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center; }\n.interaction-indicator__iconContainer___2r3Wb .interaction-indicator__seconds___2TlaJ span {\n      display: block; }\n@-webkit-keyframes interaction-indicator__iconSize___IYB2z {\n  from {\n    width: 22px;\n    height: 22px; }\n  to {\n    width: 30px;\n    height: 30px; } }\n@keyframes interaction-indicator__iconSize___IYB2z {\n  from {\n    width: 22px;\n    height: 22px; }\n  to {\n    width: 30px;\n    height: 30px; } }\n@-webkit-keyframes interaction-indicator__fadeOut___P6kY6 {\n  from {\n    width: 22px;\n    height: 22px;\n    padding: 19px;\n    opacity: .9; }\n  to {\n    font-size: 14px;\n    line-height: 14px;\n    width: 30px;\n    height: 30px;\n    padding: 25px;\n    opacity: 0; } }\n@keyframes interaction-indicator__fadeOut___P6kY6 {\n  from {\n    width: 22px;\n    height: 22px;\n    padding: 19px;\n    opacity: .9; }\n  to {\n    font-size: 14px;\n    line-height: 14px;\n    width: 30px;\n    height: 30px;\n    padding: 25px;\n    opacity: 0; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludGVyYWN0aW9uLWluZGljYXRvci5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztHQUtHO0FBQ0g7RUFDRSxxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsaUNBQXlCO1VBQXpCLHlCQUF5QjtFQUN6QixxQ0FBNkI7RUFBN0IsNkJBQTZCO0VBQzdCLFdBQVc7RUFDWCxVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCw4QkFBOEI7RUFDOUIseUJBQXdCO01BQXhCLHNCQUF3QjtVQUF4Qix3QkFBd0I7RUFDeEIsMEJBQW9CO01BQXBCLHVCQUFvQjtVQUFwQixvQkFBb0IsRUFBRTtBQUN0QjtJQUNFLFlBQVksRUFBRTtBQUVsQjtFQUNFLDhCQUE4QjtFQUM5QixvQkFBb0I7RUFDcEIsd0JBQXdCO0VBQ3hCLHFCQUFxQjtFQUNyQix5QkFBeUI7RUFDekIscUJBQXFCO0VBQ3JCLHNCQUFzQjtFQUN0QixzQkFBc0IsRUFBRTtBQUUxQjtFQUNFLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsT0FBTztFQUNQLFNBQVM7RUFDVCxVQUFVO0VBQ1YsUUFBUTtFQUNSLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QscUJBQXFCO0VBQ3JCLHlCQUF3QjtNQUF4QixzQkFBd0I7VUFBeEIsd0JBQXdCO0VBQ3hCLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CLEVBQUU7QUFDdEI7SUFDRSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLG1CQUFtQjtJQUNuQixxQkFBYztJQUFkLHFCQUFjO0lBQWQsY0FBYztJQUNkLCtEQUF3QjtZQUF4Qix1REFBd0I7SUFDeEIsZ0NBQXdCO1lBQXhCLHdCQUF3QjtJQUN4QixXQUFXO0lBQ1gscUJBQXFCO0lBQ3JCLHFDQUFxQztJQUNyQyx5QkFBd0I7UUFBeEIsc0JBQXdCO1lBQXhCLHdCQUF3QjtJQUN4QiwwQkFBb0I7UUFBcEIsdUJBQW9CO1lBQXBCLG9CQUFvQixFQUFFO0FBQ3hCO0lBQ0UsZ0VBQXlCO1lBQXpCLHdEQUF5QjtJQUN6QixnQ0FBd0I7WUFBeEIsd0JBQXdCLEVBQUU7QUFDNUI7SUFDRSxtQkFBbUI7SUFDbkIsVUFBVSxFQUFFO0FBQ2Q7SUFDRSxjQUFjLEVBQUU7QUFDbEI7SUFDRSxtQkFBbUI7SUFDbkIsT0FBTztJQUNQLFNBQVM7SUFDVCxVQUFVO0lBQ1YsUUFBUTtJQUNSLHFCQUFjO0lBQWQscUJBQWM7SUFBZCxjQUFjO0lBQ2QsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IseUJBQXdCO1FBQXhCLHNCQUF3QjtZQUF4Qix3QkFBd0I7SUFDeEIsMEJBQW9CO1FBQXBCLHVCQUFvQjtZQUFwQixvQkFBb0IsRUFBRTtBQUN0QjtNQUNFLGVBQWUsRUFBRTtBQUV2QjtFQUNFO0lBQ0UsWUFBWTtJQUNaLGFBQWEsRUFBRTtFQUNqQjtJQUNFLFlBQVk7SUFDWixhQUFhLEVBQUUsRUFBRTtBQU5yQjtFQUNFO0lBQ0UsWUFBWTtJQUNaLGFBQWEsRUFBRTtFQUNqQjtJQUNFLFlBQVk7SUFDWixhQUFhLEVBQUUsRUFBRTtBQUVyQjtFQUNFO0lBQ0UsWUFBWTtJQUNaLGFBQWE7SUFDYixjQUFjO0lBQ2QsWUFBWSxFQUFFO0VBQ2hCO0lBQ0UsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osYUFBYTtJQUNiLGNBQWM7SUFDZCxXQUFXLEVBQUUsRUFBRTtBQVpuQjtFQUNFO0lBQ0UsWUFBWTtJQUNaLGFBQWE7SUFDYixjQUFjO0lBQ2QsWUFBWSxFQUFFO0VBQ2hCO0lBQ0UsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osYUFBYTtJQUNiLGNBQWM7SUFDZCxXQUFXLEVBQUUsRUFBRSIsImZpbGUiOiJpbnRlcmFjdGlvbi1pbmRpY2F0b3Iuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLmNvbnRyb2xCdXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmNvbnRyb2xCdXR0b246aG92ZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5oaWRkZW4ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAgIWltcG9ydGFudDsgfVxuXG4uaWNvbkNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogMTAwO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxuICAuaWNvbkNvbnRhaW5lciAuaWNvbiB7XG4gICAgZm9udC1zaXplOiA5cHg7XG4gICAgbGluZS1oZWlnaHQ6IDlweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbmltYXRpb24tbmFtZTogZmFkZU91dDtcbiAgICBhbmltYXRpb24tZHVyYXRpb246IC41cztcbiAgICBvcGFjaXR5OiAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDEwMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyOyB9XG4gIC5pY29uQ29udGFpbmVyIC5hbmltYXRlZEljb24ge1xuICAgIGFuaW1hdGlvbi1uYW1lOiBpY29uU2l6ZTtcbiAgICBhbmltYXRpb24tZHVyYXRpb246IC41czsgfVxuICAuaWNvbkNvbnRhaW5lciAucGxheUljb24ge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBsZWZ0OiAzcHg7IH1cbiAgLmljb25Db250YWluZXIgLnBhdXNlSWNvbiB7XG4gICAgbWFyZ2luOiA1cHggMDsgfVxuICAuaWNvbkNvbnRhaW5lciAuc2Vjb25kcyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1pbi13aWR0aDogNXB4O1xuICAgIG1pbi1oZWlnaHQ6IDhweDtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxuICAgIC5pY29uQ29udGFpbmVyIC5zZWNvbmRzIHNwYW4ge1xuICAgICAgZGlzcGxheTogYmxvY2s7IH1cblxuQGtleWZyYW1lcyBpY29uU2l6ZSB7XG4gIGZyb20ge1xuICAgIHdpZHRoOiAyMnB4O1xuICAgIGhlaWdodDogMjJweDsgfVxuICB0byB7XG4gICAgd2lkdGg6IDMwcHg7XG4gICAgaGVpZ2h0OiAzMHB4OyB9IH1cblxuQGtleWZyYW1lcyBmYWRlT3V0IHtcbiAgZnJvbSB7XG4gICAgd2lkdGg6IDIycHg7XG4gICAgaGVpZ2h0OiAyMnB4O1xuICAgIHBhZGRpbmc6IDE5cHg7XG4gICAgb3BhY2l0eTogLjk7IH1cbiAgdG8ge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBsaW5lLWhlaWdodDogMTRweDtcbiAgICB3aWR0aDogMzBweDtcbiAgICBoZWlnaHQ6IDMwcHg7XG4gICAgcGFkZGluZzogMjVweDtcbiAgICBvcGFjaXR5OiAwOyB9IH1cbiJdfQ== */');var on=function(t){function e(){var e=t.call(this)||this;return e._$rootElement=jt('<div class="'+e.styleNames.iconContainer+'" data-playable-component></div>'),e._playIcon=function(t){return'<div class="'+t.styles.icon+'"> <svg class="'+t.styles.playIcon+" "+t.styles.animatedIcon+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 14"> <path fill="#FFF" fill-rule="evenodd" d="M.079 0L0 14l10.5-7.181z"/> </svg></div>'}({styles:e.styleNames}),e._pauseIcon=function(t){return'<div class="'+t.styles.icon+'"> <svg class="'+t.styles.pauseIcon+" "+t.styles.animatedIcon+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14"> <path fill="#FFF" fill-rule="evenodd" d="M7 0h3v14H7V0zM0 0h3v14H0V0z"/> </svg></div>'}({styles:e.styleNames}),e._forwardIcon=function(t){return'<div class="'+t.styles.icon+'"> <div class="'+t.styles.seconds+'"> <span>'+t.texts.SECONDS_COUNT+'</span> </div> <svg class="'+t.styles.animatedIcon+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 34"> <path fill="#FFF" fill-rule="evenodd" d="M17 0c4.59 0 8.84 1.87 11.9 4.93V1.7h3.4v10.2H22.1V8.5h5.44C24.99 5.27 21.25 3.4 17 3.4 9.52 3.4 3.4 9.52 3.4 17c0 7.48 6.12 13.6 13.6 13.6 7.48 0 13.6-6.12 13.6-13.6H34c0 9.35-7.65 17-17 17S0 26.35 0 17 7.65 0 17 0z"/> </svg></div>'}({texts:{SECONDS_COUNT:5},styles:e.styleNames}),e._rewindIcon=function(t){return'<div class="'+t.styles.icon+'"> <div class="'+t.styles.seconds+'"> <span>'+t.texts.SECONDS_COUNT+'</span> </div> <svg class="'+t.styles.animatedIcon+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 34"> <path fill="#FFF" fill-rule="evenodd" d="M17 0C12.41 0 8.16 1.87 5.1 4.93V1.7H1.7v10.2h10.2V8.5H6.46C9.01 5.27 12.75 3.4 17 3.4c7.48 0 13.6 6.12 13.6 13.6 0 7.48-6.12 13.6-13.6 13.6-7.48 0-13.6-6.12-13.6-13.6H0c0 9.35 7.65 17 17 17s17-7.65 17-17S26.35 0 17 0z"/> </svg></div>'}({texts:{SECONDS_COUNT:5},styles:e.styleNames}),e._increaseVolumeIcon=function(t){return'<div class="'+t.styles.icon+'"> <svg class="'+t.styles.animatedIcon+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 14"> <g fill="none" fill-rule="evenodd"> <path fill="#FFF" d="M0 3.919h2.993v5.97H0V3.92zm2.995-.015L7 .924v12L2.995 9.882v-5.98z"/> <path stroke="#FFF" d="M12.793 13.716a9.607 9.607 0 0 0 0-13.586M9.853 10.837a5.45 5.45 0 0 0 0-7.707"/> </g> </svg></div>'}({styles:e.styleNames}),e._decreaseVolumeIcon=function(t){return'<div class="'+t.styles.icon+'"> <svg class="'+t.styles.animatedIcon+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 14"> <g fill="none" fill-rule="evenodd"> <path fill="#FFF" d="M0 3.919h2.993v5.97H0V3.92zm2.995-.015L7 .924v12L2.995 9.882v-5.98z"/> <path stroke="#FFF" d="M9.853 10.837a5.45 5.45 0 0 0 0-7.707"/> </g> </svg></div>'}({styles:e.styleNames}),e._muteIcon=function(t){return'<div class="'+t.styles.icon+'"> <svg class="'+t.styles.animatedIcon+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 14"> <g fill="#FFF" fill-rule="evenodd"> <path fill="#FFF" d="M0 3.919h2.993v5.97H0V3.92zm2.995-.015L7 .924v12L2.995 9.882v-5.98z"/> <path stroke="#FFF" d="M13 6.257l-2.05-2.05-.743.743L12.257 7l-2.05 2.05.743.743L13 7.743l2.05 2.05.743-.743L13.743 7l2.05-2.05-.743-.743L13 6.257z"/> </g> </svg></div>'}({styles:e.styleNames}),e}return o(e,t),e.prototype.activatePlayIcon=function(){this._$rootElement.innerHTML=this._playIcon},e.prototype.activatePauseIcon=function(){this._$rootElement.innerHTML=this._pauseIcon},e.prototype.activateForwardIcon=function(){this._$rootElement.innerHTML=this._forwardIcon},e.prototype.activateRewindIcon=function(){this._$rootElement.innerHTML=this._rewindIcon},e.prototype.activateIncreaseVolumeIcon=function(){this._$rootElement.innerHTML=this._increaseVolumeIcon},e.prototype.activateDecreaseVolumeIcon=function(){this._$rootElement.innerHTML=this._decreaseVolumeIcon},e.prototype.activateMuteVolumeIcon=function(){this._$rootElement.innerHTML=this._muteIcon},e.prototype.deactivateIcon=function(){this._$rootElement.innerHTML=""},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null},e}($t);on.extendStyleNames({controlButton:"interaction-indicator__controlButton___2Y9N6",hidden:"interaction-indicator__hidden___2uTS-",iconContainer:"interaction-indicator__iconContainer___2r3Wb",icon:"interaction-indicator__icon___1pjM4",fadeOut:"interaction-indicator__fadeOut___P6kY6",animatedIcon:"interaction-indicator__animatedIcon___3cK8N",iconSize:"interaction-indicator__iconSize___IYB2z",playIcon:"interaction-indicator__playIcon___1XtXN",pauseIcon:"interaction-indicator__pauseIcon___qH2VX",seconds:"interaction-indicator__seconds___2TlaJ"});var rn=function(){function t(t){var e=t.eventEmitter,n=t.engine,i=t.config,o=t.rootContainer;this._eventEmitter=e,this._engine=n,this._initUI(),this._bindEvents(),o.appendComponentElement(this.getElement()),i.hideMainUI&&this.hide()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._initUI=function(){this.view=new on},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Tt.TOGGLE_PLAYBACK_WITH_KEYBOARD,this._showPlaybackChangeIndicator],[Tt.GO_BACKWARD_WITH_KEYBOARD,this.showRewind],[Tt.GO_FORWARD_WITH_KEYBOARD,this.showForward],[Tt.INCREASE_VOLUME_WITH_KEYBOARD,this.showIncreaseVolume],[Tt.DECREASE_VOLUME_WITH_KEYBOARD,this.showDecreaseVolume],[Tt.MUTE_WITH_KEYBOARD,this.showMute],[Tt.UNMUTE_WITH_KEYBOARD,this.showIncreaseVolume]],this)},t.prototype.showPause=function(){this.view.activatePauseIcon()},t.prototype.showPlay=function(){this.view.activatePlayIcon()},t.prototype.showRewind=function(){this.view.activateRewindIcon()},t.prototype.showForward=function(){this.view.activateForwardIcon()},t.prototype.showMute=function(){this.view.activateMuteVolumeIcon()},t.prototype.showIncreaseVolume=function(){this.view.activateIncreaseVolumeIcon()},t.prototype.showDecreaseVolume=function(){this.view.activateDecreaseVolumeIcon()},t.prototype.hideIcons=function(){this.view.deactivateIcon(),this._eventEmitter.emitAsync(Tt.HIDE_INTERACTION_INDICATOR)},t.prototype.show=function(){this.view.show()},t.prototype.hide=function(){this.view.hide()},t.prototype._showPlaybackChangeIndicator=function(){var t=this._engine.getCurrentState();t===Yt.PLAY_REQUESTED||t===Yt.PLAYING?this.view.activatePauseIcon():this.view.activatePlayIcon()},t.prototype.destroy=function(){this._unbindEvents(),this.view.destroy()},t.moduleName="interactionIndicator",t.View=on,t.dependencies=["engine","eventEmitter","config","rootContainer"],t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.overlay__controlButton___1ASmF {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.overlay__controlButton___1ASmF:hover {\n    opacity: .7; }\n.overlay__hidden___1Vt3d {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.overlay__overlay___3RC8o {\n  position: absolute;\n  z-index: 100;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: none; }\n.overlay__overlay___3RC8o.overlay__active___3k0Mi {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center; }\n.overlay__poster___1mX3C {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: black no-repeat center;\n  background-size: cover;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.overlay__poster___1mX3C:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  content: \'\';\n  background-color: rgba(0, 0, 0, 0.35); }\n.overlay__icon___3zDVy {\n  position: relative;\n  width: 71px;\n  height: 71px;\n  cursor: pointer;\n  opacity: 1; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"] .overlay__icon___3zDVy {\n    width: 54px;\n    height: 54px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="400px"] .overlay__icon___3zDVy {\n    width: 36px;\n    height: 36px; }\n.overlay__icon___3zDVy:hover {\n    opacity: .8; }\n.overlay__transparency___2CfdP {\n  background: transparent; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm92ZXJsYXkuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7R0FLRztBQUNIO0VBQ0UscUJBQWM7RUFBZCxxQkFBYztFQUFkLGNBQWM7RUFDZCxXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLGlDQUF5QjtVQUF6Qix5QkFBeUI7RUFDekIscUNBQTZCO0VBQTdCLDZCQUE2QjtFQUM3QixXQUFXO0VBQ1gsVUFBVTtFQUNWLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QsOEJBQThCO0VBQzlCLHlCQUF3QjtNQUF4QixzQkFBd0I7VUFBeEIsd0JBQXdCO0VBQ3hCLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CLEVBQUU7QUFDdEI7SUFDRSxZQUFZLEVBQUU7QUFFbEI7RUFDRSw4QkFBOEI7RUFDOUIsb0JBQW9CO0VBQ3BCLHdCQUF3QjtFQUN4QixxQkFBcUI7RUFDckIseUJBQXlCO0VBQ3pCLHFCQUFxQjtFQUNyQixzQkFBc0I7RUFDdEIsc0JBQXNCLEVBQUU7QUFFMUI7RUFDRSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLE9BQU87RUFDUCxTQUFTO0VBQ1QsVUFBVTtFQUNWLFFBQVE7RUFDUixjQUFjLEVBQUU7QUFDaEI7SUFDRSxxQkFBYztJQUFkLHFCQUFjO0lBQWQsY0FBYztJQUNkLHlCQUF3QjtRQUF4QixzQkFBd0I7WUFBeEIsd0JBQXdCO0lBQ3hCLDBCQUFvQjtRQUFwQix1QkFBb0I7WUFBcEIsb0JBQW9CLEVBQUU7QUFFMUI7RUFDRSxtQkFBbUI7RUFDbkIsT0FBTztFQUNQLFNBQVM7RUFDVCxVQUFVO0VBQ1YsUUFBUTtFQUNSLFlBQVk7RUFDWixhQUFhO0VBQ2IsbUNBQW1DO0VBQ25DLHVCQUF1QjtFQUN2Qix5QkFBd0I7TUFBeEIsc0JBQXdCO1VBQXhCLHdCQUF3QjtFQUN4QiwwQkFBb0I7TUFBcEIsdUJBQW9CO1VBQXBCLG9CQUFvQixFQUFFO0FBRXhCO0VBQ0UsbUJBQW1CO0VBQ25CLE9BQU87RUFDUCxRQUFRO0VBQ1IsWUFBWTtFQUNaLGFBQWE7RUFDYixZQUFZO0VBQ1osc0NBQXNDLEVBQUU7QUFFMUM7RUFDRSxtQkFBbUI7RUFDbkIsWUFBWTtFQUNaLGFBQWE7RUFDYixnQkFBZ0I7RUFDaEIsV0FBVyxFQUFFO0FBQ2I7SUFDRSxZQUFZO0lBQ1osYUFBYSxFQUFFO0FBQ2pCO0lBQ0UsWUFBWTtJQUNaLGFBQWEsRUFBRTtBQUNqQjtJQUNFLFlBQVksRUFBRTtBQUVsQjtFQUNFLHdCQUF3QixFQUFFIiwiZmlsZSI6Im92ZXJsYXkuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLmNvbnRyb2xCdXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmNvbnRyb2xCdXR0b246aG92ZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5oaWRkZW4ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAgIWltcG9ydGFudDsgfVxuXG4ub3ZlcmxheSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogMTAwO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIGRpc3BsYXk6IG5vbmU7IH1cbiAgLm92ZXJsYXkuYWN0aXZlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cblxuLnBvc3RlciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kOiBibGFjayBuby1yZXBlYXQgY2VudGVyO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxuXG4ucG9zdGVyOmJlZm9yZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBjb250ZW50OiAnJztcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjM1KTsgfVxuXG4uaWNvbiB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDcxcHg7XG4gIGhlaWdodDogNzFweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBvcGFjaXR5OiAxOyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLW1heC13aWR0aH49XCI1NTBweFwiXSAuaWNvbiB7XG4gICAgd2lkdGg6IDU0cHg7XG4gICAgaGVpZ2h0OiA1NHB4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLW1heC13aWR0aH49XCI0MDBweFwiXSAuaWNvbiB7XG4gICAgd2lkdGg6IDM2cHg7XG4gICAgaGVpZ2h0OiAzNnB4OyB9XG4gIC5pY29uOmhvdmVyIHtcbiAgICBvcGFjaXR5OiAuODsgfVxuXG4udHJhbnNwYXJlbmN5IHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH1cbiJdfQ== */');var an=function(t){function e(e){var n=t.call(this,e.theme)||this,i=e.callbacks;return n._callbacks=i,n._initDOM(),n._bindEvents(),n}return o(e,t),e.prototype._initDOM=function(){var t;this._$rootElement=jt('<div class="'+(t={styles:this.styleNames,themeStyles:this.themeStyles}).styles.overlay+" "+t.styles.active+'" data-playable-hook="overlay" data-playable-component > <div class="'+t.styles.poster+'" data-playable-hook="overlay-content" > </div> <div class="'+t.styles.icon+'" data-playable-hook="overlay-play-button" > <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" preserveAspectRatio="xMidYMin slice" width="100%" style="padding-bottom: 100%; height: 1px; overflow: visible" > \x3c!-- padding-bottom: 100% * height/width --\x3e <g fill="none" fill-rule="evenodd" > <circle cx="18" cy="18" r="17" class="'+t.themeStyles.overlayPlaySvgStroke+'" stroke-width="2" /> <path class="'+t.themeStyles.overlayPlaySvgFill+'" d="M23.935 17.708l-10.313 6.033V11.676z" /> </g> </svg> </div></div>'),this._$content=ze(this._$rootElement,"overlay-content"),this._$playButton=ze(this._$rootElement,"overlay-play-button")},e.prototype._bindEvents=function(){this._$playButton.addEventListener("click",this._callbacks.onPlayClick)},e.prototype._unbindEvents=function(){this._$playButton.removeEventListener("click",this._callbacks.onPlayClick)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.hideContent=function(){this._$rootElement.classList.remove(this.styleNames.active)},e.prototype.showContent=function(){this._$rootElement.classList.add(this.styleNames.active)},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.setPoster=function(t){this._$content.style.backgroundImage=t?"url('"+t+"')":"none"},e.prototype.turnOnOverlayTransparency=function(){this._$content.classList.add(this.styleNames.transparency)},e.prototype.turnOffOverlayTransparency=function(){this._$content.classList.remove(this.styleNames.transparency)},e.prototype.destroy=function(){this._unbindEvents(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null,this._$content=null,this._$playButton=null},e}($t);an.setTheme({overlayPlaySvgFill:{fill:function(t){return t.color}},overlayPlaySvgStroke:{stroke:function(t){return t.color}}}),an.extendStyleNames({controlButton:"overlay__controlButton___1ASmF",hidden:"overlay__hidden___1Vt3d",overlay:"overlay__overlay___3RC8o",active:"overlay__active___3k0Mi",poster:"overlay__poster___1mX3C",icon:"overlay__icon___3zDVy",transparency:"overlay__transparency___2CfdP"});var sn=function(){function t(t){var e=t.eventEmitter,n=t.engine,i=t.rootContainer,o=t.theme,r=t.config,a=t.mainUIBlock,s=t.loader;this.isHidden=!1,this._eventEmitter=e,this._engine=n,this._theme=o,this._mainUIBlock=a,this._loader=s,this._bindEvents(),this._initUI(),this.setPoster(r.poster),r.hideOverlay&&this.hide(),i.appendComponentElement(this.getElement())}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._initUI=function(){var e={callbacks:{onPlayClick:this._playVideo.bind(this)},theme:this._theme};this.view=new t.View(e)},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Nt.STATE_CHANGED,this._updatePlayingState],[Nt.RESET,this._tryShowContent]],this)},t.prototype._updatePlayingState=function(t){var e=t.nextState;e===Yt.PLAY_REQUESTED?this._tryHideContent():e!==Yt.ENDED&&e!==Yt.SRC_SET||this._tryShowContent()},t.prototype._playVideo=function(){this._engine.play(),this._eventEmitter.emitAsync(Tt.PLAY_OVERLAY_CLICK)},t.prototype._tryShowContent=function(){this.isHidden||this._engine.isPaused&&this._showContent()},t.prototype._tryHideContent=function(){this.isHidden||this._hideContent()},t.prototype._hideContent=function(){this.view.hideContent(),this._loader.show(),this._mainUIBlock.enableShowingContent()},t.prototype._showContent=function(){this.view.showContent(),this._loader.hide(),this._mainUIBlock.disableShowingContent()},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.setPoster=function(t){this.view.setPoster(t)},t.prototype.turnOnOverlayTransparency=function(){this.view.turnOnOverlayTransparency()},t.prototype.turnOffOverlayTransparency=function(){this.view.turnOffOverlayTransparency()},t.prototype.destroy=function(){this._unbindEvents(),this.view.destroy()},t.moduleName="overlay",t.View=an,t.dependencies=["engine","eventEmitter","rootContainer","theme","config","mainUIBlock","loader"],a([S("hideOverlay")],t.prototype,"hide",null),a([S("showOverlay")],t.prototype,"show",null),a([S()],t.prototype,"setPoster",null),a([S()],t.prototype,"turnOnOverlayTransparency",null),a([S()],t.prototype,"turnOffOverlayTransparency",null),t}();Kt("/**\n * The challenge here to support \"playable queries\" and \"direction\" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.loader__controlButton___1YHb4 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.loader__controlButton___1YHb4:hover {\n    opacity: .7; }\n.loader__hidden___3MeyV {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.loader__loader___1J20N {\n  position: absolute;\n  z-index: 90;\n  top: 50%;\n  left: 50%;\n  display: none;\n  clip: rect(0, 48px, 48px, 24px);\n  width: 42px;\n  height: 42px;\n  margin-top: -21px;\n  margin-left: -21px;\n  -webkit-animation: loader__rotate___3K3Iv 1s linear infinite;\n          animation: loader__rotate___3K3Iv 1s linear infinite;\n  color: white; }\n.loader__loader___1J20N.loader__active___29tvY {\n    display: block; }\n.loader__loader___1J20N::after {\n    clip: rect(4px, 48px, 48px, 24px);\n    -webkit-animation: loader__clip___1RIdi 1s linear infinite;\n            animation: loader__clip___1RIdi 1s linear infinite;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    content: '';\n    border: 3px solid currentColor;\n    border-radius: 50%; }\n.loader__loader___1J20N::before {\n    clip: rect(0, 48px, 48px, 24px);\n    -webkit-animation: loader__clip-reverse___20o6x 1s linear infinite;\n            animation: loader__clip-reverse___20o6x 1s linear infinite;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    content: '';\n    border: 3px solid currentColor;\n    border-radius: 50%; }\n@-webkit-keyframes loader__clip___1RIdi {\n  50% {\n    clip: rect(42px, 48px, 48px, 24px);\n    -webkit-animation-timing-function: ease-in-out;\n            animation-timing-function: ease-in-out; } }\n@keyframes loader__clip___1RIdi {\n  50% {\n    clip: rect(42px, 48px, 48px, 24px);\n    -webkit-animation-timing-function: ease-in-out;\n            animation-timing-function: ease-in-out; } }\n@-webkit-keyframes loader__clip-reverse___20o6x {\n  50% {\n    clip: rect(0, 48px, 9px, 24px);\n    -webkit-transform: rotate(135deg);\n            transform: rotate(135deg);\n    -webkit-animation-timing-function: ease-in-out;\n            animation-timing-function: ease-in-out; } }\n@keyframes loader__clip-reverse___20o6x {\n  50% {\n    clip: rect(0, 48px, 9px, 24px);\n    -webkit-transform: rotate(135deg);\n            transform: rotate(135deg);\n    -webkit-animation-timing-function: ease-in-out;\n            animation-timing-function: ease-in-out; } }\n@-webkit-keyframes loader__rotate___3K3Iv {\n  from {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out; }\n  45% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n    color: white; }\n  55% {\n    -webkit-transform: rotate(54deg);\n            transform: rotate(54deg); }\n  to {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n@keyframes loader__rotate___3K3Iv {\n  from {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out; }\n  45% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n    color: white; }\n  55% {\n    -webkit-transform: rotate(54deg);\n            transform: rotate(54deg); }\n  to {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYWRlci5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztHQUtHO0FBQ0g7RUFDRSxxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsaUNBQXlCO1VBQXpCLHlCQUF5QjtFQUN6QixxQ0FBNkI7RUFBN0IsNkJBQTZCO0VBQzdCLFdBQVc7RUFDWCxVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCw4QkFBOEI7RUFDOUIseUJBQXdCO01BQXhCLHNCQUF3QjtVQUF4Qix3QkFBd0I7RUFDeEIsMEJBQW9CO01BQXBCLHVCQUFvQjtVQUFwQixvQkFBb0IsRUFBRTtBQUN0QjtJQUNFLFlBQVksRUFBRTtBQUVsQjtFQUNFLDhCQUE4QjtFQUM5QixvQkFBb0I7RUFDcEIsd0JBQXdCO0VBQ3hCLHFCQUFxQjtFQUNyQix5QkFBeUI7RUFDekIscUJBQXFCO0VBQ3JCLHNCQUFzQjtFQUN0QixzQkFBc0IsRUFBRTtBQUUxQjtFQUNFLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osU0FBUztFQUNULFVBQVU7RUFDVixjQUFjO0VBQ2QsZ0NBQWdDO0VBQ2hDLFlBQVk7RUFDWixhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQiw2REFBcUM7VUFBckMscURBQXFDO0VBQ3JDLGFBQWEsRUFBRTtBQUNmO0lBQ0UsZUFBZSxFQUFFO0FBQ25CO0lBQ0Usa0NBQWtDO0lBQ2xDLDJEQUFtQztZQUFuQyxtREFBbUM7SUFDbkMsbUJBQW1CO0lBQ25CLE9BQU87SUFDUCxTQUFTO0lBQ1QsVUFBVTtJQUNWLFFBQVE7SUFDUixZQUFZO0lBQ1osK0JBQStCO0lBQy9CLG1CQUFtQixFQUFFO0FBQ3ZCO0lBQ0UsZ0NBQWdDO0lBQ2hDLG1FQUEyQztZQUEzQywyREFBMkM7SUFDM0MsbUJBQW1CO0lBQ25CLE9BQU87SUFDUCxTQUFTO0lBQ1QsVUFBVTtJQUNWLFFBQVE7SUFDUixZQUFZO0lBQ1osK0JBQStCO0lBQy9CLG1CQUFtQixFQUFFO0FBRXpCO0VBQ0U7SUFDRSxtQ0FBbUM7SUFDbkMsK0NBQXVDO1lBQXZDLHVDQUF1QyxFQUFFLEVBQUU7QUFIL0M7RUFDRTtJQUNFLG1DQUFtQztJQUNuQywrQ0FBdUM7WUFBdkMsdUNBQXVDLEVBQUUsRUFBRTtBQUUvQztFQUNFO0lBQ0UsK0JBQStCO0lBQy9CLGtDQUEwQjtZQUExQiwwQkFBMEI7SUFDMUIsK0NBQXVDO1lBQXZDLHVDQUF1QyxFQUFFLEVBQUU7QUFKL0M7RUFDRTtJQUNFLCtCQUErQjtJQUMvQixrQ0FBMEI7WUFBMUIsMEJBQTBCO0lBQzFCLCtDQUF1QztZQUF2Qyx1Q0FBdUMsRUFBRSxFQUFFO0FBRS9DO0VBQ0U7SUFDRSw2QkFBcUI7WUFBckIscUJBQXFCO0lBQ3JCLDRDQUFvQztZQUFwQyxvQ0FBb0MsRUFBRTtFQUN4QztJQUNFLGlDQUF5QjtZQUF6Qix5QkFBeUI7SUFDekIsYUFBYSxFQUFFO0VBQ2pCO0lBQ0UsaUNBQXlCO1lBQXpCLHlCQUF5QixFQUFFO0VBQzdCO0lBQ0Usa0NBQTBCO1lBQTFCLDBCQUEwQixFQUFFLEVBQUU7QUFWbEM7RUFDRTtJQUNFLDZCQUFxQjtZQUFyQixxQkFBcUI7SUFDckIsNENBQW9DO1lBQXBDLG9DQUFvQyxFQUFFO0VBQ3hDO0lBQ0UsaUNBQXlCO1lBQXpCLHlCQUF5QjtJQUN6QixhQUFhLEVBQUU7RUFDakI7SUFDRSxpQ0FBeUI7WUFBekIseUJBQXlCLEVBQUU7RUFDN0I7SUFDRSxrQ0FBMEI7WUFBMUIsMEJBQTBCLEVBQUUsRUFBRSIsImZpbGUiOiJsb2FkZXIuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLmNvbnRyb2xCdXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmNvbnRyb2xCdXR0b246aG92ZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5oaWRkZW4ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAgIWltcG9ydGFudDsgfVxuXG4ubG9hZGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiA5MDtcbiAgdG9wOiA1MCU7XG4gIGxlZnQ6IDUwJTtcbiAgZGlzcGxheTogbm9uZTtcbiAgY2xpcDogcmVjdCgwLCA0OHB4LCA0OHB4LCAyNHB4KTtcbiAgd2lkdGg6IDQycHg7XG4gIGhlaWdodDogNDJweDtcbiAgbWFyZ2luLXRvcDogLTIxcHg7XG4gIG1hcmdpbi1sZWZ0OiAtMjFweDtcbiAgYW5pbWF0aW9uOiByb3RhdGUgMXMgbGluZWFyIGluZmluaXRlO1xuICBjb2xvcjogd2hpdGU7IH1cbiAgLmxvYWRlci5hY3RpdmUge1xuICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4gIC5sb2FkZXI6OmFmdGVyIHtcbiAgICBjbGlwOiByZWN0KDRweCwgNDhweCwgNDhweCwgMjRweCk7XG4gICAgYW5pbWF0aW9uOiBjbGlwIDFzIGxpbmVhciBpbmZpbml0ZTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBsZWZ0OiAwO1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIGJvcmRlcjogM3B4IHNvbGlkIGN1cnJlbnRDb2xvcjtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7IH1cbiAgLmxvYWRlcjo6YmVmb3JlIHtcbiAgICBjbGlwOiByZWN0KDAsIDQ4cHgsIDQ4cHgsIDI0cHgpO1xuICAgIGFuaW1hdGlvbjogY2xpcC1yZXZlcnNlIDFzIGxpbmVhciBpbmZpbml0ZTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBsZWZ0OiAwO1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIGJvcmRlcjogM3B4IHNvbGlkIGN1cnJlbnRDb2xvcjtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7IH1cblxuQGtleWZyYW1lcyBjbGlwIHtcbiAgNTAlIHtcbiAgICBjbGlwOiByZWN0KDQycHgsIDQ4cHgsIDQ4cHgsIDI0cHgpO1xuICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0OyB9IH1cblxuQGtleWZyYW1lcyBjbGlwLXJldmVyc2Uge1xuICA1MCUge1xuICAgIGNsaXA6IHJlY3QoMCwgNDhweCwgOXB4LCAyNHB4KTtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxMzVkZWcpO1xuICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0OyB9IH1cblxuQGtleWZyYW1lcyByb3RhdGUge1xuICBmcm9tIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwKTtcbiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLW91dDsgfVxuICA0NSUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDE4ZGVnKTtcbiAgICBjb2xvcjogd2hpdGU7IH1cbiAgNTUlIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSg1NGRlZyk7IH1cbiAgdG8ge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0gfVxuIl19 */");var ln=function(t){function e(){var e,n=t.call(this)||this;return n._$rootElement=jt('<div class="'+(e={styles:n.styleNames}).styles.loader+" "+e.styles.active+'" data-playable-component data-playable-hook="loader" ></div>'),n}return o(e,t),e.prototype.getElement=function(){return this._$rootElement},e.prototype.showContent=function(){this._$rootElement.classList.add(this.styleNames.active)},e.prototype.hideContent=function(){this._$rootElement.classList.remove(this.styleNames.active)},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.destroy=function(){this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null},e}($t);ln.extendStyleNames({controlButton:"loader__controlButton___1YHb4",hidden:"loader__hidden___3MeyV",loader:"loader__loader___1J20N",rotate:"loader__rotate___3K3Iv",active:"loader__active___29tvY",clip:"loader__clip___1RIdi","clip-reverse":"loader__clip-reverse___20o6x"});var cn=function(){function t(t){var e=t.config,n=t.eventEmitter,i=t.engine,o=t.rootContainer;this._eventEmitter=n,this.isHidden=!1,this._engine=i,this._bindCallbacks(),this._initUI(),this._bindEvents(),this._hideContent(),o.appendComponentElement(this.getElement()),e.hideMainUI&&this.hide()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._bindCallbacks=function(){this._showContent=this._showContent.bind(this),this._hideContent=this._hideContent.bind(this)},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Nt.STATE_CHANGED,this._checkForWaitingState],[Nt.UPLOAD_SUSPEND,this.hide]],this)},t.prototype._checkForWaitingState=function(t){switch(t.nextState){case Yt.SEEK_IN_PROGRESS:case Yt.WAITING:this.startDelayedShow();break;case Yt.LOAD_STARTED:this._engine.isPreloadActive&&this._showContent();break;case Yt.READY_TO_PLAY:case Yt.PLAYING:case Yt.PAUSED:this.stopDelayedShow(),this._hideContent()}},t.prototype._initUI=function(){this.view=new t.View},t.prototype._showContent=function(){this.isHidden&&(this._eventEmitter.emitAsync(Tt.LOADER_SHOW),this.view.showContent(),this.isHidden=!1)},t.prototype._hideContent=function(){this.isHidden||(this._eventEmitter.emitAsync(Tt.LOADER_HIDE),this.view.hideContent(),this.isHidden=!0)},t.prototype.hide=function(){this.view.hide()},t.prototype.show=function(){this.view.show()},t.prototype.startDelayedShow=function(){this.isDelayedShowScheduled&&this.stopDelayedShow(),this._delayedShowTimeout=window.setTimeout(this._showContent,100)},t.prototype.stopDelayedShow=function(){window.clearTimeout(this._delayedShowTimeout),this._delayedShowTimeout=null},Object.defineProperty(t.prototype,"isDelayedShowScheduled",{get:function(){return Boolean(this._delayedShowTimeout)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._unbindEvents(),this.stopDelayedShow(),this.view.destroy()},t.moduleName="loader",t.View=ln,t.dependencies=["engine","eventEmitter","config","rootContainer"],t}();Kt(".main-ui-block__mainUiBlock___3fUqI {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column; }\n  .main-ui-block__mainUiBlock___3fUqI .main-ui-block__tooltipContainerWrapper___3e2KW {\n    position: relative;\n    -webkit-box-flex: 2;\n        -ms-flex-positive: 2;\n            flex-grow: 2; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4tdWktYmxvY2suc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFtQjtFQUNuQixPQUFPO0VBQ1AsU0FBUztFQUNULFVBQVU7RUFDVixRQUFRO0VBQ1IscUJBQWM7RUFBZCxxQkFBYztFQUFkLGNBQWM7RUFDZCw2QkFBdUI7RUFBdkIsOEJBQXVCO01BQXZCLDJCQUF1QjtVQUF2Qix1QkFBdUIsRUFBRTtFQUN6QjtJQUNFLG1CQUFtQjtJQUNuQixvQkFBYTtRQUFiLHFCQUFhO1lBQWIsYUFBYSxFQUFFIiwiZmlsZSI6Im1haW4tdWktYmxvY2suc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluVWlCbG9jayB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyB9XG4gIC5tYWluVWlCbG9jayAudG9vbHRpcENvbnRhaW5lcldyYXBwZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBmbGV4LWdyb3c6IDI7IH1cbiJdfQ== */");var un=function(t){function e(e){var n=t.call(this)||this;return n._initDOM(e.elements),n}return o(e,t),e.prototype._initDOM=function(t){this._$rootElement=jt('<div class="'+this.styleNames.mainUiBlock+'" data-playable-component></div>');var e=document.createElement("div");e.classList.add(this.styleNames.tooltipContainerWrapper),e.appendChild(t.tooltipContainer),this._$rootElement.appendChild(t.topBlock),this._$rootElement.appendChild(e),this._$rootElement.appendChild(t.bottomBlock)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null},e}($t);un.extendStyleNames({mainUiBlock:"main-ui-block__mainUiBlock___3fUqI",tooltipContainerWrapper:"main-ui-block__tooltipContainerWrapper___3e2KW"});var dn=function(){function t(t){this._hideTimeout=null,this._isContentShowingEnabled=!0,this._isContentShown=!1,this._shouldShowContent=!0,this._shouldAlwaysShow=!1,this._isDragging=!1;var e=t.config,n=t.eventEmitter,i=t.rootContainer,o=t.tooltipService,r=t.topBlock,a=t.bottomBlock,s=t.screen;this._eventEmitter=n,this._topBlock=r,this._bottomBlock=a,this._screen=s,this._tooltipService=o,this.isHidden=!1,this._shouldAlwaysShow=!1,this._initUI({tooltipContainer:o.tooltipContainerElement,topBlock:r.getElement(),bottomBlock:a.getElement()}),this._bindViewCallbacks(),this._bindEvents(),i.appendComponentElement(this.view.getElement()),e.hideMainUI&&this.hide()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._initUI=function(e){this.view=new t.View({elements:e})},t.prototype._bindViewCallbacks=function(){this._startHideBlockTimeout=this._startHideBlockTimeout.bind(this),this._tryShowContent=this._tryShowContent.bind(this),this._tryHideContent=this._tryHideContent.bind(this)},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Tt.MOUSE_MOVE_ON_PLAYER,this._startHideBlockTimeout],[Tt.MOUSE_LEAVE_ON_PLAYER,this._tryHideContent],[Tt.FOCUS_ENTER_ON_PLAYER,this._startHideBlockTimeout],[Tt.KEYBOARD_KEYDOWN_INTERCEPTED,this._startHideBlockTimeout],[Tt.LOADER_HIDE,this._startHideBlockTimeout],[Nt.STATE_CHANGED,this._updatePlayingState],[Tt.CONTROL_DRAG_START,this._onControlDragStart],[Tt.CONTROL_DRAG_END,this._onControlDragEnd]],this)},t.prototype._updatePlayingState=function(t){switch(t.nextState){case Yt.PLAY_REQUESTED:this._shouldShowContent=!1,this._startHideBlockTimeout();break;case Yt.ENDED:case Yt.PAUSED:case Yt.SRC_SET:this._shouldShowContent=!0,this._tryShowContent()}},Object.defineProperty(t.prototype,"_isBlockFocused",{get:function(){return this._bottomBlock.isFocused||this._topBlock.isFocused},enumerable:!0,configurable:!0}),t.prototype._startHideBlockTimeout=function(){this._stopHideBlockTimeout(),this._tryShowContent(),this._hideTimeout=window.setTimeout(this._tryHideContent,2e3)},t.prototype._stopHideBlockTimeout=function(){this._hideTimeout&&window.clearTimeout(this._hideTimeout)},t.prototype._tryShowContent=function(){this._isContentShowingEnabled&&this._showContent()},t.prototype._onControlDragStart=function(){this._isDragging=!0},t.prototype._onControlDragEnd=function(){this._isDragging=!1,this._tryHideContent()},t.prototype._showContent=function(){this.isHidden||this._isContentShown||(this._screen.showCursor(),this._eventEmitter.emitAsync(Tt.MAIN_BLOCK_SHOW),this._bottomBlock.showContent(),this._topBlock.showContent(),this._isContentShown=!0)},t.prototype._tryHideContent=function(){this._isBlockFocused||this._isDragging||this._shouldShowContent||this._shouldAlwaysShow||this._hideContent()},t.prototype._hideContent=function(){!this.isHidden&&this._isContentShown&&(this._isContentShowingEnabled&&this._screen.hideCursor(),this._eventEmitter.emitAsync(Tt.MAIN_BLOCK_HIDE),this._bottomBlock.hideContent(),this._topBlock.hideContent(),this._tooltipService.hide(),this._isContentShown=!1)},t.prototype.disableShowingContent=function(){this._isContentShowingEnabled=!1,this._hideContent()},t.prototype.enableShowingContent=function(){this._isContentShowingEnabled=!0,this._shouldShowContent&&this._showContent()},t.prototype.hide=function(){this.isHidden=!0,this._topBlock.hide(),this._bottomBlock.hide()},t.prototype.show=function(){this.isHidden=!1,this._topBlock.show(),this._bottomBlock.show()},t.prototype.setShouldAlwaysShow=function(t){this._shouldAlwaysShow=t,this._shouldAlwaysShow?this._tryShowContent():this._startHideBlockTimeout()},t.prototype.destroy=function(){this._stopHideBlockTimeout(),this._unbindEvents(),this.view.destroy()},t.moduleName="mainUIBlock",t.View=un,t.dependencies=["config","screen","rootContainer","tooltipService","eventEmitter","topBlock","bottomBlock"],a([S("setMainUIShouldAlwaysShow")],t.prototype,"setShouldAlwaysShow",null),t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.top-block__controlButton___2Irx0 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.top-block__controlButton___2Irx0:hover {\n    opacity: .7; }\n.top-block__hidden___JNzhk {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.top-block__topBlock___2nOmO {\n  position: relative;\n  z-index: 60; }\n.top-block__topBlock___2nOmO::-moz-focus-inner {\n    border: 0; }\n.top-block__topBlock___2nOmO.top-block__activated___2ThkU .top-block__titleContainer___1gKBN,\n  .top-block__topBlock___2nOmO.top-block__activated___2ThkU .top-block__background___2RYBo {\n    opacity: 1; }\n.top-block__liveIndicatorContainer___3wTlQ {\n  -webkit-box-flex: 0;\n      -ms-flex-positive: 0;\n          flex-grow: 0; }\n.top-block__elementsContainer___11-A7 {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  margin-top: 20px;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n[data-playable-hook=\'player-container\'][data-playable-dir="ltr"] .top-block__elementsContainer___11-A7 {\n    margin-left: 20px; }\n[data-playable-hook=\'player-container\'][data-playable-dir="rtl"] .top-block__elementsContainer___11-A7 {\n    margin-right: 20px;\n    direction: rtl; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .top-block__elementsContainer___11-A7 {\n    margin-top: 30px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"][data-playable-dir="ltr"] .top-block__elementsContainer___11-A7 {\n    margin-left: 30px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"][data-playable-dir="rtl"] .top-block__elementsContainer___11-A7 {\n    margin-right: 30px;\n    direction: rtl; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"] .top-block__elementsContainer___11-A7 {\n    margin-top: 15px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"][data-playable-dir="ltr"] .top-block__elementsContainer___11-A7 {\n    margin-left: 15px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"][data-playable-dir="rtl"] .top-block__elementsContainer___11-A7 {\n    margin-right: 15px;\n    direction: rtl; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="280px"] .top-block__elementsContainer___11-A7 {\n    margin-top: 12px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="280px"][data-playable-dir="ltr"] .top-block__elementsContainer___11-A7 {\n    margin-left: 12px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="280px"][data-playable-dir="rtl"] .top-block__elementsContainer___11-A7 {\n    margin-right: 12px;\n    direction: rtl; }\n.top-block__titleContainer___1gKBN {\n  max-width: calc(100% - 200px);\n  -webkit-transition: opacity .2s;\n  transition: opacity .2s;\n  opacity: 0;\n  -webkit-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1; }\n.top-block__background___2RYBo {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  height: 181px;\n  -webkit-transition: opacity .2s;\n  transition: opacity .2s;\n  pointer-events: none;\n  opacity: 0;\n  background-image: -webkit-gradient(linear, left bottom, left top, from(rgba(0, 0, 0, 0)), color-stop(24%, rgba(0, 0, 0, 0.03)), color-stop(50%, rgba(0, 0, 0, 0.15)), color-stop(75%, rgba(0, 0, 0, 0.3)), to(rgba(0, 0, 0, 0.4)));\n  background-image: linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.03) 24%, rgba(0, 0, 0, 0.15) 50%, rgba(0, 0, 0, 0.3) 75%, rgba(0, 0, 0, 0.4));\n  background-size: 100% 182px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvcC1ibG9jay5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztHQUtHO0FBQ0g7RUFDRSxxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsaUNBQXlCO1VBQXpCLHlCQUF5QjtFQUN6QixxQ0FBNkI7RUFBN0IsNkJBQTZCO0VBQzdCLFdBQVc7RUFDWCxVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCw4QkFBOEI7RUFDOUIseUJBQXdCO01BQXhCLHNCQUF3QjtVQUF4Qix3QkFBd0I7RUFDeEIsMEJBQW9CO01BQXBCLHVCQUFvQjtVQUFwQixvQkFBb0IsRUFBRTtBQUN0QjtJQUNFLFlBQVksRUFBRTtBQUVsQjtFQUNFLDhCQUE4QjtFQUM5QixvQkFBb0I7RUFDcEIsd0JBQXdCO0VBQ3hCLHFCQUFxQjtFQUNyQix5QkFBeUI7RUFDekIscUJBQXFCO0VBQ3JCLHNCQUFzQjtFQUN0QixzQkFBc0IsRUFBRTtBQUUxQjtFQUNFLG1CQUFtQjtFQUNuQixZQUFZLEVBQUU7QUFDZDtJQUNFLFVBQVUsRUFBRTtBQUNkOztJQUVFLFdBQVcsRUFBRTtBQUVqQjtFQUNFLG9CQUFhO01BQWIscUJBQWE7VUFBYixhQUFhLEVBQUU7QUFFakI7RUFDRSxtQkFBbUI7RUFDbkIscUJBQWM7RUFBZCxxQkFBYztFQUFkLGNBQWM7RUFDZCwrQkFBb0I7RUFBcEIsOEJBQW9CO01BQXBCLHdCQUFvQjtVQUFwQixvQkFBb0I7RUFDcEIsaUJBQWlCO0VBQ2pCLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CLEVBQUU7QUFDdEI7SUFDRSxrQkFBa0IsRUFBRTtBQUN0QjtJQUNFLG1CQUFtQjtJQUNuQixlQUFlLEVBQUU7QUFDbkI7SUFDRSxpQkFBaUIsRUFBRTtBQUNyQjtJQUNFLGtCQUFrQixFQUFFO0FBQ3RCO0lBQ0UsbUJBQW1CO0lBQ25CLGVBQWUsRUFBRTtBQUNuQjtJQUNFLGlCQUFpQixFQUFFO0FBQ3JCO0lBQ0Usa0JBQWtCLEVBQUU7QUFDdEI7SUFDRSxtQkFBbUI7SUFDbkIsZUFBZSxFQUFFO0FBQ25CO0lBQ0UsaUJBQWlCLEVBQUU7QUFDckI7SUFDRSxrQkFBa0IsRUFBRTtBQUN0QjtJQUNFLG1CQUFtQjtJQUNuQixlQUFlLEVBQUU7QUFFckI7RUFDRSw4QkFBOEI7RUFDOUIsZ0NBQXdCO0VBQXhCLHdCQUF3QjtFQUN4QixXQUFXO0VBQ1gsb0JBQWE7TUFBYixxQkFBYTtVQUFiLGFBQWEsRUFBRTtBQUVqQjtFQUNFLG1CQUFtQjtFQUNuQixPQUFPO0VBQ1AsU0FBUztFQUNULFFBQVE7RUFDUixjQUFjO0VBQ2QsZ0NBQXdCO0VBQXhCLHdCQUF3QjtFQUN4QixxQkFBcUI7RUFDckIsV0FBVztFQUNYLG1PQUEwSjtFQUExSiwwSkFBMEo7RUFDMUosNEJBQTRCLEVBQUUiLCJmaWxlIjoidG9wLWJsb2NrLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBjaGFsbGVuZ2UgaGVyZSB0byBzdXBwb3J0IFwicGxheWFibGUgcXVlcmllc1wiIGFuZCBcImRpcmVjdGlvblwiIGF0IHRoZSBzYW1lIHRpbWUgYW5kIGFsbG93IG1peGlucyBsaWtlOlxuICogICBAaW5jbHVkZSBxdWVyeShtYXgtd2lkdGgtNTUwKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgbHRyKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgcnRsKCkpXG4gKi9cbi5jb250cm9sQnV0dG9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZzogMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAuMnM7XG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IG9wYWNpdHk7XG4gIG9wYWNpdHk6IDE7XG4gIGJvcmRlcjogMDtcbiAgYm9yZGVyLXJhZGl1czogMDtcbiAgb3V0bGluZTogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyOyB9XG4gIC5jb250cm9sQnV0dG9uOmhvdmVyIHtcbiAgICBvcGFjaXR5OiAuNzsgfVxuXG4uaGlkZGVuIHtcbiAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIG1pbi13aWR0aDogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICBvcGFjaXR5OiAwICFpbXBvcnRhbnQ7IH1cblxuLnRvcEJsb2NrIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiA2MDsgfVxuICAudG9wQmxvY2s6Oi1tb3otZm9jdXMtaW5uZXIge1xuICAgIGJvcmRlcjogMDsgfVxuICAudG9wQmxvY2suYWN0aXZhdGVkIC50aXRsZUNvbnRhaW5lcixcbiAgLnRvcEJsb2NrLmFjdGl2YXRlZCAuYmFja2dyb3VuZCB7XG4gICAgb3BhY2l0eTogMTsgfVxuXG4ubGl2ZUluZGljYXRvckNvbnRhaW5lciB7XG4gIGZsZXgtZ3JvdzogMDsgfVxuXG4uZWxlbWVudHNDb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtZGlyPVwibHRyXCJdIC5lbGVtZW50c0NvbnRhaW5lciB7XG4gICAgbWFyZ2luLWxlZnQ6IDIwcHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtZGlyPVwicnRsXCJdIC5lbGVtZW50c0NvbnRhaW5lciB7XG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICAgIGRpcmVjdGlvbjogcnRsOyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAuZWxlbWVudHNDb250YWluZXIge1xuICAgIG1hcmdpbi10b3A6IDMwcHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdW2RhdGEtcGxheWFibGUtZGlyPVwibHRyXCJdIC5lbGVtZW50c0NvbnRhaW5lciB7XG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdW2RhdGEtcGxheWFibGUtZGlyPVwicnRsXCJdIC5lbGVtZW50c0NvbnRhaW5lciB7XG4gICAgbWFyZ2luLXJpZ2h0OiAzMHB4O1xuICAgIGRpcmVjdGlvbjogcnRsOyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLW1heC13aWR0aH49XCI1NTBweFwiXSAuZWxlbWVudHNDb250YWluZXIge1xuICAgIG1hcmdpbi10b3A6IDE1cHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjU1MHB4XCJdW2RhdGEtcGxheWFibGUtZGlyPVwibHRyXCJdIC5lbGVtZW50c0NvbnRhaW5lciB7XG4gICAgbWFyZ2luLWxlZnQ6IDE1cHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjU1MHB4XCJdW2RhdGEtcGxheWFibGUtZGlyPVwicnRsXCJdIC5lbGVtZW50c0NvbnRhaW5lciB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xuICAgIGRpcmVjdGlvbjogcnRsOyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLW1heC13aWR0aH49XCIyODBweFwiXSAuZWxlbWVudHNDb250YWluZXIge1xuICAgIG1hcmdpbi10b3A6IDEycHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjI4MHB4XCJdW2RhdGEtcGxheWFibGUtZGlyPVwibHRyXCJdIC5lbGVtZW50c0NvbnRhaW5lciB7XG4gICAgbWFyZ2luLWxlZnQ6IDEycHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjI4MHB4XCJdW2RhdGEtcGxheWFibGUtZGlyPVwicnRsXCJdIC5lbGVtZW50c0NvbnRhaW5lciB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xuICAgIGRpcmVjdGlvbjogcnRsOyB9XG5cbi50aXRsZUNvbnRhaW5lciB7XG4gIG1heC13aWR0aDogY2FsYygxMDAlIC0gMjAwcHgpO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycztcbiAgb3BhY2l0eTogMDtcbiAgZmxleC1ncm93OiAxOyB9XG5cbi5iYWNrZ3JvdW5kIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBsZWZ0OiAwO1xuICBoZWlnaHQ6IDE4MXB4O1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycztcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIG9wYWNpdHk6IDA7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsIHJnYmEoMCwgMCwgMCwgMCksIHJnYmEoMCwgMCwgMCwgMC4wMykgMjQlLCByZ2JhKDAsIDAsIDAsIDAuMTUpIDUwJSwgcmdiYSgwLCAwLCAwLCAwLjMpIDc1JSwgcmdiYSgwLCAwLCAwLCAwLjQpKTtcbiAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDE4MnB4OyB9XG4iXX0= */');var pn=function(t){function e(e){var n=t.call(this)||this,i=e.callbacks,o=e.elements;return n._callbacks=i,n._initDOM(o),n._bindEvents(),n}return o(e,t),e.prototype.getElement=function(){return this._$rootElement},e.prototype._initDOM=function(t){var e;this._$rootElement=jt('<div data-playable-hook="top-block" class="'+(e={styles:this.styleNames}).styles.topBlock+'"> <div class="'+e.styles.background+'" data-playable-hook="screen-top-background"> </div> <div class="'+e.styles.elementsContainer+'"> <div class="'+e.styles.liveIndicatorContainer+'" data-playable-hook="live-indicator-container"> </div> <div class="'+e.styles.titleContainer+'" data-playable-hook="title-container"> </div> </div></div>'),this._$titleContainer=ze(this._$rootElement,"title-container"),this._$liveIndicatorContainer=ze(this._$rootElement,"live-indicator-container"),this._$titleContainer.appendChild(t.title),this._$liveIndicatorContainer.appendChild(t.liveIndicator)},e.prototype._preventClickPropagation=function(t){t.stopPropagation()},e.prototype._bindEvents=function(){this._$rootElement.addEventListener("click",this._preventClickPropagation),this._$rootElement.addEventListener("mousemove",this._callbacks.onBlockMouseMove),this._$rootElement.addEventListener("mouseleave",this._callbacks.onBlockMouseOut)},e.prototype._unbindEvents=function(){this._$rootElement.removeEventListener("click",this._preventClickPropagation),this._$rootElement.removeEventListener("mousemove",this._callbacks.onBlockMouseMove),this._$rootElement.removeEventListener("mouseleave",this._callbacks.onBlockMouseOut)},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.showContent=function(){this._$rootElement.classList.add(this.styleNames.activated)},e.prototype.hideContent=function(){this._$rootElement.classList.remove(this.styleNames.activated)},e.prototype.showTitle=function(){this._$titleContainer.classList.remove(this.styleNames.hidden)},e.prototype.hideTitle=function(){this._$titleContainer.classList.add(this.styleNames.hidden)},e.prototype.showLiveIndicator=function(){this._$liveIndicatorContainer.classList.remove(this.styleNames.hidden)},e.prototype.hideLiveIndicator=function(){this._$liveIndicatorContainer.classList.add(this.styleNames.hidden)},e.prototype.destroy=function(){this._unbindEvents(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null},e}($t);pn.extendStyleNames({controlButton:"top-block__controlButton___2Irx0",hidden:"top-block__hidden___JNzhk",topBlock:"top-block__topBlock___2nOmO",activated:"top-block__activated___2ThkU",titleContainer:"top-block__titleContainer___1gKBN",background:"top-block__background___2RYBo",liveIndicatorContainer:"top-block__liveIndicatorContainer___3wTlQ",elementsContainer:"top-block__elementsContainer___11-A7"});var hn=function(){function t(t){this._isBlockFocused=!1,this.isHidden=!1,this._bindViewCallbacks(),this._initUI(this._getElements(t))}return t.prototype._bindViewCallbacks=function(){this._setFocusState=this._setFocusState.bind(this),this._removeFocusState=this._removeFocusState.bind(this)},t.prototype._initUI=function(e){var n={elements:e,callbacks:{onBlockMouseMove:this._setFocusState,onBlockMouseOut:this._removeFocusState}};this.view=new t.View(n)},t.prototype._getElements=function(t){var e=t.title,n=t.liveIndicator;return{title:e.getElement(),liveIndicator:n.getElement()}},t.prototype._setFocusState=function(){this._isBlockFocused=!0},t.prototype._removeFocusState=function(){this._isBlockFocused=!1},Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._isBlockFocused},enumerable:!0,configurable:!0}),t.prototype.getElement=function(){return this.view.getElement()},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.showTitle=function(){this.view.showTitle()},t.prototype.hideTitle=function(){this.view.hideTitle()},t.prototype.showLiveIndicator=function(){this.view.showLiveIndicator()},t.prototype.hideLiveIndicator=function(){this.view.hideLiveIndicator()},t.prototype.showContent=function(){this.view.showContent()},t.prototype.hideContent=function(){this.view.hideContent()},t.prototype.destroy=function(){this.view.destroy()},t.moduleName="topBlock",t.View=pn,t.dependencies=["title","liveIndicator"],a([S()],t.prototype,"showTitle",null),a([S()],t.prototype,"hideTitle",null),a([S()],t.prototype,"showLiveIndicator",null),a([S()],t.prototype,"hideLiveIndicator",null),t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.title__controlButton___tyPdk {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.title__controlButton___tyPdk:hover {\n    opacity: .7; }\n.title__hidden___3SyPm {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.title__title___324Zx {\n  font-size: 16px;\n  line-height: 17px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"] .title__title___324Zx {\n    font-size: 14px;\n    line-height: 15px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="300px"] .title__title___324Zx {\n    font-size: 12px;\n    line-height: 13px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .title__title___324Zx {\n    font-size: 20px;\n    line-height: 20px; }\n.title__title___324Zx.title__link___2x3nu {\n    cursor: pointer; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpdGxlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0dBS0c7QUFDSDtFQUNFLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixpQ0FBeUI7VUFBekIseUJBQXlCO0VBQ3pCLHFDQUE2QjtFQUE3Qiw2QkFBNkI7RUFDN0IsV0FBVztFQUNYLFVBQVU7RUFDVixpQkFBaUI7RUFDakIsY0FBYztFQUNkLDhCQUE4QjtFQUM5Qix5QkFBd0I7TUFBeEIsc0JBQXdCO1VBQXhCLHdCQUF3QjtFQUN4QiwwQkFBb0I7TUFBcEIsdUJBQW9CO1VBQXBCLG9CQUFvQixFQUFFO0FBQ3RCO0lBQ0UsWUFBWSxFQUFFO0FBRWxCO0VBQ0UsOEJBQThCO0VBQzlCLG9CQUFvQjtFQUNwQix3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLHNCQUFzQixFQUFFO0FBRTFCO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsb0JBQW9CO0VBQ3BCLHdCQUF3QixFQUFFO0FBQzFCO0lBQ0UsZ0JBQWdCO0lBQ2hCLGtCQUFrQixFQUFFO0FBQ3RCO0lBQ0UsZ0JBQWdCO0lBQ2hCLGtCQUFrQixFQUFFO0FBQ3RCO0lBQ0UsZ0JBQWdCO0lBQ2hCLGtCQUFrQixFQUFFO0FBQ3RCO0lBQ0UsZ0JBQWdCLEVBQUUiLCJmaWxlIjoidGl0bGUuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLmNvbnRyb2xCdXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmNvbnRyb2xCdXR0b246aG92ZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5oaWRkZW4ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAgIWltcG9ydGFudDsgfVxuXG4udGl0bGUge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGxpbmUtaGVpZ2h0OiAxN3B4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1tYXgtd2lkdGh+PVwiNTUwcHhcIl0gLnRpdGxlIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgbGluZS1oZWlnaHQ6IDE1cHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjMwMHB4XCJdIC50aXRsZSB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxM3B4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAudGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBsaW5lLWhlaWdodDogMjBweDsgfVxuICAudGl0bGUubGluayB7XG4gICAgY3Vyc29yOiBwb2ludGVyOyB9XG4iXX0= */');var _n=function(t){function e(e){var n=this,i=e.callbacks,o=e.theme;return(n=t.call(this,o)||this)._callbacks=i,n._initDOM(),n._bindEvents(),n}return o(e,t),e.prototype._initDOM=function(){var t;this._$rootElement=jt('<div class="'+(t={styles:this.styleNames,themeStyles:this.themeStyles}).styles.title+" "+t.themeStyles.titleText+'" data-playable-hook="video-title"></div>')},e.prototype._bindEvents=function(){this._$rootElement.addEventListener("click",this._callbacks.onClick)},e.prototype._unbindEvents=function(){this._$rootElement.removeEventListener("click",this._callbacks.onClick)},e.prototype.setDisplayAsLink=function(t){$e(this._$rootElement,this.styleNames.link,t)},e.prototype.setTitle=function(t){t?(this.show(),this._$rootElement.innerHTML=t):this.hide()},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._unbindEvents(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null},e}($t);_n.setTheme({titleText:{color:function(t){return t.color}}}),_n.extendStyleNames({controlButton:"title__controlButton___tyPdk",hidden:"title__hidden___3SyPm",title:"title__title___324Zx",link:"title__link___2x3nu"});var gn=function(){function t(t){var e=t.theme,n=t.config;this._theme=e,this._bindCallbacks(),this._initUI(),this.setTitle(n.title)}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._bindCallbacks=function(){this._triggerCallback=this._triggerCallback.bind(this)},t.prototype._initUI=function(){var e={theme:this._theme,callbacks:{onClick:this._triggerCallback}};this.view=new t.View(e),this.view.setTitle()},t.prototype.setTitle=function(t){this.view.setTitle(t)},t.prototype.setTitleClickCallback=function(t){this._callback=t,this.view.setDisplayAsLink(Boolean(this._callback))},t.prototype._triggerCallback=function(){this._callback&&this._callback()},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.destroy=function(){this.view.destroy()},t.moduleName="title",t.View=_n,t.dependencies=["config","theme"],a([S()],t.prototype,"setTitle",null),a([S()],t.prototype,"setTitleClickCallback",null),t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.live-indicator__controlButton___1FH60 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.live-indicator__controlButton___1FH60:hover {\n    opacity: .7; }\n.live-indicator__hidden___1MQc0 {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.live-indicator__liveIndicator___3Vudz {\n  position: relative;\n  -webkit-transition: background-color .2s;\n  transition: background-color .2s;\n  background-color: #959595; }\n[data-playable-hook=\'player-container\'][data-playable-dir="ltr"] .live-indicator__liveIndicator___3Vudz {\n    margin-right: 15px;\n    direction: ltr; }\n[data-playable-hook=\'player-container\'][data-playable-dir="rtl"] .live-indicator__liveIndicator___3Vudz {\n    margin-left: 15px;\n    direction: rtl; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"][data-playable-dir="ltr"] .live-indicator__liveIndicator___3Vudz {\n    margin-right: 20px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"][data-playable-dir="rtl"] .live-indicator__liveIndicator___3Vudz {\n    margin-left: 20px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"][data-playable-dir="ltr"] .live-indicator__liveIndicator___3Vudz {\n    margin-right: 10px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"][data-playable-dir="rtl"] .live-indicator__liveIndicator___3Vudz {\n    margin-left: 10px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="280px"] .live-indicator__liveIndicator___3Vudz {\n    padding: 2px 3px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="280px"][data-playable-dir="ltr"] .live-indicator__liveIndicator___3Vudz {\n    margin-right: 10px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="280px"][data-playable-dir="rtl"] .live-indicator__liveIndicator___3Vudz {\n    margin-left: 10px; }\n.live-indicator__liveIndicator___3Vudz.live-indicator__ended___18KqE {\n    cursor: default; }\n.live-indicator__liveIndicator___3Vudz:hover:not(.live-indicator__ended___18KqE), .live-indicator__liveIndicator___3Vudz.live-indicator__active___2Lobb {\n    background-color: #ea492e; }\n.live-indicator__clickable___2efwz {\n  cursor: pointer; }\nbutton.live-indicator__liveIndicatorButton___fQcZU {\n  font-size: 12px;\n  line-height: 14px;\n  padding: 5px 6px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  text-transform: uppercase !important;\n  color: #fff;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="280px"] button.live-indicator__liveIndicatorButton___fQcZU {\n    font-size: 10px;\n    line-height: 12px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpdmUtaW5kaWNhdG9yLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0dBS0c7QUFDSDtFQUNFLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixpQ0FBeUI7VUFBekIseUJBQXlCO0VBQ3pCLHFDQUE2QjtFQUE3Qiw2QkFBNkI7RUFDN0IsV0FBVztFQUNYLFVBQVU7RUFDVixpQkFBaUI7RUFDakIsY0FBYztFQUNkLDhCQUE4QjtFQUM5Qix5QkFBd0I7TUFBeEIsc0JBQXdCO1VBQXhCLHdCQUF3QjtFQUN4QiwwQkFBb0I7TUFBcEIsdUJBQW9CO1VBQXBCLG9CQUFvQixFQUFFO0FBQ3RCO0lBQ0UsWUFBWSxFQUFFO0FBRWxCO0VBQ0UsOEJBQThCO0VBQzlCLG9CQUFvQjtFQUNwQix3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLHNCQUFzQixFQUFFO0FBRTFCO0VBQ0UsbUJBQW1CO0VBQ25CLHlDQUFpQztFQUFqQyxpQ0FBaUM7RUFDakMsMEJBQTBCLEVBQUU7QUFDNUI7SUFDRSxtQkFBbUI7SUFDbkIsZUFBZSxFQUFFO0FBQ25CO0lBQ0Usa0JBQWtCO0lBQ2xCLGVBQWUsRUFBRTtBQUNuQjtJQUNFLG1CQUFtQixFQUFFO0FBQ3ZCO0lBQ0Usa0JBQWtCLEVBQUU7QUFDdEI7SUFDRSxtQkFBbUIsRUFBRTtBQUN2QjtJQUNFLGtCQUFrQixFQUFFO0FBQ3RCO0lBQ0UsaUJBQWlCLEVBQUU7QUFDckI7SUFDRSxtQkFBbUIsRUFBRTtBQUN2QjtJQUNFLGtCQUFrQixFQUFFO0FBQ3RCO0lBQ0UsZ0JBQWdCLEVBQUU7QUFDcEI7SUFDRSwwQkFBMEIsRUFBRTtBQUVoQztFQUNFLGdCQUFnQixFQUFFO0FBRXBCO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsMEJBQWtCO0tBQWxCLHVCQUFrQjtNQUFsQixzQkFBa0I7VUFBbEIsa0JBQWtCO0VBQ2xCLHFDQUFxQztFQUNyQyxZQUFZO0VBQ1osVUFBVTtFQUNWLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QsOEJBQThCLEVBQUU7QUFDaEM7SUFDRSxnQkFBZ0I7SUFDaEIsa0JBQWtCLEVBQUUiLCJmaWxlIjoibGl2ZS1pbmRpY2F0b3Iuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLmNvbnRyb2xCdXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmNvbnRyb2xCdXR0b246aG92ZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5oaWRkZW4ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAgIWltcG9ydGFudDsgfVxuXG4ubGl2ZUluZGljYXRvciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuMnM7XG4gIGJhY2tncm91bmQtY29sb3I6ICM5NTk1OTU7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtZGlyPVwibHRyXCJdIC5saXZlSW5kaWNhdG9yIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG4gICAgZGlyZWN0aW9uOiBsdHI7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtZGlyPVwicnRsXCJdIC5saXZlSW5kaWNhdG9yIHtcbiAgICBtYXJnaW4tbGVmdDogMTVweDtcbiAgICBkaXJlY3Rpb246IHJ0bDsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl1bZGF0YS1wbGF5YWJsZS1kaXI9XCJsdHJcIl0gLmxpdmVJbmRpY2F0b3Ige1xuICAgIG1hcmdpbi1yaWdodDogMjBweDsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl1bZGF0YS1wbGF5YWJsZS1kaXI9XCJydGxcIl0gLmxpdmVJbmRpY2F0b3Ige1xuICAgIG1hcmdpbi1sZWZ0OiAyMHB4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLW1heC13aWR0aH49XCI1NTBweFwiXVtkYXRhLXBsYXlhYmxlLWRpcj1cImx0clwiXSAubGl2ZUluZGljYXRvciB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLW1heC13aWR0aH49XCI1NTBweFwiXVtkYXRhLXBsYXlhYmxlLWRpcj1cInJ0bFwiXSAubGl2ZUluZGljYXRvciB7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjI4MHB4XCJdIC5saXZlSW5kaWNhdG9yIHtcbiAgICBwYWRkaW5nOiAycHggM3B4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLW1heC13aWR0aH49XCIyODBweFwiXVtkYXRhLXBsYXlhYmxlLWRpcj1cImx0clwiXSAubGl2ZUluZGljYXRvciB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLW1heC13aWR0aH49XCIyODBweFwiXVtkYXRhLXBsYXlhYmxlLWRpcj1cInJ0bFwiXSAubGl2ZUluZGljYXRvciB7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7IH1cbiAgLmxpdmVJbmRpY2F0b3IuZW5kZWQge1xuICAgIGN1cnNvcjogZGVmYXVsdDsgfVxuICAubGl2ZUluZGljYXRvcjpob3Zlcjpub3QoLmVuZGVkKSwgLmxpdmVJbmRpY2F0b3IuYWN0aXZlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWE0OTJlOyB9XG5cbi5jbGlja2FibGUge1xuICBjdXJzb3I6IHBvaW50ZXI7IH1cblxuYnV0dG9uLmxpdmVJbmRpY2F0b3JCdXR0b24ge1xuICBmb250LXNpemU6IDEycHg7XG4gIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICBwYWRkaW5nOiA1cHggNnB4O1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZSAhaW1wb3J0YW50O1xuICBjb2xvcjogI2ZmZjtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1tYXgtd2lkdGh+PVwiMjgwcHhcIl0gYnV0dG9uLmxpdmVJbmRpY2F0b3JCdXR0b24ge1xuICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICBsaW5lLWhlaWdodDogMTJweDsgfVxuIl19 */');var bn=function(t){function e(e){var n=t.call(this)||this;return n._callbacks=e.callbacks,n._textMap=e.textMap,n._tooltipService=e.tooltipService,n._initDOM(),n._bindEvents(),n}return o(e,t),e.prototype._initDOM=function(){var t;this._$rootElement=jt('<div class="'+(t={styles:this.styleNames,themeStyles:this.themeStyles,texts:{}}).styles.liveIndicator+" "+t.styles.hidden+'"> <button tabindex="0" class="'+t.styles.liveIndicatorButton+'" aria-label="'+(t.texts.label||"")+'" data-playable-hook="live-indicator-button"> '+(t.texts.text||"")+" </button></div>"),this._$button=ze(this._$rootElement,"live-indicator-button"),this._tooltipReference=this._tooltipService.createReference(this._$button,{text:this._textMap.get(Zt.LIVE_SYNC_TOOLTIP)}),this.toggle(!1),this.toggleActive(!1),this.toggleEnded(!1)},e.prototype._bindEvents=function(){this._$rootElement.addEventListener("click",this._callbacks.onClick)},e.prototype._unbindEvents=function(){this._$rootElement.removeEventListener("click",this._callbacks.onClick)},e.prototype.toggleActive=function(t){$e(this._$rootElement,this.styleNames.active,t),$e(this._$button,this.styleNames.clickable,!t),t?(this._$button.setAttribute("disabled","true"),this._tooltipReference.disable()):(this._$button.removeAttribute("disabled"),this._tooltipReference.enable())},e.prototype.toggleEnded=function(t){$e(this._$rootElement,this.styleNames.ended,t),this._$button.innerText=this._textMap.get(Zt.LIVE_INDICATOR_TEXT,{isEnded:t}),this._$button.setAttribute("aria-label",t?"":this._textMap.get(Zt.LIVE_SYNC_LABEL)),this._$button.setAttribute("disabled","true"),t?this._tooltipReference.disable():this._tooltipReference.enable()},e.prototype.show=function(){this.toggle(!0)},e.prototype.hide=function(){this.toggle(!1)},e.prototype.toggle=function(t){$e(this._$rootElement,this.styleNames.hidden,!t)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._unbindEvents(),this._tooltipReference.destroy(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null,this._$button=null},e}($t);bn.extendStyleNames({controlButton:"live-indicator__controlButton___1FH60",hidden:"live-indicator__hidden___1MQc0",liveIndicator:"live-indicator__liveIndicator___3Vudz",ended:"live-indicator__ended___18KqE",active:"live-indicator__active___2Lobb",clickable:"live-indicator__clickable___2efwz",liveIndicatorButton:"live-indicator__liveIndicatorButton___fQcZU"});var mn=function(){function t(t){var e=t.engine,n=t.eventEmitter,i=t.textMap,o=t.tooltipService;this._isHidden=!0,this._isActive=!1,this._isEnded=!1,this._engine=e,this._eventEmitter=n,this._textMap=i,this._tooltipService=o,this._bindCallbacks(),this._initUI(),this._bindEvents(),this._initInterceptor()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._initInterceptor=function(){var t,e=this;this._interceptor=new He(this.getElement(),((t={})[De]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._syncWithLive()},t[Ve]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._syncWithLive()},t))},Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),t.prototype.show=function(){this._toggle(!0)},t.prototype.hide=function(){this._toggle(!1)},t.prototype._initUI=function(){this.view=new t.View({callbacks:{onClick:this._syncWithLive},textMap:this._textMap,tooltipService:this._tooltipService})},t.prototype._bindCallbacks=function(){this._syncWithLive=this._syncWithLive.bind(this)},t.prototype._bindEvents=function(){var t=this;this._unbindEvents=this._eventEmitter.bindEvents([[Nt.LIVE_STATE_CHANGED,this._processStateChange],[Tt.PROGRESS_SYNC_BUTTON_MOUSE_ENTER,function(){t.view.toggleActive(!0)}],[Tt.PROGRESS_SYNC_BUTTON_MOUSE_LEAVE,function(){t.view.toggleActive(t._isActive)}]],this)},t.prototype._processStateChange=function(t){switch(t.nextState){case Pt.NONE:this._toggle(!1),this._toggleActive(!1),this._toggleEnded(!1);break;case Pt.INITIAL:this._toggle(!0);break;case Pt.SYNC:this._toggleActive(!0);break;case Pt.NOT_SYNC:this._toggleActive(!1);break;case Pt.ENDED:this._toggleActive(!1),this._toggleEnded(!0)}},t.prototype._syncWithLive=function(){this._isEnded||this._engine.syncWithLive()},t.prototype._toggle=function(t){this._isHidden=!t,this.view.toggle(t)},t.prototype._toggleActive=function(t){this._isActive=t,this.view.toggleActive(t)},t.prototype._toggleEnded=function(t){this._isEnded=t,this.view.toggleEnded(t)},t.prototype.destroy=function(){this._unbindEvents(),this._interceptor.destroy(),this.view.destroy()},t.moduleName="liveIndicator",t.View=bn,t.dependencies=["engine","eventEmitter","textMap","tooltipService"],t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.bottom-block__controlButton___2zYHZ {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.bottom-block__controlButton___2zYHZ:hover {\n    opacity: .7; }\n.bottom-block__hidden___361S0 {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.bottom-block__bottomBlock___3Y_rW {\n  z-index: 60;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column; }\n.bottom-block__bottomBlock___3Y_rW::-moz-focus-inner {\n    border: 0; }\n.bottom-block__bottomBlock___3Y_rW.bottom-block__activated___YvJ-R .bottom-block__progressBarContainer___2CxAg,\n  .bottom-block__bottomBlock___3Y_rW.bottom-block__activated___YvJ-R .bottom-block__controlsContainerLeft___2Ozxp,\n  .bottom-block__bottomBlock___3Y_rW.bottom-block__activated___YvJ-R .bottom-block__controlsContainerRight___qaM9T,\n  .bottom-block__bottomBlock___3Y_rW.bottom-block__activated___YvJ-R .bottom-block__logoContainer___1esHz,\n  .bottom-block__bottomBlock___3Y_rW.bottom-block__activated___YvJ-R .bottom-block__background___2ZL6j {\n    opacity: 1; }\n.bottom-block__bottomBlock___3Y_rW.bottom-block__showLogoAlways___2bJeD .bottom-block__logoContainer___1esHz {\n    opacity: 1; }\n.bottom-block__bottomBlock___3Y_rW.bottom-block__logoHidden___2N6oy .bottom-block__fullScreenContainer___3q_py {\n    margin-right: 14px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"] .bottom-block__bottomBlock___3Y_rW.bottom-block__logoHidden___2N6oy .bottom-block__fullScreenContainer___3q_py {\n      margin-right: 7px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .bottom-block__bottomBlock___3Y_rW.bottom-block__logoHidden___2N6oy .bottom-block__fullScreenContainer___3q_py {\n      margin-right: 25px; }\n.bottom-block__bottomBlock___3Y_rW.bottom-block__logoHidden___2N6oy .bottom-block__logoContainer___1esHz {\n    display: none; }\n.bottom-block__bottomBlock___3Y_rW.bottom-block__playControlHidden___1mEi9 .bottom-block__playContainer___25g5A {\n    display: none; }\n.bottom-block__bottomBlock___3Y_rW.bottom-block__timeControlHidden___32pcE .bottom-block__timeContainer___2N6cy {\n    display: none; }\n.bottom-block__bottomBlock___3Y_rW.bottom-block__volumeControlHidden___41JXw .bottom-block__volumeContainer___1Zwk- {\n    display: none; }\n.bottom-block__bottomBlock___3Y_rW.bottom-block__fullScreenControlHidden___1jT2c .bottom-block__fullScreenContainer___3q_py {\n    display: none; }\n.bottom-block__bottomBlock___3Y_rW.bottom-block__progressControlHidden___1rhHL .bottom-block__progressBarContainer___2CxAg {\n    display: none; }\n.bottom-block__bottomBlock___3Y_rW.bottom-block__downloadButtonHidden___qisqf .bottom-block__downloadContainer___2Gxyu {\n    display: none; }\n.bottom-block__bottomBlock___3Y_rW.bottom-block__pictureInPictureButtonHidden___WY-f5 .bottom-block__pictureInPictureContainer___tOmqU {\n    display: none; }\n.bottom-block__elementsContainer___1MGej {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  -webkit-box-flex: 2;\n      -ms-flex-positive: 2;\n          flex-grow: 2; }\n.bottom-block__progressBarContainer___2CxAg {\n  position: relative;\n  top: 2px;\n  padding: 0 20px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .bottom-block__progressBarContainer___2CxAg {\n    top: 3px;\n    padding: 0 30px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"] .bottom-block__progressBarContainer___2CxAg {\n    padding: 0 15px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="280px"] .bottom-block__progressBarContainer___2CxAg {\n    padding: 0 12px; }\n.bottom-block__progressBarContainer___2CxAg,\n.bottom-block__controlsContainerLeft___2Ozxp,\n.bottom-block__controlsContainerRight___qaM9T,\n.bottom-block__logoContainer___1esHz {\n  -webkit-transition: opacity .2s;\n  transition: opacity .2s;\n  opacity: 0; }\n.bottom-block__controlsContainerRight___qaM9T,\n.bottom-block__controlsContainerLeft___2Ozxp {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  width: 100%;\n  max-width: 100%;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.bottom-block__controlsContainerRight___qaM9T {\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end; }\n.bottom-block__controlsContainerRight___qaM9T,\n.bottom-block__controlsContainerLeft___2Ozxp,\n.bottom-block__logoContainer___1esHz {\n  height: 54px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .bottom-block__controlsContainerRight___qaM9T, [data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"]\n  .bottom-block__controlsContainerLeft___2Ozxp, [data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"]\n  .bottom-block__logoContainer___1esHz {\n    height: 80px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"] .bottom-block__controlsContainerRight___qaM9T, [data-playable-hook=\'player-container\'][data-playable-max-width~="550px"]\n  .bottom-block__controlsContainerLeft___2Ozxp, [data-playable-hook=\'player-container\'][data-playable-max-width~="550px"]\n  .bottom-block__logoContainer___1esHz {\n    height: 42px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="350px"] .bottom-block__controlsContainerRight___qaM9T, [data-playable-hook=\'player-container\'][data-playable-max-width~="350px"]\n  .bottom-block__controlsContainerLeft___2Ozxp, [data-playable-hook=\'player-container\'][data-playable-max-width~="350px"]\n  .bottom-block__logoContainer___1esHz {\n    height: 36px; }\n.bottom-block__playContainer___25g5A {\n  margin-right: 8px;\n  margin-left: 13px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .bottom-block__playContainer___25g5A {\n    margin-right: 20px;\n    margin-left: 20px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"] .bottom-block__playContainer___25g5A {\n    margin-left: 7px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="280px"] .bottom-block__playContainer___25g5A {\n    margin-left: 4px; }\n.bottom-block__volumeContainer___1Zwk- {\n  margin-right: 13px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .bottom-block__volumeContainer___1Zwk- {\n    margin-right: 20px; }\n.bottom-block__timeContainer___2N6cy {\n  margin-right: 18px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .bottom-block__timeContainer___2N6cy {\n    margin-right: 30px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="400px"] .bottom-block__timeContainer___2N6cy {\n    display: none; }\n.bottom-block__downloadContainer___2Gxyu {\n  margin-right: 8px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .bottom-block__downloadContainer___2Gxyu {\n    margin-right: 18px; }\n.bottom-block__fullScreenContainer___3q_py {\n  margin-right: 8px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .bottom-block__fullScreenContainer___3q_py {\n    margin-right: 18px; }\n.bottom-block__pictureInPictureContainer___tOmqU {\n  margin-right: 8px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .bottom-block__pictureInPictureContainer___tOmqU {\n    margin-right: 18px; }\n.bottom-block__logoContainer___1esHz {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-right: 14px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"] .bottom-block__logoContainer___1esHz {\n    margin-right: 9px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .bottom-block__logoContainer___1esHz {\n    margin-right: 23px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="280px"] .bottom-block__logoContainer___1esHz {\n    margin-right: 12px; }\n.bottom-block__additionalButton___39M0e {\n  margin-right: 8px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .bottom-block__additionalButton___39M0e {\n    margin-right: 18px; }\n.bottom-block__background___2ZL6j {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 181px;\n  -webkit-transition: opacity .2s;\n  transition: opacity .2s;\n  pointer-events: none;\n  opacity: 0;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0)), color-stop(24%, rgba(0, 0, 0, 0.03)), color-stop(50%, rgba(0, 0, 0, 0.15)), color-stop(75%, rgba(0, 0, 0, 0.3)), to(rgba(0, 0, 0, 0.4)));\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.03) 24%, rgba(0, 0, 0, 0.15) 50%, rgba(0, 0, 0, 0.3) 75%, rgba(0, 0, 0, 0.4));\n  background-size: 100% 182px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvdHRvbS1ibG9jay5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztHQUtHO0FBQ0g7RUFDRSxxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsaUNBQXlCO1VBQXpCLHlCQUF5QjtFQUN6QixxQ0FBNkI7RUFBN0IsNkJBQTZCO0VBQzdCLFdBQVc7RUFDWCxVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCw4QkFBOEI7RUFDOUIseUJBQXdCO01BQXhCLHNCQUF3QjtVQUF4Qix3QkFBd0I7RUFDeEIsMEJBQW9CO01BQXBCLHVCQUFvQjtVQUFwQixvQkFBb0IsRUFBRTtBQUN0QjtJQUNFLFlBQVksRUFBRTtBQUVsQjtFQUNFLDhCQUE4QjtFQUM5QixvQkFBb0I7RUFDcEIsd0JBQXdCO0VBQ3hCLHFCQUFxQjtFQUNyQix5QkFBeUI7RUFDekIscUJBQXFCO0VBQ3JCLHNCQUFzQjtFQUN0QixzQkFBc0IsRUFBRTtBQUUxQjtFQUNFLFlBQVk7RUFDWixxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLDZCQUF1QjtFQUF2Qiw4QkFBdUI7TUFBdkIsMkJBQXVCO1VBQXZCLHVCQUF1QixFQUFFO0FBQ3pCO0lBQ0UsVUFBVSxFQUFFO0FBQ2Q7Ozs7O0lBS0UsV0FBVyxFQUFFO0FBQ2Y7SUFDRSxXQUFXLEVBQUU7QUFDZjtJQUNFLG1CQUFtQixFQUFFO0FBQ3JCO01BQ0Usa0JBQWtCLEVBQUU7QUFDdEI7TUFDRSxtQkFBbUIsRUFBRTtBQUN6QjtJQUNFLGNBQWMsRUFBRTtBQUNsQjtJQUNFLGNBQWMsRUFBRTtBQUNsQjtJQUNFLGNBQWMsRUFBRTtBQUNsQjtJQUNFLGNBQWMsRUFBRTtBQUNsQjtJQUNFLGNBQWMsRUFBRTtBQUNsQjtJQUNFLGNBQWMsRUFBRTtBQUNsQjtJQUNFLGNBQWMsRUFBRTtBQUNsQjtJQUNFLGNBQWMsRUFBRTtBQUVwQjtFQUNFLG1CQUFtQjtFQUNuQixxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLFlBQVk7RUFDWixvQkFBYTtNQUFiLHFCQUFhO1VBQWIsYUFBYSxFQUFFO0FBRWpCO0VBQ0UsbUJBQW1CO0VBQ25CLFNBQVM7RUFDVCxnQkFBZ0IsRUFBRTtBQUNsQjtJQUNFLFNBQVM7SUFDVCxnQkFBZ0IsRUFBRTtBQUNwQjtJQUNFLGdCQUFnQixFQUFFO0FBQ3BCO0lBQ0UsZ0JBQWdCLEVBQUU7QUFFdEI7Ozs7RUFJRSxnQ0FBd0I7RUFBeEIsd0JBQXdCO0VBQ3hCLFdBQVcsRUFBRTtBQUVmOztFQUVFLG1CQUFtQjtFQUNuQixxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLG9CQUFRO01BQVIsWUFBUTtVQUFSLFFBQVE7RUFDUixZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CLEVBQUU7QUFFeEI7RUFDRSxzQkFBMEI7TUFBMUIsbUJBQTBCO1VBQTFCLDBCQUEwQixFQUFFO0FBRTlCOzs7RUFHRSxhQUFhLEVBQUU7QUFDZjs7O0lBR0UsYUFBYSxFQUFFO0FBQ2pCOzs7SUFHRSxhQUFhLEVBQUU7QUFDakI7OztJQUdFLGFBQWEsRUFBRTtBQUVuQjtFQUNFLGtCQUFrQjtFQUNsQixrQkFBa0IsRUFBRTtBQUNwQjtJQUNFLG1CQUFtQjtJQUNuQixrQkFBa0IsRUFBRTtBQUN0QjtJQUNFLGlCQUFpQixFQUFFO0FBQ3JCO0lBQ0UsaUJBQWlCLEVBQUU7QUFFdkI7RUFDRSxtQkFBbUIsRUFBRTtBQUNyQjtJQUNFLG1CQUFtQixFQUFFO0FBRXpCO0VBQ0UsbUJBQW1CLEVBQUU7QUFDckI7SUFDRSxtQkFBbUIsRUFBRTtBQUN2QjtJQUNFLGNBQWMsRUFBRTtBQUVwQjtFQUNFLGtCQUFrQixFQUFFO0FBQ3BCO0lBQ0UsbUJBQW1CLEVBQUU7QUFFekI7RUFDRSxrQkFBa0IsRUFBRTtBQUNwQjtJQUNFLG1CQUFtQixFQUFFO0FBRXpCO0VBQ0Usa0JBQWtCLEVBQUU7QUFDcEI7SUFDRSxtQkFBbUIsRUFBRTtBQUV6QjtFQUNFLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QsbUJBQW1CLEVBQUU7QUFDckI7SUFDRSxrQkFBa0IsRUFBRTtBQUN0QjtJQUNFLG1CQUFtQixFQUFFO0FBQ3ZCO0lBQ0UsbUJBQW1CLEVBQUU7QUFFekI7RUFDRSxrQkFBa0IsRUFBRTtBQUNwQjtJQUNFLG1CQUFtQixFQUFFO0FBRXpCO0VBQ0UsbUJBQW1CO0VBQ25CLFNBQVM7RUFDVCxVQUFVO0VBQ1YsUUFBUTtFQUNSLGNBQWM7RUFDZCxnQ0FBd0I7RUFBeEIsd0JBQXdCO0VBQ3hCLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsbU9BQTZKO0VBQTdKLDZKQUE2SjtFQUM3Siw0QkFBNEIsRUFBRSIsImZpbGUiOiJib3R0b20tYmxvY2suc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLmNvbnRyb2xCdXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmNvbnRyb2xCdXR0b246aG92ZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5oaWRkZW4ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAgIWltcG9ydGFudDsgfVxuXG4uYm90dG9tQmxvY2sge1xuICB6LWluZGV4OiA2MDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxuICAuYm90dG9tQmxvY2s6Oi1tb3otZm9jdXMtaW5uZXIge1xuICAgIGJvcmRlcjogMDsgfVxuICAuYm90dG9tQmxvY2suYWN0aXZhdGVkIC5wcm9ncmVzc0JhckNvbnRhaW5lcixcbiAgLmJvdHRvbUJsb2NrLmFjdGl2YXRlZCAuY29udHJvbHNDb250YWluZXJMZWZ0LFxuICAuYm90dG9tQmxvY2suYWN0aXZhdGVkIC5jb250cm9sc0NvbnRhaW5lclJpZ2h0LFxuICAuYm90dG9tQmxvY2suYWN0aXZhdGVkIC5sb2dvQ29udGFpbmVyLFxuICAuYm90dG9tQmxvY2suYWN0aXZhdGVkIC5iYWNrZ3JvdW5kIHtcbiAgICBvcGFjaXR5OiAxOyB9XG4gIC5ib3R0b21CbG9jay5zaG93TG9nb0Fsd2F5cyAubG9nb0NvbnRhaW5lciB7XG4gICAgb3BhY2l0eTogMTsgfVxuICAuYm90dG9tQmxvY2subG9nb0hpZGRlbiAuZnVsbFNjcmVlbkNvbnRhaW5lciB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxNHB4OyB9XG4gICAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjU1MHB4XCJdIC5ib3R0b21CbG9jay5sb2dvSGlkZGVuIC5mdWxsU2NyZWVuQ29udGFpbmVyIHtcbiAgICAgIG1hcmdpbi1yaWdodDogN3B4OyB9XG4gICAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5ib3R0b21CbG9jay5sb2dvSGlkZGVuIC5mdWxsU2NyZWVuQ29udGFpbmVyIHtcbiAgICAgIG1hcmdpbi1yaWdodDogMjVweDsgfVxuICAuYm90dG9tQmxvY2subG9nb0hpZGRlbiAubG9nb0NvbnRhaW5lciB7XG4gICAgZGlzcGxheTogbm9uZTsgfVxuICAuYm90dG9tQmxvY2sucGxheUNvbnRyb2xIaWRkZW4gLnBsYXlDb250YWluZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7IH1cbiAgLmJvdHRvbUJsb2NrLnRpbWVDb250cm9sSGlkZGVuIC50aW1lQ29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBub25lOyB9XG4gIC5ib3R0b21CbG9jay52b2x1bWVDb250cm9sSGlkZGVuIC52b2x1bWVDb250YWluZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7IH1cbiAgLmJvdHRvbUJsb2NrLmZ1bGxTY3JlZW5Db250cm9sSGlkZGVuIC5mdWxsU2NyZWVuQ29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBub25lOyB9XG4gIC5ib3R0b21CbG9jay5wcm9ncmVzc0NvbnRyb2xIaWRkZW4gLnByb2dyZXNzQmFyQ29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBub25lOyB9XG4gIC5ib3R0b21CbG9jay5kb3dubG9hZEJ1dHRvbkhpZGRlbiAuZG93bmxvYWRDb250YWluZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7IH1cbiAgLmJvdHRvbUJsb2NrLnBpY3R1cmVJblBpY3R1cmVCdXR0b25IaWRkZW4gLnBpY3R1cmVJblBpY3R1cmVDb250YWluZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7IH1cblxuLmVsZW1lbnRzQ29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBmbGV4O1xuICB3aWR0aDogMTAwJTtcbiAgZmxleC1ncm93OiAyOyB9XG5cbi5wcm9ncmVzc0JhckNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiAycHg7XG4gIHBhZGRpbmc6IDAgMjBweDsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl0gLnByb2dyZXNzQmFyQ29udGFpbmVyIHtcbiAgICB0b3A6IDNweDtcbiAgICBwYWRkaW5nOiAwIDMwcHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjU1MHB4XCJdIC5wcm9ncmVzc0JhckNvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMCAxNXB4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLW1heC13aWR0aH49XCIyODBweFwiXSAucHJvZ3Jlc3NCYXJDb250YWluZXIge1xuICAgIHBhZGRpbmc6IDAgMTJweDsgfVxuXG4ucHJvZ3Jlc3NCYXJDb250YWluZXIsXG4uY29udHJvbHNDb250YWluZXJMZWZ0LFxuLmNvbnRyb2xzQ29udGFpbmVyUmlnaHQsXG4ubG9nb0NvbnRhaW5lciB7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgLjJzO1xuICBvcGFjaXR5OiAwOyB9XG5cbi5jb250cm9sc0NvbnRhaW5lclJpZ2h0LFxuLmNvbnRyb2xzQ29udGFpbmVyTGVmdCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleDogMTtcbiAgd2lkdGg6IDEwMCU7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxuXG4uY29udHJvbHNDb250YWluZXJSaWdodCB7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7IH1cblxuLmNvbnRyb2xzQ29udGFpbmVyUmlnaHQsXG4uY29udHJvbHNDb250YWluZXJMZWZ0LFxuLmxvZ29Db250YWluZXIge1xuICBoZWlnaHQ6IDU0cHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5jb250cm9sc0NvbnRhaW5lclJpZ2h0LCBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl1cbiAgLmNvbnRyb2xzQ29udGFpbmVyTGVmdCwgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdXG4gIC5sb2dvQ29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDgwcHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjU1MHB4XCJdIC5jb250cm9sc0NvbnRhaW5lclJpZ2h0LCBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1tYXgtd2lkdGh+PVwiNTUwcHhcIl1cbiAgLmNvbnRyb2xzQ29udGFpbmVyTGVmdCwgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjU1MHB4XCJdXG4gIC5sb2dvQ29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDQycHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjM1MHB4XCJdIC5jb250cm9sc0NvbnRhaW5lclJpZ2h0LCBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1tYXgtd2lkdGh+PVwiMzUwcHhcIl1cbiAgLmNvbnRyb2xzQ29udGFpbmVyTGVmdCwgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjM1MHB4XCJdXG4gIC5sb2dvQ29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDM2cHg7IH1cblxuLnBsYXlDb250YWluZXIge1xuICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgbWFyZ2luLWxlZnQ6IDEzcHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5wbGF5Q29udGFpbmVyIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IDIwcHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjU1MHB4XCJdIC5wbGF5Q29udGFpbmVyIHtcbiAgICBtYXJnaW4tbGVmdDogN3B4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLW1heC13aWR0aH49XCIyODBweFwiXSAucGxheUNvbnRhaW5lciB7XG4gICAgbWFyZ2luLWxlZnQ6IDRweDsgfVxuXG4udm9sdW1lQ29udGFpbmVyIHtcbiAgbWFyZ2luLXJpZ2h0OiAxM3B4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAudm9sdW1lQ29udGFpbmVyIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7IH1cblxuLnRpbWVDb250YWluZXIge1xuICBtYXJnaW4tcmlnaHQ6IDE4cHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC50aW1lQ29udGFpbmVyIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjQwMHB4XCJdIC50aW1lQ29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBub25lOyB9XG5cbi5kb3dubG9hZENvbnRhaW5lciB7XG4gIG1hcmdpbi1yaWdodDogOHB4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAuZG93bmxvYWRDb250YWluZXIge1xuICAgIG1hcmdpbi1yaWdodDogMThweDsgfVxuXG4uZnVsbFNjcmVlbkNvbnRhaW5lciB7XG4gIG1hcmdpbi1yaWdodDogOHB4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAuZnVsbFNjcmVlbkNvbnRhaW5lciB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxOHB4OyB9XG5cbi5waWN0dXJlSW5QaWN0dXJlQ29udGFpbmVyIHtcbiAgbWFyZ2luLXJpZ2h0OiA4cHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5waWN0dXJlSW5QaWN0dXJlQ29udGFpbmVyIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDE4cHg7IH1cblxuLmxvZ29Db250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBtYXJnaW4tcmlnaHQ6IDE0cHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjU1MHB4XCJdIC5sb2dvQ29udGFpbmVyIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDlweDsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl0gLmxvZ29Db250YWluZXIge1xuICAgIG1hcmdpbi1yaWdodDogMjNweDsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1tYXgtd2lkdGh+PVwiMjgwcHhcIl0gLmxvZ29Db250YWluZXIge1xuICAgIG1hcmdpbi1yaWdodDogMTJweDsgfVxuXG4uYWRkaXRpb25hbEJ1dHRvbiB7XG4gIG1hcmdpbi1yaWdodDogOHB4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAuYWRkaXRpb25hbEJ1dHRvbiB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxOHB4OyB9XG5cbi5iYWNrZ3JvdW5kIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICBoZWlnaHQ6IDE4MXB4O1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycztcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIG9wYWNpdHk6IDA7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHJnYmEoMCwgMCwgMCwgMCksIHJnYmEoMCwgMCwgMCwgMC4wMykgMjQlLCByZ2JhKDAsIDAsIDAsIDAuMTUpIDUwJSwgcmdiYSgwLCAwLCAwLCAwLjMpIDc1JSwgcmdiYSgwLCAwLCAwLCAwLjQpKTtcbiAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDE4MnB4OyB9XG4iXX0= */');var fn=function(t){function e(e){var n=t.call(this)||this,i=e.callbacks,o=e.elements;return n._callbacks=i,n._initDOM(o),n._bindEvents(),n}return o(e,t),e.prototype._initDOM=function(t){var e;this._$rootElement=jt('<div data-playable-hook="bottom-block" class="'+(e={styles:this.styleNames}).styles.bottomBlock+'"> <div class="'+e.styles.background+'" data-playable-hook="screen-bottom-background"> </div> <div class="'+e.styles.progressBarContainer+'" data-playable-hook="progress-bar-container"> </div> <div class="'+e.styles.elementsContainer+'"> <div class="'+e.styles.controlsContainerLeft+'" data-playable-hook="controls-container-left"> <div class="'+e.styles.playContainer+'" data-playable-hook="play-container"> </div> <div class="'+e.styles.volumeContainer+'" data-playable-hook="volume-container"> </div> <div class="'+e.styles.timeContainer+'" data-playable-hook="time-container"> </div> </div> <div class="'+e.styles.controlsContainerRight+'" data-playable-hook="controls-container-right"> <div class="'+e.styles.pictureInPictureContainer+'" data-playable-hook="picture-in-picture-container"> </div> <div class="'+e.styles.downloadContainer+'" data-playable-hook="download-container"> </div> <div class="'+e.styles.fullScreenContainer+'" data-playable-hook="full-screen-container"> </div> </div> <div class="'+e.styles.logoContainer+'" data-playable-hook="logo-container"> </div> </div></div>'),this._$leftControllsContainer=ze(this._$rootElement,"controls-container-left"),this._$rightControllsContainer=ze(this._$rootElement,"controls-container-right");var n=ze(this._$rootElement,"play-container"),i=ze(this._$rootElement,"volume-container"),o=ze(this._$rootElement,"time-container"),r=ze(this._$rootElement,"full-screen-container"),a=ze(this._$rootElement,"logo-container"),s=ze(this._$rootElement,"progress-bar-container"),l=ze(this._$rootElement,"download-container"),c=ze(this._$rootElement,"picture-in-picture-container");n.appendChild(t.play),i.appendChild(t.volume),o.appendChild(t.time),r.appendChild(t.fullScreen),a.appendChild(t.logo),s.appendChild(t.progress),l.appendChild(t.download),c.appendChild(t.pictureInPicture)},e.prototype._preventClickPropagation=function(t){t.stopPropagation()},e.prototype._bindEvents=function(){this._$rootElement.addEventListener("click",this._preventClickPropagation),this._$rootElement.addEventListener("mousemove",this._callbacks.onBlockMouseMove),this._$rootElement.addEventListener("mouseleave",this._callbacks.onBlockMouseOut)},e.prototype._unbindEvents=function(){this._$rootElement.removeEventListener("click",this._preventClickPropagation),this._$rootElement.removeEventListener("mousemove",this._callbacks.onBlockMouseMove),this._$rootElement.removeEventListener("mouseleave",this._callbacks.onBlockMouseOut)},e.prototype.addControl=function(t,e,n){var i=document.createElement("div");i.setAttribute("data-playable-hook","additional-"+t),i.classList.add(this.styleNames.additionalButton),i.appendChild(e),"left"!==n?this._$rightControllsContainer.insertBefore(i,this._$rightControllsContainer.children[0]):this._$leftControllsContainer.appendChild(i)},e.prototype.setShouldLogoShowAlwaysFlag=function(t){$e(this._$rootElement,this.styleNames.showLogoAlways,t),this.showLogo()},e.prototype.showPlayControl=function(){this._$rootElement.classList.remove(this.styleNames.playControlHidden)},e.prototype.hidePlayControl=function(){this._$rootElement.classList.add(this.styleNames.playControlHidden)},e.prototype.showTimeControl=function(){this._$rootElement.classList.remove(this.styleNames.timeControlHidden)},e.prototype.hideTimeControl=function(){this._$rootElement.classList.add(this.styleNames.timeControlHidden)},e.prototype.showVolumeControl=function(){this._$rootElement.classList.remove(this.styleNames.volumeControlHidden)},e.prototype.hideVolumeControl=function(){this._$rootElement.classList.add(this.styleNames.volumeControlHidden)},e.prototype.showFullScreenControl=function(){this._$rootElement.classList.remove(this.styleNames.fullScreenControlHidden)},e.prototype.hideFullScreenControl=function(){this._$rootElement.classList.add(this.styleNames.fullScreenControlHidden)},e.prototype.showLogo=function(){this._$rootElement.classList.remove(this.styleNames.logoHidden)},e.prototype.hideLogo=function(){this._$rootElement.classList.add(this.styleNames.logoHidden)},e.prototype.showProgressControl=function(){this._$rootElement.classList.remove(this.styleNames.progressControlHidden)},e.prototype.hideProgressControl=function(){this._$rootElement.classList.add(this.styleNames.progressControlHidden)},e.prototype.showDownloadButton=function(){this._$rootElement.classList.remove(this.styleNames.downloadButtonHidden)},e.prototype.hidePictureInPictureControl=function(){this._$rootElement.classList.add(this.styleNames.pictureInPictureButtonHidden)},e.prototype.showPictureInPictureControl=function(){this._$rootElement.classList.remove(this.styleNames.pictureInPictureButtonHidden)},e.prototype.hideDownloadButton=function(){this._$rootElement.classList.add(this.styleNames.downloadButtonHidden)},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.showContent=function(){this._$rootElement.classList.add(this.styleNames.activated)},e.prototype.hideContent=function(){this._$rootElement.classList.remove(this.styleNames.activated)},e.prototype.destroy=function(){this._unbindEvents(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null},e}($t);fn.extendStyleNames({controlButton:"bottom-block__controlButton___2zYHZ",hidden:"bottom-block__hidden___361S0",bottomBlock:"bottom-block__bottomBlock___3Y_rW",activated:"bottom-block__activated___YvJ-R",progressBarContainer:"bottom-block__progressBarContainer___2CxAg",controlsContainerLeft:"bottom-block__controlsContainerLeft___2Ozxp",controlsContainerRight:"bottom-block__controlsContainerRight___qaM9T",logoContainer:"bottom-block__logoContainer___1esHz",background:"bottom-block__background___2ZL6j",showLogoAlways:"bottom-block__showLogoAlways___2bJeD",logoHidden:"bottom-block__logoHidden___2N6oy",fullScreenContainer:"bottom-block__fullScreenContainer___3q_py",playControlHidden:"bottom-block__playControlHidden___1mEi9",playContainer:"bottom-block__playContainer___25g5A",timeControlHidden:"bottom-block__timeControlHidden___32pcE",timeContainer:"bottom-block__timeContainer___2N6cy",volumeControlHidden:"bottom-block__volumeControlHidden___41JXw",volumeContainer:"bottom-block__volumeContainer___1Zwk-",fullScreenControlHidden:"bottom-block__fullScreenControlHidden___1jT2c",progressControlHidden:"bottom-block__progressControlHidden___1rhHL",downloadButtonHidden:"bottom-block__downloadButtonHidden___qisqf",downloadContainer:"bottom-block__downloadContainer___2Gxyu",pictureInPictureButtonHidden:"bottom-block__pictureInPictureButtonHidden___WY-f5",pictureInPictureContainer:"bottom-block__pictureInPictureContainer___tOmqU",elementsContainer:"bottom-block__elementsContainer___1MGej",additionalButton:"bottom-block__additionalButton___39M0e"});var yn=function(){function t(t){this._isBlockFocused=!1,this.isHidden=!1;var e=t.eventEmitter;this._eventEmitter=e,this._bindViewCallbacks(),this._initUI(this._getControlElements(t)),this._bindEvents()}return t.prototype._getControlElements=function(t){var e=t.playControl,n=t.progressControl,i=t.timeControl,o=t.volumeControl,r=t.fullScreenControl,a=t.logo,s=t.downloadButton,l=t.pictureInPictureControl;return{play:e.getElement(),progress:n.getElement(),time:i.getElement(),volume:o.getElement(),fullScreen:r.getElement(),download:s.getElement(),logo:a.getElement(),pictureInPicture:l.getElement()}},t.prototype.getElement=function(){return this.view.getElement()},t.prototype.addControl=function(t,e,n){var i=(n||{}).position,o=void 0===i?"right":i;this.view.addControl(t,e,o)},t.prototype._initUI=function(e){var n={elements:e,callbacks:{onBlockMouseMove:this._setFocusState,onBlockMouseOut:this._removeFocusState}};this.view=new t.View(n),this.hideLogo(),this.hideDownloadButton()},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Tt.FULL_SCREEN_STATE_CHANGED,this._removeFocusState]],this)},t.prototype._bindViewCallbacks=function(){this._setFocusState=this._setFocusState.bind(this),this._removeFocusState=this._removeFocusState.bind(this)},t.prototype._setFocusState=function(){this._isBlockFocused=!0},t.prototype._removeFocusState=function(){this._isBlockFocused=!1},Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._isBlockFocused},enumerable:!0,configurable:!0}),t.prototype.showContent=function(){this.view.showContent()},t.prototype.hideContent=function(){this.view.hideContent()},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.setAlwaysShowLogo=function(t){this.view.setShouldLogoShowAlwaysFlag(t)},t.prototype.hideLogo=function(){this.view.hideLogo()},t.prototype.showLogo=function(){this.view.showLogo()},t.prototype.showPlayControl=function(){this.view.showPlayControl()},t.prototype.showVolumeControl=function(){this.view.showVolumeControl()},t.prototype.showTimeControl=function(){this.view.showTimeControl()},t.prototype.showFullScreenControl=function(){this.view.showFullScreenControl()},t.prototype.showPictureInPictureControl=function(){this.view.showPictureInPictureControl()},t.prototype.showProgressControl=function(){this.view.showProgressControl()},t.prototype.showDownloadButton=function(){this.view.showDownloadButton()},t.prototype.hidePlayControl=function(){this.view.hidePlayControl()},t.prototype.hideVolumeControl=function(){this.view.hideVolumeControl()},t.prototype.hideTimeControl=function(){this.view.hideTimeControl()},t.prototype.hideFullScreenControl=function(){this.view.hideFullScreenControl()},t.prototype.hidePictureInPictureControl=function(){this.view.hidePictureInPictureControl()},t.prototype.hideProgressControl=function(){this.view.hideProgressControl()},t.prototype.hideDownloadButton=function(){this.view.hideDownloadButton()},t.prototype.destroy=function(){this._unbindEvents(),this.view.destroy()},t.moduleName="bottomBlock",t.View=fn,t.dependencies=["playControl","progressControl","timeControl","volumeControl","fullScreenControl","logo","downloadButton","eventEmitter","pictureInPictureControl"],a([S()],t.prototype,"setAlwaysShowLogo",null),a([S()],t.prototype,"hideLogo",null),a([S()],t.prototype,"showLogo",null),a([S()],t.prototype,"showPlayControl",null),a([S()],t.prototype,"showVolumeControl",null),a([S()],t.prototype,"showTimeControl",null),a([S()],t.prototype,"showFullScreenControl",null),a([S()],t.prototype,"showPictureInPictureControl",null),a([S()],t.prototype,"showProgressControl",null),a([S()],t.prototype,"showDownloadButton",null),a([S()],t.prototype,"hidePlayControl",null),a([S()],t.prototype,"hideVolumeControl",null),a([S()],t.prototype,"hideTimeControl",null),a([S()],t.prototype,"hideFullScreenControl",null),a([S()],t.prototype,"hidePictureInPictureControl",null),a([S()],t.prototype,"hideProgressControl",null),a([S()],t.prototype,"hideDownloadButton",null),t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.tooltip__controlButton___E3x3L {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.tooltip__controlButton___E3x3L:hover {\n    opacity: .7; }\n.tooltip__hidden___3R_Au {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.tooltip__tooltip___1TO08 {\n  position: absolute;\n  z-index: 100;\n  visibility: hidden;\n  -webkit-transition: opacity .2s, visibility .2s;\n  transition: opacity .2s, visibility .2s;\n  opacity: 0; }\n.tooltip__tooltip___1TO08.tooltip__showAsText___3-qca {\n    padding: 4px 5px;\n    background: rgba(0, 0, 0, 0.5); }\n.tooltip__tooltip___1TO08.tooltip__tooltipVisible___37y2K {\n    visibility: visible;\n    opacity: 1; }\n.tooltip__showAsText___3-qca .tooltip__tooltipInner___2s85x {\n  font-size: 11px;\n  line-height: 12px;\n  white-space: nowrap;\n  color: white; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvb2x0aXAuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7R0FLRztBQUNIO0VBQ0UscUJBQWM7RUFBZCxxQkFBYztFQUFkLGNBQWM7RUFDZCxXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLGlDQUF5QjtVQUF6Qix5QkFBeUI7RUFDekIscUNBQTZCO0VBQTdCLDZCQUE2QjtFQUM3QixXQUFXO0VBQ1gsVUFBVTtFQUNWLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QsOEJBQThCO0VBQzlCLHlCQUF3QjtNQUF4QixzQkFBd0I7VUFBeEIsd0JBQXdCO0VBQ3hCLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CLEVBQUU7QUFDdEI7SUFDRSxZQUFZLEVBQUU7QUFFbEI7RUFDRSw4QkFBOEI7RUFDOUIsb0JBQW9CO0VBQ3BCLHdCQUF3QjtFQUN4QixxQkFBcUI7RUFDckIseUJBQXlCO0VBQ3pCLHFCQUFxQjtFQUNyQixzQkFBc0I7RUFDdEIsc0JBQXNCLEVBQUU7QUFFMUI7RUFDRSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixnREFBd0M7RUFBeEMsd0NBQXdDO0VBQ3hDLFdBQVcsRUFBRTtBQUNiO0lBQ0UsaUJBQWlCO0lBQ2pCLCtCQUErQixFQUFFO0FBQ25DO0lBQ0Usb0JBQW9CO0lBQ3BCLFdBQVcsRUFBRTtBQUVqQjtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsb0JBQW9CO0VBQ3BCLGFBQWEsRUFBRSIsImZpbGUiOiJ0b29sdGlwLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBjaGFsbGVuZ2UgaGVyZSB0byBzdXBwb3J0IFwicGxheWFibGUgcXVlcmllc1wiIGFuZCBcImRpcmVjdGlvblwiIGF0IHRoZSBzYW1lIHRpbWUgYW5kIGFsbG93IG1peGlucyBsaWtlOlxuICogICBAaW5jbHVkZSBxdWVyeShtYXgtd2lkdGgtNTUwKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgbHRyKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgcnRsKCkpXG4gKi9cbi5jb250cm9sQnV0dG9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZzogMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAuMnM7XG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IG9wYWNpdHk7XG4gIG9wYWNpdHk6IDE7XG4gIGJvcmRlcjogMDtcbiAgYm9yZGVyLXJhZGl1czogMDtcbiAgb3V0bGluZTogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyOyB9XG4gIC5jb250cm9sQnV0dG9uOmhvdmVyIHtcbiAgICBvcGFjaXR5OiAuNzsgfVxuXG4uaGlkZGVuIHtcbiAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIG1pbi13aWR0aDogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICBvcGFjaXR5OiAwICFpbXBvcnRhbnQ7IH1cblxuLnRvb2x0aXAge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDEwMDtcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycywgdmlzaWJpbGl0eSAuMnM7XG4gIG9wYWNpdHk6IDA7IH1cbiAgLnRvb2x0aXAuc2hvd0FzVGV4dCB7XG4gICAgcGFkZGluZzogNHB4IDVweDtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7IH1cbiAgLnRvb2x0aXAudG9vbHRpcFZpc2libGUge1xuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgb3BhY2l0eTogMTsgfVxuXG4uc2hvd0FzVGV4dCAudG9vbHRpcElubmVyIHtcbiAgZm9udC1zaXplOiAxMXB4O1xuICBsaW5lLWhlaWdodDogMTJweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgY29sb3I6IHdoaXRlOyB9XG4iXX0= */');var vn,In=function(t){function e(){var e=t.call(this)||this;return e._isHidden=!0,e._initDOM(),e}return o(e,t),e.prototype._initDOM=function(){var t;this._$rootElement=jt('<div class="'+(t={styles:this.styleNames}).styles.tooltip+'" role="tooltip"> <div class="'+t.styles.tooltipInner+'" data-playable-hook="tooltip-inner"></div></div>'),this._$tooltipInner=ze(this._$rootElement,"tooltip-inner")},e.prototype.getElement=function(){return this._$rootElement},Object.defineProperty(e.prototype,"isHidden",{get:function(){return this._isHidden},enumerable:!0,configurable:!0}),e.prototype.show=function(){this._isHidden&&(this._isHidden=!1,this._$rootElement.classList.add(this.styleNames.tooltipVisible))},e.prototype.hide=function(){this._isHidden||(this._isHidden=!0,this._$rootElement.classList.remove(this.styleNames.tooltipVisible))},e.prototype.setText=function(t){this.clearElement(),this._showAsText(),this._$tooltipInner.innerText=t},e.prototype.clearElement=function(){this._$tooltipInner.firstChild&&this._$tooltipInner.removeChild(this._$tooltipInner.firstChild)},e.prototype.setElement=function(t){t!==this._$tooltipInner.firstChild&&(this._showAsElement(),this.clearElement(),t&&this._$tooltipInner.appendChild(t))},e.prototype._showAsText=function(){this._$rootElement.classList.remove(this.styleNames.showAsElement),this._$rootElement.classList.add(this.styleNames.showAsText)},e.prototype._showAsElement=function(){this._$rootElement.classList.remove(this.styleNames.showAsText),this._$rootElement.classList.add(this.styleNames.showAsElement)},e.prototype.setStyle=function(t){var e=this;Object.keys(t).forEach((function(n){e._$rootElement.style[n]=t[n]}))},e.prototype.destroy=function(){this._$rootElement=null,this._$tooltipInner=null},e}(zt);function Fn(t,e){return t+e/2}function Bn(t,e,n){void 0===n&&(n=Fn);var i=t.getBoundingClientRect(),o=e.getBoundingClientRect();return{placement:i.top>o.top?vn.BOTTOM:vn.TOP,x:n(i.left-o.left,i.width)}}In.extendStyleNames({controlButton:"tooltip__controlButton___E3x3L",hidden:"tooltip__hidden___3R_Au",tooltip:"tooltip__tooltip___1TO08",showAsText:"tooltip__showAsText___3-qca",tooltipVisible:"tooltip__tooltipVisible___37y2K",tooltipInner:"tooltip__tooltipInner___2s85x"}),function(t){t.TOP="top",t.BOTTOM="bottom"}(vn||(vn={}));var En=["mouseenter","focus"],Cn=["mouseleave","blur"],Un=function(){function t(t,e,n){this._$reference=t,this._options=n,this._tooltipService=e,this._eventListeners=[],this._bindEvents()}return t.prototype._bindEvents=function(){var t=this;En.forEach((function(e){var n=function(){t.show()};t._eventListeners.push({event:e,fn:n}),t._$reference.addEventListener(e,n)})),Cn.forEach((function(e){var n=function(){t.hide()};t._eventListeners.push({event:e,fn:n}),t._$reference.addEventListener(e,n)}))},Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._tooltipService.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._isDisabled},enumerable:!0,configurable:!0}),t.prototype.show=function(){this._isDisabled||this._tooltipService.show({text:this._options.text,element:this._options.element,position:Bn(this._$reference,this._tooltipService.tooltipContainerElement)})},t.prototype.hide=function(){this._tooltipService.hide()},t.prototype.setText=function(t){this._options.text=t,this._tooltipService.setText(t)},t.prototype.disable=function(){this._isDisabled=!0},t.prototype.enable=function(){this._isDisabled=!1},t.prototype.destroy=function(){var t=this;this._eventListeners.forEach((function(e){var n=e.event,i=e.fn;t._$reference.removeEventListener(n,i)})),this._eventListeners=null,this._$reference=null,this._tooltipService=null,this._options=null},t}();Kt(".tooltip-container__tooltipContainer___2guVa {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 10px 10px 6px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvb2x0aXAtY29udGFpbmVyLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBbUI7RUFDbkIsT0FBTztFQUNQLFNBQVM7RUFDVCxVQUFVO0VBQ1YsUUFBUTtFQUNSLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2Qsc0JBQXNCLEVBQUUiLCJmaWxlIjoidG9vbHRpcC1jb250YWluZXIuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50b29sdGlwQ29udGFpbmVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG1hcmdpbjogMTBweCAxMHB4IDZweDsgfVxuIl19 */");var xn=function(t){function e(e){var n=t.call(this)||this;return n._tooltip=e,n._initDOM(),n}return o(e,t),e.prototype.getElement=function(){return this._$rootElement},e.prototype._initDOM=function(){this._$rootElement=jt('<div class="'+this.styleNames.tooltipContainer+'" data-playable-component></div>'),this._$rootElement.appendChild(this._tooltip.getElement())},e.prototype.getTooltipPositionStyles=function(t){return"function"==typeof t&&(t=t(this._$rootElement)),t.placement===vn.TOP?{left:this._getTooltipLeftX(t.x)+"px",top:0,bottom:"initial"}:{left:this._getTooltipLeftX(t.x)+"px",top:"initial",bottom:0}},e.prototype.destroy=function(){this._tooltip=null,this._$rootElement=null},e.prototype._getTooltipLeftX=function(t){var e=this._tooltip.getElement().getBoundingClientRect(),n=this._$rootElement.getBoundingClientRect(),i=t-e.width/2;return i=Math.max(i,0),i=Math.min(i,n.width-e.width)},e}(zt);xn.extendStyleNames({tooltipContainer:"tooltip-container__tooltipContainer___2guVa"});var Qn=function(){function t(t){var e=t.eventEmitter;this._eventEmitter=e,this._tooltip=new In,this._tooltipContainer=new xn(this._tooltip),this._bindEvents()}return Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._tooltip.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipContainerElement",{get:function(){return this._tooltipContainer.getElement()},enumerable:!0,configurable:!0}),t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Tt.FULL_SCREEN_STATE_CHANGED,this.hide]],this)},t.prototype.setText=function(t){this._tooltip.setText(t)},t.prototype.show=function(t){t.element?this._tooltip.setElement(t.element):this._tooltip.setText(t.text),this._tooltip.setStyle(this._tooltipContainer.getTooltipPositionStyles(t.position)),this._tooltip.show()},t.prototype.clearElement=function(){this._tooltip.clearElement()},t.prototype.hide=function(){this._tooltip.hide()},t.prototype.createReference=function(t,e){return new Un(t,this,e)},t.prototype.destroy=function(){this._unbindEvents(),this._tooltip.destroy(),this._tooltipContainer.destroy(),this._tooltip=null,this._tooltipContainer=null,this._eventEmitter=null},t.moduleName="tooltipService",t.dependencies=["eventEmitter"],t}(),Rn={progressPlayed:{backgroundColor:function(t){return t.progressColor}},progressSeekTo:{backgroundColor:function(t){return ve(t.progressColor,.5)}},progressSeekBtn:{backgroundColor:function(t){return t.progressColor}}};Kt("/**\n * The challenge here to support \"playable queries\" and \"direction\" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.progress__controlButton___2pi4V {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.progress__controlButton___2pi4V:hover {\n    opacity: .7; }\n.progress__hidden___3Rjqh {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.progress__seekBlock___V4YqW {\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 6px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-transition: opacity .2s, visibility .2s;\n  transition: opacity .2s, visibility .2s;\n  -ms-touch-action: none;\n      touch-action: none; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .progress__seekBlock___V4YqW {\n    height: 8px; }\n.progress__seekBlock___V4YqW.progress__inLive___3324R .progress__played___1dShL {\n    background-color: #ea492e; }\n.progress__seekBlock___V4YqW.progress__inLive___3324R .progress__seekTo___T0D_O {\n    background-color: rgba(234, 73, 46, 0.5); }\n.progress__seekBlock___V4YqW.progress__inLive___3324R .progress__syncButton___3N1QN {\n    display: initial; }\n.progress__seekBlock___V4YqW:hover .progress__progressBarsWrapper___1SSlL, .progress__seekBlock___V4YqW.progress__isDragging___2Tcb5 .progress__progressBarsWrapper___1SSlL {\n    -webkit-transform: scaleY(1);\n            transform: scaleY(1); }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .progress__seekBlock___V4YqW:hover .progress__progressBarsWrapper___1SSlL, [data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .progress__seekBlock___V4YqW.progress__isDragging___2Tcb5 .progress__progressBarsWrapper___1SSlL {\n      -webkit-transform: scaleY(1);\n              transform: scaleY(1); }\n.progress__seekBlock___V4YqW:hover .progress__progressBarsWrapper___1SSlL .progress__seekTo___T0D_O, .progress__seekBlock___V4YqW.progress__isDragging___2Tcb5 .progress__progressBarsWrapper___1SSlL .progress__seekTo___T0D_O {\n      opacity: 1; }\n.progress__seekBlock___V4YqW:hover .progress__progressBarsWrapper___1SSlL .progress__timeIndicator___2wltB:after, .progress__seekBlock___V4YqW.progress__isDragging___2Tcb5 .progress__progressBarsWrapper___1SSlL .progress__timeIndicator___2wltB:after {\n      -webkit-transform: scale(1);\n              transform: scale(1); }\n.progress__seekBlock___V4YqW:hover .progress__seekButton___3UtgF, .progress__seekBlock___V4YqW.progress__isDragging___2Tcb5 .progress__seekButton___3UtgF {\n    -webkit-transform: scale(1);\n            transform: scale(1); }\n.progress__seekBlock___V4YqW:hover .progress__seekButton___3UtgF.progress__liveSync___PIvwF, .progress__seekBlock___V4YqW.progress__isDragging___2Tcb5 .progress__seekButton___3UtgF.progress__liveSync___PIvwF {\n      left: 100%; }\n.progress__seekBlock___V4YqW:hover .progress__syncButton___3N1QN, .progress__seekBlock___V4YqW.progress__isDragging___2Tcb5 .progress__syncButton___3N1QN {\n    -webkit-transform: scale(1.4);\n            transform: scale(1.4); }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .progress__seekBlock___V4YqW:hover .progress__syncButton___3N1QN, [data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .progress__seekBlock___V4YqW.progress__isDragging___2Tcb5 .progress__syncButton___3N1QN {\n      -webkit-transform: scale(1.33);\n              transform: scale(1.33); }\n.progress__seekBlock___V4YqW:hover .progress__syncButton___3N1QN.progress__liveSync___PIvwF, .progress__seekBlock___V4YqW.progress__isDragging___2Tcb5 .progress__syncButton___3N1QN.progress__liveSync___PIvwF {\n      background-color: #fff; }\n.progress__seekButtonContainer___1TZ8Z {\n  position: absolute;\n  z-index: 7;\n  top: -3px;\n  left: -6px; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .progress__seekButtonContainer___1TZ8Z {\n    top: -4px;\n    left: -8px;\n    width: 16px;\n    height: 16px; }\n.progress__seekButton___3UtgF {\n  display: block;\n  width: 12px;\n  height: 12px;\n  content: '';\n  cursor: pointer;\n  -webkit-transition: -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  transition: -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  transition: transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  transition: transform 0.1s cubic-bezier(0, 0, 0.2, 1), -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -webkit-transform: scale(0);\n          transform: scale(0);\n  border-radius: 50%;\n  background-color: #fff; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .progress__seekButton___3UtgF {\n    width: 16px;\n    height: 16px; }\n.progress__syncButton___3N1QN {\n  position: absolute;\n  z-index: 6;\n  top: -2px;\n  right: -5px;\n  display: none;\n  width: 6px;\n  height: 6px;\n  cursor: pointer;\n  -webkit-transition: -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  transition: -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  transition: transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  transition: transform 0.1s cubic-bezier(0, 0, 0.2, 1), -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  border: 2px solid #bababa;\n  border-radius: 50%;\n  background-color: #ea492e; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .progress__syncButton___3N1QN {\n    top: -2px;\n    right: -6px;\n    width: 8px;\n    height: 8px; }\n.progress__syncButton___3N1QN:hover {\n    background-color: #fff; }\n.progress__syncButton___3N1QN.progress__hidden___3Rjqh {\n    display: none; }\n.progress__progressBarsWrapper___1SSlL {\n  height: 6px;\n  -webkit-transition: -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  transition: -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  transition: transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  transition: transform 0.1s cubic-bezier(0, 0, 0.2, 1), -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -webkit-transform: scaleY(0.34);\n          transform: scaleY(0.34); }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .progress__progressBarsWrapper___1SSlL {\n    height: 8px;\n    -webkit-transform: scaleY(0.25);\n            transform: scaleY(0.25); }\n.progress__progressBar___210E8 {\n  position: absolute;\n  height: 6px;\n  padding: 0; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .progress__progressBar___210E8 {\n    height: 8px; }\n.progress__played___1dShL {\n  width: 100%;\n  -webkit-transform-origin: 0 0;\n          transform-origin: 0 0;\n  background-color: #fff; }\n.progress__buffered___2LiZB {\n  -webkit-transition: width .2s ease;\n  transition: width .2s ease;\n  background-color: rgba(255, 255, 255, 0.25); }\n.progress__background___lqeL2 {\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.25); }\n.progress__seekTo___T0D_O {\n  -webkit-transition: opacity .2s;\n  transition: opacity .2s;\n  background-color: rgba(255, 255, 255, 0.5); }\n.progress__timeIndicators___c6h-a {\n  position: absolute;\n  overflow-x: hidden;\n  width: 100%;\n  height: 100%;\n  background-color: transparent; }\n.progress__timeIndicator___2wltB {\n  position: absolute; }\n.progress__timeIndicator___2wltB:after {\n    position: absolute;\n    right: -3px;\n    width: 6px;\n    height: 6px;\n    content: '';\n    -webkit-transition: -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n    transition: -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n    transition: transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n    transition: transform 0.1s cubic-bezier(0, 0, 0.2, 1), -webkit-transform 0.1s cubic-bezier(0, 0, 0.2, 1);\n    -webkit-transform: scale(0);\n            transform: scale(0);\n    opacity: .6;\n    border-radius: 50%;\n    background-color: #fff; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .progress__timeIndicator___2wltB:after {\n      right: -4px;\n      width: 8px;\n      height: 8px; }\n.progress__timeIndicator___2wltB:after:hover {\n      opacity: 1; }\n.progress__hitbox___xqdFP {\n  position: relative;\n  z-index: 5;\n  top: -11px;\n  display: block;\n  width: 100%;\n  height: 16px;\n  cursor: pointer;\n  opacity: 0; }\n[data-playable-focus-source='key']\n[data-playable-hook='progress-control'].focus-within,\n[data-playable-focus-source='script']\n[data-playable-hook='progress-control'].focus-within {\n  opacity: 1;\n  -webkit-box-shadow: 0 0 0 2px rgba(56, 153, 236, 0.8);\n          box-shadow: 0 0 0 2px rgba(56, 153, 236, 0.8); }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2dyZXNzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0dBS0c7QUFDSDtFQUNFLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixpQ0FBeUI7VUFBekIseUJBQXlCO0VBQ3pCLHFDQUE2QjtFQUE3Qiw2QkFBNkI7RUFDN0IsV0FBVztFQUNYLFVBQVU7RUFDVixpQkFBaUI7RUFDakIsY0FBYztFQUNkLDhCQUE4QjtFQUM5Qix5QkFBd0I7TUFBeEIsc0JBQXdCO1VBQXhCLHdCQUF3QjtFQUN4QiwwQkFBb0I7TUFBcEIsdUJBQW9CO1VBQXBCLG9CQUFvQixFQUFFO0FBQ3RCO0lBQ0UsWUFBWSxFQUFFO0FBRWxCO0VBQ0UsOEJBQThCO0VBQzlCLG9CQUFvQjtFQUNwQix3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLHNCQUFzQixFQUFFO0FBRTFCO0VBQ0UsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixZQUFZO0VBQ1osWUFBWTtFQUNaLDBCQUFrQjtLQUFsQix1QkFBa0I7TUFBbEIsc0JBQWtCO1VBQWxCLGtCQUFrQjtFQUNsQixnREFBd0M7RUFBeEMsd0NBQXdDO0VBQ3hDLHVCQUFtQjtNQUFuQixtQkFBbUIsRUFBRTtBQUNyQjtJQUNFLFlBQVksRUFBRTtBQUNoQjtJQUNFLDBCQUEwQixFQUFFO0FBQzlCO0lBQ0UseUNBQXlDLEVBQUU7QUFDN0M7SUFDRSxpQkFBaUIsRUFBRTtBQUNyQjtJQUNFLDZCQUFxQjtZQUFyQixxQkFBcUIsRUFBRTtBQUN2QjtNQUNFLDZCQUFxQjtjQUFyQixxQkFBcUIsRUFBRTtBQUN6QjtNQUNFLFdBQVcsRUFBRTtBQUNmO01BQ0UsNEJBQW9CO2NBQXBCLG9CQUFvQixFQUFFO0FBQzFCO0lBQ0UsNEJBQW9CO1lBQXBCLG9CQUFvQixFQUFFO0FBQ3RCO01BQ0UsV0FBVyxFQUFFO0FBQ2pCO0lBQ0UsOEJBQXNCO1lBQXRCLHNCQUFzQixFQUFFO0FBQ3hCO01BQ0UsK0JBQXVCO2NBQXZCLHVCQUF1QixFQUFFO0FBQzNCO01BQ0UsdUJBQXVCLEVBQUU7QUFFL0I7RUFDRSxtQkFBbUI7RUFDbkIsV0FBVztFQUNYLFVBQVU7RUFDVixXQUFXLEVBQUU7QUFDYjtJQUNFLFVBQVU7SUFDVixXQUFXO0lBQ1gsWUFBWTtJQUNaLGFBQWEsRUFBRTtBQUVuQjtFQUNFLGVBQWU7RUFDZixZQUFZO0VBQ1osYUFBYTtFQUNiLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsc0VBQXNEO0VBQXRELDhEQUFzRDtFQUF0RCxzREFBc0Q7RUFBdEQseUdBQXNEO0VBQ3RELDRCQUFvQjtVQUFwQixvQkFBb0I7RUFDcEIsbUJBQW1CO0VBQ25CLHVCQUF1QixFQUFFO0FBQ3pCO0lBQ0UsWUFBWTtJQUNaLGFBQWEsRUFBRTtBQUVuQjtFQUNFLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsVUFBVTtFQUNWLFlBQVk7RUFDWixjQUFjO0VBQ2QsV0FBVztFQUNYLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsc0VBQXNEO0VBQXRELDhEQUFzRDtFQUF0RCxzREFBc0Q7RUFBdEQseUdBQXNEO0VBQ3RELDBCQUEwQjtFQUMxQixtQkFBbUI7RUFDbkIsMEJBQTBCLEVBQUU7QUFDNUI7SUFDRSxVQUFVO0lBQ1YsWUFBWTtJQUNaLFdBQVc7SUFDWCxZQUFZLEVBQUU7QUFDaEI7SUFDRSx1QkFBdUIsRUFBRTtBQUMzQjtJQUNFLGNBQWMsRUFBRTtBQUVwQjtFQUNFLFlBQVk7RUFDWixzRUFBc0Q7RUFBdEQsOERBQXNEO0VBQXRELHNEQUFzRDtFQUF0RCx5R0FBc0Q7RUFDdEQsZ0NBQXdCO1VBQXhCLHdCQUF3QixFQUFFO0FBQzFCO0lBQ0UsWUFBWTtJQUNaLGdDQUF3QjtZQUF4Qix3QkFBd0IsRUFBRTtBQUU5QjtFQUNFLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osV0FBVyxFQUFFO0FBQ2I7SUFDRSxZQUFZLEVBQUU7QUFFbEI7RUFDRSxZQUFZO0VBQ1osOEJBQXNCO1VBQXRCLHNCQUFzQjtFQUN0Qix1QkFBdUIsRUFBRTtBQUUzQjtFQUNFLG1DQUEyQjtFQUEzQiwyQkFBMkI7RUFDM0IsNENBQTRDLEVBQUU7QUFFaEQ7RUFDRSxZQUFZO0VBQ1osNENBQTRDLEVBQUU7QUFFaEQ7RUFDRSxnQ0FBd0I7RUFBeEIsd0JBQXdCO0VBQ3hCLDJDQUEyQyxFQUFFO0FBRS9DO0VBQ0UsbUJBQW1CO0VBQ25CLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osYUFBYTtFQUNiLDhCQUE4QixFQUFFO0FBRWxDO0VBQ0UsbUJBQW1CLEVBQUU7QUFDckI7SUFDRSxtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLFdBQVc7SUFDWCxZQUFZO0lBQ1osWUFBWTtJQUNaLHNFQUFzRDtJQUF0RCw4REFBc0Q7SUFBdEQsc0RBQXNEO0lBQXRELHlHQUFzRDtJQUN0RCw0QkFBb0I7WUFBcEIsb0JBQW9CO0lBQ3BCLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsdUJBQXVCLEVBQUU7QUFDekI7TUFDRSxZQUFZO01BQ1osV0FBVztNQUNYLFlBQVksRUFBRTtBQUNoQjtNQUNFLFdBQVcsRUFBRTtBQUVuQjtFQUNFLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsV0FBVztFQUNYLGVBQWU7RUFDZixZQUFZO0VBQ1osYUFBYTtFQUNiLGdCQUFnQjtFQUNoQixXQUFXLEVBQUU7QUFFZjs7OztFQUlFLFdBQVc7RUFDWCxzREFBOEM7VUFBOUMsOENBQThDLEVBQUUiLCJmaWxlIjoicHJvZ3Jlc3Muc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLmNvbnRyb2xCdXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmNvbnRyb2xCdXR0b246aG92ZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5oaWRkZW4ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAgIWltcG9ydGFudDsgfVxuXG4uc2Vla0Jsb2NrIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNnB4O1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMnMsIHZpc2liaWxpdHkgLjJzO1xuICB0b3VjaC1hY3Rpb246IG5vbmU7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5zZWVrQmxvY2sge1xuICAgIGhlaWdodDogOHB4OyB9XG4gIC5zZWVrQmxvY2suaW5MaXZlIC5wbGF5ZWQge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlYTQ5MmU7IH1cbiAgLnNlZWtCbG9jay5pbkxpdmUgLnNlZWtUbyB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMzQsIDczLCA0NiwgMC41KTsgfVxuICAuc2Vla0Jsb2NrLmluTGl2ZSAuc3luY0J1dHRvbiB7XG4gICAgZGlzcGxheTogaW5pdGlhbDsgfVxuICAuc2Vla0Jsb2NrOmhvdmVyIC5wcm9ncmVzc0JhcnNXcmFwcGVyLCAuc2Vla0Jsb2NrLmlzRHJhZ2dpbmcgLnByb2dyZXNzQmFyc1dyYXBwZXIge1xuICAgIHRyYW5zZm9ybTogc2NhbGVZKDEpOyB9XG4gICAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5zZWVrQmxvY2s6aG92ZXIgLnByb2dyZXNzQmFyc1dyYXBwZXIsIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAuc2Vla0Jsb2NrLmlzRHJhZ2dpbmcgLnByb2dyZXNzQmFyc1dyYXBwZXIge1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZVkoMSk7IH1cbiAgICAuc2Vla0Jsb2NrOmhvdmVyIC5wcm9ncmVzc0JhcnNXcmFwcGVyIC5zZWVrVG8sIC5zZWVrQmxvY2suaXNEcmFnZ2luZyAucHJvZ3Jlc3NCYXJzV3JhcHBlciAuc2Vla1RvIHtcbiAgICAgIG9wYWNpdHk6IDE7IH1cbiAgICAuc2Vla0Jsb2NrOmhvdmVyIC5wcm9ncmVzc0JhcnNXcmFwcGVyIC50aW1lSW5kaWNhdG9yOmFmdGVyLCAuc2Vla0Jsb2NrLmlzRHJhZ2dpbmcgLnByb2dyZXNzQmFyc1dyYXBwZXIgLnRpbWVJbmRpY2F0b3I6YWZ0ZXIge1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfVxuICAuc2Vla0Jsb2NrOmhvdmVyIC5zZWVrQnV0dG9uLCAuc2Vla0Jsb2NrLmlzRHJhZ2dpbmcgLnNlZWtCdXR0b24ge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7IH1cbiAgICAuc2Vla0Jsb2NrOmhvdmVyIC5zZWVrQnV0dG9uLmxpdmVTeW5jLCAuc2Vla0Jsb2NrLmlzRHJhZ2dpbmcgLnNlZWtCdXR0b24ubGl2ZVN5bmMge1xuICAgICAgbGVmdDogMTAwJTsgfVxuICAuc2Vla0Jsb2NrOmhvdmVyIC5zeW5jQnV0dG9uLCAuc2Vla0Jsb2NrLmlzRHJhZ2dpbmcgLnN5bmNCdXR0b24ge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMS40KTsgfVxuICAgIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAuc2Vla0Jsb2NrOmhvdmVyIC5zeW5jQnV0dG9uLCBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl0gLnNlZWtCbG9jay5pc0RyYWdnaW5nIC5zeW5jQnV0dG9uIHtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4zMyk7IH1cbiAgICAuc2Vla0Jsb2NrOmhvdmVyIC5zeW5jQnV0dG9uLmxpdmVTeW5jLCAuc2Vla0Jsb2NrLmlzRHJhZ2dpbmcgLnN5bmNCdXR0b24ubGl2ZVN5bmMge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgfVxuXG4uc2Vla0J1dHRvbkNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogNztcbiAgdG9wOiAtM3B4O1xuICBsZWZ0OiAtNnB4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAuc2Vla0J1dHRvbkNvbnRhaW5lciB7XG4gICAgdG9wOiAtNHB4O1xuICAgIGxlZnQ6IC04cHg7XG4gICAgd2lkdGg6IDE2cHg7XG4gICAgaGVpZ2h0OiAxNnB4OyB9XG5cbi5zZWVrQnV0dG9uIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMnB4O1xuICBoZWlnaHQ6IDEycHg7XG4gIGNvbnRlbnQ6ICcnO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjFzIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpO1xuICB0cmFuc2Zvcm06IHNjYWxlKDApO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5zZWVrQnV0dG9uIHtcbiAgICB3aWR0aDogMTZweDtcbiAgICBoZWlnaHQ6IDE2cHg7IH1cblxuLnN5bmNCdXR0b24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDY7XG4gIHRvcDogLTJweDtcbiAgcmlnaHQ6IC01cHg7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIHdpZHRoOiA2cHg7XG4gIGhlaWdodDogNnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjFzIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpO1xuICBib3JkZXI6IDJweCBzb2xpZCAjYmFiYWJhO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlYTQ5MmU7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5zeW5jQnV0dG9uIHtcbiAgICB0b3A6IC0ycHg7XG4gICAgcmlnaHQ6IC02cHg7XG4gICAgd2lkdGg6IDhweDtcbiAgICBoZWlnaHQ6IDhweDsgfVxuICAuc3luY0J1dHRvbjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgfVxuICAuc3luY0J1dHRvbi5oaWRkZW4ge1xuICAgIGRpc3BsYXk6IG5vbmU7IH1cblxuLnByb2dyZXNzQmFyc1dyYXBwZXIge1xuICBoZWlnaHQ6IDZweDtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMXMgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSk7XG4gIHRyYW5zZm9ybTogc2NhbGVZKDAuMzQpOyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAucHJvZ3Jlc3NCYXJzV3JhcHBlciB7XG4gICAgaGVpZ2h0OiA4cHg7XG4gICAgdHJhbnNmb3JtOiBzY2FsZVkoMC4yNSk7IH1cblxuLnByb2dyZXNzQmFyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBoZWlnaHQ6IDZweDtcbiAgcGFkZGluZzogMDsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl0gLnByb2dyZXNzQmFyIHtcbiAgICBoZWlnaHQ6IDhweDsgfVxuXG4ucGxheWVkIHtcbiAgd2lkdGg6IDEwMCU7XG4gIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgfVxuXG4uYnVmZmVyZWQge1xuICB0cmFuc2l0aW9uOiB3aWR0aCAuMnMgZWFzZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI1KTsgfVxuXG4uYmFja2dyb3VuZCB7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMjUpOyB9XG5cbi5zZWVrVG8ge1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycztcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpOyB9XG5cbi50aW1lSW5kaWNhdG9ycyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfVxuXG4udGltZUluZGljYXRvciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTsgfVxuICAudGltZUluZGljYXRvcjphZnRlciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAtM3B4O1xuICAgIHdpZHRoOiA2cHg7XG4gICAgaGVpZ2h0OiA2cHg7XG4gICAgY29udGVudDogJyc7XG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMXMgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSk7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwKTtcbiAgICBvcGFjaXR5OiAuNjtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgfVxuICAgIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAudGltZUluZGljYXRvcjphZnRlciB7XG4gICAgICByaWdodDogLTRweDtcbiAgICAgIHdpZHRoOiA4cHg7XG4gICAgICBoZWlnaHQ6IDhweDsgfVxuICAgIC50aW1lSW5kaWNhdG9yOmFmdGVyOmhvdmVyIHtcbiAgICAgIG9wYWNpdHk6IDE7IH1cblxuLmhpdGJveCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgei1pbmRleDogNTtcbiAgdG9wOiAtMTFweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDE2cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgb3BhY2l0eTogMDsgfVxuXG46Z2xvYmFsIFtkYXRhLXBsYXlhYmxlLWZvY3VzLXNvdXJjZT0na2V5J11cbltkYXRhLXBsYXlhYmxlLWhvb2s9J3Byb2dyZXNzLWNvbnRyb2wnXS5mb2N1cy13aXRoaW4sXG46Z2xvYmFsIFtkYXRhLXBsYXlhYmxlLWZvY3VzLXNvdXJjZT0nc2NyaXB0J11cbltkYXRhLXBsYXlhYmxlLWhvb2s9J3Byb2dyZXNzLWNvbnRyb2wnXS5mb2N1cy13aXRoaW4ge1xuICBvcGFjaXR5OiAxO1xuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSg1NiwgMTUzLCAyMzYsIDAuOCk7IH1cbiJdfQ== */");var wn=function(t,e){var n=e.getBoundingClientRect(),i=t.clientX;return i<n.left?0:i>n.left+n.width?100:(t.clientX-n.left)/n.width*100},An=function(t){function e(e){var n=this,i=e.callbacks,o=e.textMap,r=e.tooltipService,a=e.theme;return(n=t.call(this,a)||this)._callbacks=i,n._textMap=o,n._tooltipService=r,n._initDOM(),n._bindCallbacks(),n._bindEvents(),n._setPlayedDOMAttributes(0),n._setBufferedDOMAttributes(0),n.setUsualMode(),n}return o(e,t),e.prototype._initDOM=function(){var t;this._$rootElement=jt('<div data-playable-hook="progress-control" class="'+(t={styles:this.styleNames,themeStyles:this.themeStyles}).styles.seekBlock+'" tabindex="0"> <div class="'+t.styles.progressBarsWrapper+'"> <div class="'+t.styles.progressBar+" "+t.styles.background+'"> </div> <div data-playable-hook="progress-buffered" class="'+t.styles.progressBar+" "+t.styles.buffered+'"> </div> <div data-playable-hook="progress-seek-to" class="'+t.styles.progressBar+" "+t.styles.seekTo+" "+t.themeStyles.progressSeekTo+'"> </div> <div data-playable-hook="progress-played" class="'+t.styles.progressBar+" "+t.styles.played+" "+t.themeStyles.progressPlayed+'"> </div> <div data-playable-hook="progress-time-indicators" class="'+t.styles.timeIndicators+'"> </div> </div> <div data-playable-hook="progress-hitbox" class="'+t.styles.hitbox+'"> </div> <div data-playable-hook="progress-seek-button" class="'+t.styles.seekButtonContainer+'"> <div class="'+t.styles.seekButton+" "+t.themeStyles.progressSeekBtn+'"> </div> </div> <div data-playable-hook="progress-sync-button" class="'+t.styles.syncButton+'"> </div></div>'),this._$played=ze(this._$rootElement,"progress-played"),this._$buffered=ze(this._$rootElement,"progress-buffered"),this._$seekTo=ze(this._$rootElement,"progress-seek-to"),this._$timeIndicators=ze(this._$rootElement,"progress-time-indicators"),this._$seekButton=ze(this._$rootElement,"progress-seek-button"),this._$syncButton=ze(this._$rootElement,"progress-sync-button"),this._syncButtonTooltipReference=this._tooltipService.createReference(this._$syncButton,{text:this._textMap.get(Zt.LIVE_SYNC_TOOLTIP)}),this._$hitbox=ze(this._$rootElement,"progress-hitbox")},e.prototype._bindCallbacks=function(){this._setPlayedByDrag=this._setPlayedByDrag.bind(this),this._startDragOnMouseDown=this._startDragOnMouseDown.bind(this),this._stopDragOnMouseUp=this._stopDragOnMouseUp.bind(this),this._startSeekToByMouse=this._startSeekToByMouse.bind(this),this._stopSeekToByMouse=this._stopSeekToByMouse.bind(this),this._syncWithLive=this._syncWithLive.bind(this)},e.prototype._bindEvents=function(){this._$seekButton.addEventListener("mousedown",this._startDragOnMouseDown),this._$seekButton.addEventListener("mousemove",this._startSeekToByMouse),this._$seekButton.addEventListener("mouseout",this._stopSeekToByMouse),this._$hitbox.addEventListener("mousedown",this._startDragOnMouseDown),this._$hitbox.addEventListener("mousemove",this._startSeekToByMouse),this._$hitbox.addEventListener("mouseout",this._stopSeekToByMouse),window.addEventListener("mousemove",this._setPlayedByDrag),window.addEventListener("mouseup",this._stopDragOnMouseUp),this._$syncButton.addEventListener("click",this._syncWithLive),this._$syncButton.addEventListener("mouseenter",this._callbacks.onSyncWithLiveMouseEnter),this._$syncButton.addEventListener("mouseleave",this._callbacks.onSyncWithLiveMouseLeave)},e.prototype._unbindEvents=function(){this._$seekButton.removeEventListener("mousedown",this._startDragOnMouseDown),this._$seekButton.removeEventListener("mousemove",this._startSeekToByMouse),this._$seekButton.removeEventListener("mouseout",this._stopSeekToByMouse),this._$hitbox.removeEventListener("mousedown",this._startDragOnMouseDown),this._$hitbox.removeEventListener("mousemove",this._startSeekToByMouse),this._$hitbox.removeEventListener("mouseout",this._stopSeekToByMouse),window.removeEventListener("mousemove",this._setPlayedByDrag),window.removeEventListener("mouseup",this._stopDragOnMouseUp),this._$syncButton.removeEventListener("click",this._syncWithLive),this._$syncButton.removeEventListener("mouseenter",this._callbacks.onSyncWithLiveMouseEnter),this._$syncButton.removeEventListener("mouseleave",this._callbacks.onSyncWithLiveMouseLeave)},e.prototype._startDragOnMouseDown=function(t){if(!(t.button>1)){var e=wn(t,this._$hitbox);this._setPlayedDOMAttributes(e),this._callbacks.onChangePlayedPercent(e),this._startDrag()}},e.prototype._stopDragOnMouseUp=function(t){t.button>1||this._stopDrag()},e.prototype._startSeekToByMouse=function(t){var e=wn(t,this._$hitbox);this._setSeekToDOMAttributes(e),this._callbacks.onSeekToByMouseStart(e)},e.prototype._stopSeekToByMouse=function(){this._setSeekToDOMAttributes(0),this._callbacks.onSeekToByMouseEnd()},e.prototype._setPlayedByDrag=function(t){if(this._isDragging){var e=wn(t,this._$hitbox);this._setPlayedDOMAttributes(e),this._callbacks.onChangePlayedPercent(e)}},e.prototype._startDrag=function(){this._isDragging=!0,this._callbacks.onDragStart(),this._$rootElement.classList.add(this.styleNames.isDragging)},e.prototype._stopDrag=function(){this._isDragging&&(this._isDragging=!1,this._callbacks.onDragEnd(),this._$rootElement.classList.remove(this.styleNames.isDragging))},e.prototype._setSeekToDOMAttributes=function(t){this._$seekTo.setAttribute("style","width:"+t+"%;")},e.prototype._setPlayedDOMAttributes=function(t){this._$rootElement.setAttribute("aria-valuetext",this._textMap.get(Zt.PROGRESS_CONTROL_VALUE,{percent:t})),this._$rootElement.setAttribute("aria-valuenow",t.toFixed(2)),this._$rootElement.setAttribute("data-playable-played-percent",t.toFixed(2)),this._setPlayedDOMPosition(t)},e.prototype._setPlayedDOMPosition=function(t){var e=t/100,n=this._$rootElement.getBoundingClientRect().width*e;this._$played.style.transform="scaleX("+e.toFixed(3)+")",this._$seekButton.style.transform="translateX("+n.toFixed(3)+"px)"},e.prototype._setBufferedDOMAttributes=function(t){this._$buffered.setAttribute("style","width:"+t+"%;")},e.prototype._syncWithLive=function(){this._callbacks.onSyncWithLiveClick()},e.prototype.updateOnResize=function(){this._setPlayedDOMPosition(this._currentPlayedPercent)},e.prototype.showSyncWithLive=function(){this._$syncButton.classList.remove(this.styleNames.hidden)},e.prototype.hideSyncWithLive=function(){this._$syncButton.classList.add(this.styleNames.hidden)},e.prototype.setLiveSyncState=function(t){$e(this._$syncButton,this.styleNames.liveSync,t),$e(this._$seekButton,this.styleNames.liveSync,t),t?(this._syncButtonTooltipReference.disable(),this._$played.setAttribute("style","width:100%;")):this._syncButtonTooltipReference.enable()},e.prototype.showProgressTimeTooltip=function(t,e){var n=this;this._tooltipService.show({element:t,position:function(t){return function(t,e,n){return Bn(e,n,(function(e,n){return function(t,e,n){return e+t*n/100}(t,e,n)}))}(e,n._$hitbox,t)}})},e.prototype.hideProgressTimeTooltip=function(){this._tooltipService.hide()},e.prototype.setLiveMode=function(){this._$rootElement.classList.add(this.styleNames.inLive),this.showSyncWithLive()},e.prototype.setUsualMode=function(){this._$rootElement.classList.remove(this.styleNames.inLive),this.hideSyncWithLive()},e.prototype.setPlayed=function(t){this._currentPlayedPercent=t,this._setPlayedDOMAttributes(t)},e.prototype.setBuffered=function(t){this._setBufferedDOMAttributes(t)},e.prototype.addTimeIndicator=function(t){var e;this._$timeIndicators.appendChild(jt('<div class="'+(e={percent:t,styles:this.styleNames}).styles.timeIndicator+'" style="left: '+e.percent+'%"></div>'))},e.prototype.clearTimeIndicators=function(){this._$timeIndicators.innerHTML=""},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._unbindEvents(),this._syncButtonTooltipReference.destroy(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null,this._$buffered=null,this._$hitbox=null,this._$played=null,this._$seekTo=null,this._$seekButton=null,this._$syncButton=null,this._$timeIndicators=null},e}($t);function Ln(t,e){return e?parseFloat((t/e*100).toFixed(2)):0}function On(t,e){var n=0;if(!t||!t.length)return null;for(;n<t.length-1&&!(t.start(n)<=e&&e<=t.end(n));)n+=1;return{start:t.start(n),end:t.end(n)}}function Gn(t){var e=!isNaN(t)&&isFinite(t),n=e&&t<0,i=new Date(null);i.setSeconds(e?Math.abs(Math.floor(t)):0);var o=i.toISOString().substr(11,8).replace(/^00:/,"");return n?"-"+o:o}An.setTheme(Rn),An.extendStyleNames({controlButton:"progress__controlButton___2pi4V",hidden:"progress__hidden___3Rjqh",seekBlock:"progress__seekBlock___V4YqW",inLive:"progress__inLive___3324R",played:"progress__played___1dShL",seekTo:"progress__seekTo___T0D_O",syncButton:"progress__syncButton___3N1QN",progressBarsWrapper:"progress__progressBarsWrapper___1SSlL",isDragging:"progress__isDragging___2Tcb5",timeIndicator:"progress__timeIndicator___2wltB",seekButton:"progress__seekButton___3UtgF",liveSync:"progress__liveSync___PIvwF",seekButtonContainer:"progress__seekButtonContainer___1TZ8Z",progressBar:"progress__progressBar___210E8",buffered:"progress__buffered___2LiZB",background:"progress__background___lqeL2",timeIndicators:"progress__timeIndicators___c6h-a",hitbox:"progress__hitbox___xqdFP"});var kn=function(){function t(t){var e=t.engine,n=t.liveStateEngine,i=t.eventEmitter,o=t.textMap,r=t.tooltipService,a=t.theme,s=t.previewThumbnail,l=t.previewFullSize;this._engine=e,this._liveStateEngine=n,this._eventEmitter=i,this._textMap=o,this._tooltipService=r,this._previewThumbnail=s,this._previewFullSize=l,this._isUserDragging=!1,this._desiredSeekPosition=0,this._theme=a,this._timeIndicatorsToAdd=[],this._showFullScreenPreview=!1,this._bindCallbacks(),this._initUI(),this._bindEvents(),this.view.setPlayed(0),this.view.setBuffered(0),this._initInterceptor()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Nt.STATE_CHANGED,this._processStateChange],[Nt.LIVE_STATE_CHANGED,this._processLiveStateChange],[Nt.CHUNK_LOADED,this._updateBufferIndicator],[Nt.DURATION_UPDATED,this._updateAllIndicators],[Tt.RESIZE,this.view.updateOnResize,this.view]],this)},t.prototype._initUI=function(){var e={callbacks:{onSyncWithLiveClick:this._syncWithLive,onSyncWithLiveMouseEnter:this._onSyncWithLiveMouseEnter,onSyncWithLiveMouseLeave:this._onSyncWithLiveMouseLeave,onChangePlayedPercent:this._onChangePlayedPercent,onSeekToByMouseStart:this._showTooltipAndPreview,onSeekToByMouseEnd:this._hideTooltip,onDragStart:this._startProcessingUserDrag,onDragEnd:this._stopProcessingUserDrag},theme:this._theme,textMap:this._textMap,tooltipService:this._tooltipService};this.view=new t.View(e)},t.prototype._initInterceptor=function(){var t,e=this;this._interceptor=new He(this.view.getElement(),((t={})[Ye]=function(t){t.stopPropagation(),t.preventDefault(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._eventEmitter.emitAsync(Tt.GO_FORWARD_WITH_KEYBOARD),e._engine.seekForward(5)},t[Pe]=function(t){t.stopPropagation(),t.preventDefault(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._eventEmitter.emitAsync(Tt.GO_BACKWARD_WITH_KEYBOARD),e._engine.seekBackward(5)},t[Me]=function(t){t.stopPropagation(),t.preventDefault(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._eventEmitter.emitAsync(Tt.GO_FORWARD_WITH_KEYBOARD),e._engine.seekForward(5)},t[Ze]=function(t){t.stopPropagation(),t.preventDefault(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._eventEmitter.emitAsync(Tt.GO_BACKWARD_WITH_KEYBOARD),e._engine.seekBackward(5)},t))},t.prototype._destroyInterceptor=function(){this._interceptor.destroy()},t.prototype._bindCallbacks=function(){this._syncWithLive=this._syncWithLive.bind(this),this._onSyncWithLiveMouseEnter=this._onSyncWithLiveMouseEnter.bind(this),this._onSyncWithLiveMouseLeave=this._onSyncWithLiveMouseLeave.bind(this),this._updateAllIndicators=this._updateAllIndicators.bind(this),this._onChangePlayedPercent=this._onChangePlayedPercent.bind(this),this._showTooltipAndPreview=this._showTooltipAndPreview.bind(this),this._hideTooltip=this._hideTooltip.bind(this),this._startProcessingUserDrag=this._startProcessingUserDrag.bind(this),this._stopProcessingUserDrag=this._stopProcessingUserDrag.bind(this)},t.prototype._startIntervalUpdates=function(){this._updateControlInterval&&this._stopIntervalUpdates(),this._updateAllIndicators(),this._updateControlInterval=window.setInterval(this._updateAllIndicators,1e3/60)},t.prototype._stopIntervalUpdates=function(){window.clearInterval(this._updateControlInterval),this._updateControlInterval=null},t.prototype._convertPlayedPercentToTime=function(t){return this._engine.getDuration()*t/100},t.prototype._onChangePlayedPercent=function(t){var e=this._convertPlayedPercentToTime(t);this._showFullScreenPreview?(this._desiredSeekPosition=e,this._eventEmitter.emitAsync(Tt.PROGRESS_USER_PREVIEWING_FRAME,e)):this._changeCurrentTimeOfVideo(e),this._isUserDragging&&this._showTooltipAndPreview(t)},t.prototype._showTooltipAndPreview=function(t){var e=this._engine.getDuration(),n=this._convertPlayedPercentToTime(t),i=this._engine.isDynamicContent?n-e:n;this._previewThumbnail.setTime(Gn(i)),this._previewThumbnail.showAt(n),this.view.showProgressTimeTooltip(this._previewThumbnail.getElement(),t),this._isUserDragging&&this._showFullScreenPreview&&this._previewFullSize.showAt(n)},t.prototype._hideTooltip=function(){this._isUserDragging||this.view.hideProgressTimeTooltip()},t.prototype._startProcessingUserDrag=function(){this._isUserDragging||(this._isUserDragging=!0,this._pauseVideoOnDragStart(),this._eventEmitter.emitAsync(Tt.PROGRESS_DRAG_STARTED),this._eventEmitter.emitAsync(Tt.CONTROL_DRAG_START))},t.prototype._stopProcessingUserDrag=function(){this._isUserDragging&&(this._isUserDragging=!1,this._showFullScreenPreview&&(this._shouldHidePreviewOnUpdate=!0),this._showFullScreenPreview&&this._changeCurrentTimeOfVideo(this._desiredSeekPosition),this._playVideoOnDragEnd(),this.view.hideProgressTimeTooltip(),this._eventEmitter.emitAsync(Tt.PROGRESS_DRAG_ENDED),this._eventEmitter.emitAsync(Tt.CONTROL_DRAG_END))},t.prototype._hidePreview=function(){this._shouldHidePreviewOnUpdate=!1,this._previewFullSize.hide()},t.prototype._processStateChange=function(t){switch(t.nextState){case Yt.SRC_SET:this._reset();break;case Yt.METADATA_LOADED:this._initTimeIndicators(),this._engine.isSeekAvailable?this.show():this.hide();break;case Yt.PLAYING:this._shouldHidePreviewOnUpdate&&this._hidePreview(),this._liveStateEngine.state===Pt.SYNC?this.view.setPlayed(100):this._startIntervalUpdates();break;case Yt.PAUSED:this._shouldHidePreviewOnUpdate&&this._hidePreview(),this._stopIntervalUpdates();break;case Yt.SEEK_IN_PROGRESS:this._updateAllIndicators()}},t.prototype._processLiveStateChange=function(t){switch(t.nextState){case Pt.NONE:this.view.setLiveSyncState(!1),this.view.setUsualMode();break;case Pt.INITIAL:this.view.setLiveMode();break;case Pt.SYNC:this.view.setLiveSyncState(!0);break;case Pt.NOT_SYNC:this.view.setLiveSyncState(!1);break;case Pt.ENDED:this.view.setLiveSyncState(!1),this.view.hideSyncWithLive(),this._engine.getCurrentState()===Yt.PLAYING?this._startIntervalUpdates():this._updateAllIndicators()}},t.prototype._changeCurrentTimeOfVideo=function(t){var e=this._engine.getDuration();this._engine.isDynamicContent&&e===t?this._engine.syncWithLive():this._engine.seekTo(t),this._eventEmitter.emitAsync(Tt.PROGRESS_CHANGE,t)},t.prototype._pauseVideoOnDragStart=function(){var t=this._engine.getCurrentState();t!==Yt.PLAYING&&t!==Yt.PLAY_REQUESTED||(this._shouldPlayAfterDragEnd=!0,this._engine.pause()),this._eventEmitter.emitAsync(Tt.PROGRESS_DRAG_STARTED)},t.prototype._playVideoOnDragEnd=function(){this._shouldPlayAfterDragEnd&&(this._engine.play(),this._shouldPlayAfterDragEnd=!1)},t.prototype._updateBufferIndicator=function(){var t=this._engine.getCurrentTime(),e=this._engine.getBuffered(),n=this._engine.getDuration();this._setBuffered(function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),t&&t.length&&n?Ln(On(t,e).end,n):0}(e,t,n))},t.prototype._updatePlayedIndicator=function(){if(this._liveStateEngine.state!==Pt.SYNC){var t=this._engine.getCurrentTime(),e=this._engine.getDuration();this._setPlayed(function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),Ln(t,e)}(t,e))}},t.prototype._updateAllIndicators=function(){this._updatePlayedIndicator(),this._updateBufferIndicator()},t.prototype._initTimeIndicators=function(){var t=this;this._timeIndicatorsToAdd.forEach((function(e){t._addTimeIndicator(e)})),this._timeIndicatorsToAdd=[]},t.prototype._addTimeIndicator=function(t){var e=this._engine.getDuration();t>e||this.view.addTimeIndicator(Ln(t,e))},t.prototype._syncWithLive=function(){this._engine.syncWithLive()},t.prototype._onSyncWithLiveMouseEnter=function(){this._eventEmitter.emitAsync(Tt.PROGRESS_SYNC_BUTTON_MOUSE_ENTER)},t.prototype._onSyncWithLiveMouseLeave=function(){this._eventEmitter.emitAsync(Tt.PROGRESS_SYNC_BUTTON_MOUSE_LEAVE)},t.prototype._setPlayed=function(t){this.view.setPlayed(t)},t.prototype._setBuffered=function(t){this.view.setBuffered(t)},t.prototype._reset=function(){this._setPlayed(0),this._setBuffered(0),this.clearTimeIndicators()},t.prototype.showPreviewOnProgressDrag=function(){this._showFullScreenPreview=!0},t.prototype.seekOnProgressDrag=function(){this._showFullScreenPreview=!1},t.prototype.addTimeIndicator=function(t){this.addTimeIndicators([t])},t.prototype.addTimeIndicators=function(t){var e,n=this;this._engine.isMetadataLoaded?t.forEach((function(t){n._addTimeIndicator(t)})):(e=this._timeIndicatorsToAdd).push.apply(e,t)},t.prototype.clearTimeIndicators=function(){this.view.clearTimeIndicators()},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.destroy=function(){this._destroyInterceptor(),this._stopIntervalUpdates(),this._unbindEvents(),this.view.destroy()},t.moduleName="progressControl",t.View=An,t.dependencies=["engine","liveStateEngine","eventEmitter","textMap","tooltipService","theme","previewThumbnail","previewFullSize"],a([S()],t.prototype,"showPreviewOnProgressDrag",null),a([S()],t.prototype,"seekOnProgressDrag",null),a([S()],t.prototype,"addTimeIndicator",null),a([S()],t.prototype,"addTimeIndicators",null),a([S()],t.prototype,"clearTimeIndicators",null),t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.play__controlButton___3PoOY {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.play__controlButton___3PoOY:hover {\n    opacity: .7; }\n.play__hidden___1tNO8 {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.play__playControl___1AgWy {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start; }\n.play__playbackToggle___3tzyO {\n  width: 26px;\n  min-width: 26px;\n  height: 26px;\n  min-height: 26px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .play__playbackToggle___3tzyO {\n    width: 35px;\n    min-width: 35px;\n    height: 35px;\n    min-height: 35px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .play__playbackToggle___3tzyO .play__icon_small___jluYF {\n      display: none; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .play__playbackToggle___3tzyO .play__icon_big___2HowC {\n      display: block; }\n.play__playbackToggle___3tzyO .play__playIcon___2ypel {\n    display: none; }\n.play__playbackToggle___3tzyO .play__pauseIcon___3To0L {\n    display: block; }\n.play__playbackToggle___3tzyO.play__paused___2fI5f .play__playIcon___2ypel {\n    display: block; }\n.play__playbackToggle___3tzyO.play__paused___2fI5f .play__pauseIcon___3To0L {\n    display: none; }\n.play__playbackToggle___3tzyO .play__icon_small___jluYF {\n    display: block; }\n.play__playbackToggle___3tzyO .play__icon_big___2HowC {\n    display: none; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYXkuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7R0FLRztBQUNIO0VBQ0UscUJBQWM7RUFBZCxxQkFBYztFQUFkLGNBQWM7RUFDZCxXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLGlDQUF5QjtVQUF6Qix5QkFBeUI7RUFDekIscUNBQTZCO0VBQTdCLDZCQUE2QjtFQUM3QixXQUFXO0VBQ1gsVUFBVTtFQUNWLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QsOEJBQThCO0VBQzlCLHlCQUF3QjtNQUF4QixzQkFBd0I7VUFBeEIsd0JBQXdCO0VBQ3hCLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CLEVBQUU7QUFDdEI7SUFDRSxZQUFZLEVBQUU7QUFFbEI7RUFDRSw4QkFBOEI7RUFDOUIsb0JBQW9CO0VBQ3BCLHdCQUF3QjtFQUN4QixxQkFBcUI7RUFDckIseUJBQXlCO0VBQ3pCLHFCQUFxQjtFQUNyQixzQkFBc0I7RUFDdEIsc0JBQXNCLEVBQUU7QUFFMUI7RUFDRSxtQkFBbUI7RUFDbkIscUJBQWM7RUFBZCxxQkFBYztFQUFkLGNBQWM7RUFDZCwrQkFBdUI7VUFBdkIsdUJBQXVCO0VBQ3ZCLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CO0VBQ3BCLHdCQUE0QjtNQUE1QixxQkFBNEI7VUFBNUIsNEJBQTRCLEVBQUU7QUFFaEM7RUFDRSxZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGFBQWE7RUFDYixpQkFBaUIsRUFBRTtBQUNuQjtJQUNFLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsYUFBYTtJQUNiLGlCQUFpQixFQUFFO0FBQ25CO01BQ0UsY0FBYyxFQUFFO0FBQ2xCO01BQ0UsZUFBZSxFQUFFO0FBQ3JCO0lBQ0UsY0FBYyxFQUFFO0FBQ2xCO0lBQ0UsZUFBZSxFQUFFO0FBQ25CO0lBQ0UsZUFBZSxFQUFFO0FBQ25CO0lBQ0UsY0FBYyxFQUFFO0FBQ2xCO0lBQ0UsZUFBZSxFQUFFO0FBQ25CO0lBQ0UsY0FBYyxFQUFFIiwiZmlsZSI6InBsYXkuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLmNvbnRyb2xCdXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmNvbnRyb2xCdXR0b246aG92ZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5oaWRkZW4ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAgIWltcG9ydGFudDsgfVxuXG4ucGxheUNvbnRyb2wge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsgfVxuXG4ucGxheWJhY2tUb2dnbGUge1xuICB3aWR0aDogMjZweDtcbiAgbWluLXdpZHRoOiAyNnB4O1xuICBoZWlnaHQ6IDI2cHg7XG4gIG1pbi1oZWlnaHQ6IDI2cHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5wbGF5YmFja1RvZ2dsZSB7XG4gICAgd2lkdGg6IDM1cHg7XG4gICAgbWluLXdpZHRoOiAzNXB4O1xuICAgIGhlaWdodDogMzVweDtcbiAgICBtaW4taGVpZ2h0OiAzNXB4OyB9XG4gICAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5wbGF5YmFja1RvZ2dsZSAuaWNvbl9zbWFsbCB7XG4gICAgICBkaXNwbGF5OiBub25lOyB9XG4gICAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5wbGF5YmFja1RvZ2dsZSAuaWNvbl9iaWcge1xuICAgICAgZGlzcGxheTogYmxvY2s7IH1cbiAgLnBsYXliYWNrVG9nZ2xlIC5wbGF5SWNvbiB7XG4gICAgZGlzcGxheTogbm9uZTsgfVxuICAucGxheWJhY2tUb2dnbGUgLnBhdXNlSWNvbiB7XG4gICAgZGlzcGxheTogYmxvY2s7IH1cbiAgLnBsYXliYWNrVG9nZ2xlLnBhdXNlZCAucGxheUljb24ge1xuICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4gIC5wbGF5YmFja1RvZ2dsZS5wYXVzZWQgLnBhdXNlSWNvbiB7XG4gICAgZGlzcGxheTogbm9uZTsgfVxuICAucGxheWJhY2tUb2dnbGUgLmljb25fc21hbGwge1xuICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4gIC5wbGF5YmFja1RvZ2dsZSAuaWNvbl9iaWcge1xuICAgIGRpc3BsYXk6IG5vbmU7IH1cbiJdfQ== */');var Sn=function(t){function e(e){var n,i=this,o=e.callbacks,r=e.textMap,a=e.theme;return(i=t.call(this,a)||this)._callbacks=o,i._textMap=r,i._$rootElement=jt('<div class="'+(n={styles:i.styleNames,themeStyles:i.themeStyles,texts:{label:i._textMap.get(Zt.PLAY_CONTROL_LABEL)}}).styles.playControl+'" data-playable-hook="playback-control"> <button class="'+n.styles.playbackToggle+" "+n.styles.controlButton+'" data-playable-hook="playback-control" aria-label="'+n.texts.label+'" type="button" tabindex="0"> <div class="'+n.styles.playIcon+'"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" preserveAspectRatio="xMidYMin slice" class="'+n.styles.icon_small+'" width="100%"> <path class="'+n.themeStyles.playSvgFill+'" d="M8 6v14l10.25-7.18L8 6z"/> </svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35" preserveAspectRatio="xMidYMin slice" class="'+n.styles.icon_big+'" width="100%"> <path class="'+n.themeStyles.playSvgFill+'" d="M10 7v21l16-11L10 7z"/> </svg> </div> <div class="'+n.styles.pauseIcon+'"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" preserveAspectRatio="xMidYMin slice" class="'+n.styles.icon_small+'" width="100%"> <path class="'+n.themeStyles.playSvgFill+'" d="M15 6h3v14h-3V6zM8 6h3v14H8V6z"/> </svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35" preserveAspectRatio="xMidYMin slice" class="'+n.styles.icon_big+'" width="100%"> <path class="'+n.themeStyles.playSvgFill+'" d="M10 7h5v21h-5V7zm10 0h5v21h-5V7z"/> </svg> </div> </button></div>'),i._$playbackControl=ze(i._$rootElement,"playback-control"),i.setPlayingState(!1),i._bindEvents(),i}return o(e,t),e.prototype._bindEvents=function(){this._onButtonClick=this._onButtonClick.bind(this),this._$playbackControl.addEventListener("click",this._onButtonClick)},e.prototype._unbindEvents=function(){this._$playbackControl.removeEventListener("click",this._onButtonClick)},e.prototype._onButtonClick=function(){this._$playbackControl.focus(),this._callbacks.onButtonClick()},e.prototype.setPlayingState=function(t){t?(this._$playbackControl.classList.remove(this.styleNames.paused),this._$playbackControl.setAttribute("aria-label",this._textMap.get(Zt.PAUSE_CONTROL_LABEL))):(this._$playbackControl.classList.add(this.styleNames.paused),this._$playbackControl.setAttribute("aria-label",this._textMap.get(Zt.PLAY_CONTROL_LABEL))),this._$rootElement.setAttribute("data-playable-is-playing",String(t))},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._unbindEvents(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$playbackControl=null,this._$rootElement=null},e}($t);Sn.setTheme({playSvgFill:{fill:function(t){return t.color}}}),Sn.extendStyleNames({controlButton:"play__controlButton___3PoOY",hidden:"play__hidden___1tNO8",playControl:"play__playControl___1AgWy",playbackToggle:"play__playbackToggle___3tzyO",icon_small:"play__icon_small___jluYF",icon_big:"play__icon_big___2HowC",playIcon:"play__playIcon___2ypel",pauseIcon:"play__pauseIcon___3To0L",paused:"play__paused___2fI5f"});var Tn=function(){function t(t){var e=t.engine,n=t.eventEmitter,i=t.textMap,o=t.theme;this._engine=e,this._eventEmitter=n,this._textMap=i,this._theme=o,this._bindCallbacks(),this._initUI(),this._bindEvents(),this._initInterceptor()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._initInterceptor=function(){var t,e=this;this._interceptor=new He(this.getElement(),((t={})[De]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.TOGGLE_PLAYBACK_WITH_KEYBOARD)},t[Ve]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.TOGGLE_PLAYBACK_WITH_KEYBOARD)},t))},t.prototype._destroyInterceptor=function(){this._interceptor.destroy()},t.prototype._bindCallbacks=function(){this._togglePlayback=this._togglePlayback.bind(this)},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Nt.STATE_CHANGED,this._updatePlayingState]],this)},t.prototype._togglePlayback=function(){this._engine.isPaused?this._playVideo():this._pauseVideo()},t.prototype._playVideo=function(){this._engine.play(),this._eventEmitter.emitAsync(Tt.PLAY_CLICK)},t.prototype._pauseVideo=function(){this._engine.pause(),this._eventEmitter.emitAsync(Tt.PAUSE_CLICK)},t.prototype._updatePlayingState=function(){this.view.setPlayingState(!this._engine.isPaused)},t.prototype._initUI=function(){var e={callbacks:{onButtonClick:this._togglePlayback},theme:this._theme,textMap:this._textMap};this.view=new t.View(e)},t.prototype.destroy=function(){this._destroyInterceptor(),this._unbindEvents(),this.view.destroy()},t.moduleName="playControl",t.View=Sn,t.dependencies=["engine","eventEmitter","textMap","theme"],t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.time__controlButton___mpXuO {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.time__controlButton___mpXuO:hover {\n    opacity: .7; }\n.time__hidden___3xnRl {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.time__timeWrapper___1r8hO {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 0;\n      -ms-flex: 0 0 auto;\n          flex: 0 0 auto;\n  height: 25px;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.time__time___10Maj {\n  font-size: 12px;\n  line-height: 12px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .time__time___10Maj {\n    font-size: 14px;\n    line-height: 14px; }\n.time__duration___3gaxd {\n  margin-left: 5px; }\n.time__duration___3gaxd:before {\n    margin-right: 4px;\n    content: \'/\'; }\n.time__liveMode___2Nolg .time__separator___hIpG9 {\n  display: none; }\n.time__liveMode___2Nolg .time__duration___3gaxd {\n  display: none; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRpbWUuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7R0FLRztBQUNIO0VBQ0UscUJBQWM7RUFBZCxxQkFBYztFQUFkLGNBQWM7RUFDZCxXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLGlDQUF5QjtVQUF6Qix5QkFBeUI7RUFDekIscUNBQTZCO0VBQTdCLDZCQUE2QjtFQUM3QixXQUFXO0VBQ1gsVUFBVTtFQUNWLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QsOEJBQThCO0VBQzlCLHlCQUF3QjtNQUF4QixzQkFBd0I7VUFBeEIsd0JBQXdCO0VBQ3hCLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CLEVBQUU7QUFDdEI7SUFDRSxZQUFZLEVBQUU7QUFFbEI7RUFDRSw4QkFBOEI7RUFDOUIsb0JBQW9CO0VBQ3BCLHdCQUF3QjtFQUN4QixxQkFBcUI7RUFDckIseUJBQXlCO0VBQ3pCLHFCQUFxQjtFQUNyQixzQkFBc0I7RUFDdEIsc0JBQXNCLEVBQUU7QUFFMUI7RUFDRSxxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLG9CQUFlO01BQWYsbUJBQWU7VUFBZixlQUFlO0VBQ2YsYUFBYTtFQUNiLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CLEVBQUU7QUFFeEI7RUFDRSxnQkFBZ0I7RUFDaEIsa0JBQWtCLEVBQUU7QUFDcEI7SUFDRSxnQkFBZ0I7SUFDaEIsa0JBQWtCLEVBQUU7QUFFeEI7RUFDRSxpQkFBaUIsRUFBRTtBQUNuQjtJQUNFLGtCQUFrQjtJQUNsQixhQUFhLEVBQUU7QUFFbkI7RUFDRSxjQUFjLEVBQUU7QUFFbEI7RUFDRSxjQUFjLEVBQUUiLCJmaWxlIjoidGltZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGUgY2hhbGxlbmdlIGhlcmUgdG8gc3VwcG9ydCBcInBsYXlhYmxlIHF1ZXJpZXNcIiBhbmQgXCJkaXJlY3Rpb25cIiBhdCB0aGUgc2FtZSB0aW1lIGFuZCBhbGxvdyBtaXhpbnMgbGlrZTpcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpKVxuICogICBAaW5jbHVkZSBxdWVyeShtYXgtd2lkdGgtNTUwKCksIGx0cigpKVxuICogICBAaW5jbHVkZSBxdWVyeShtYXgtd2lkdGgtNTUwKCksIHJ0bCgpKVxuICovXG4uY29udHJvbEJ1dHRvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHBhZGRpbmc6IDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogLjJzO1xuICB0cmFuc2l0aW9uLXByb3BlcnR5OiBvcGFjaXR5O1xuICBvcGFjaXR5OiAxO1xuICBib3JkZXI6IDA7XG4gIGJvcmRlci1yYWRpdXM6IDA7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxuICAuY29udHJvbEJ1dHRvbjpob3ZlciB7XG4gICAgb3BhY2l0eTogLjc7IH1cblxuLmhpZGRlbiB7XG4gIHZpc2liaWxpdHk6IGhpZGRlbiAhaW1wb3J0YW50O1xuICB3aWR0aDogMCAhaW1wb3J0YW50O1xuICBtaW4td2lkdGg6IDAgIWltcG9ydGFudDtcbiAgaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1pbi1oZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgb3BhY2l0eTogMCAhaW1wb3J0YW50OyB9XG5cbi50aW1lV3JhcHBlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXg6IDAgMCBhdXRvO1xuICBoZWlnaHQ6IDI1cHg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cblxuLnRpbWUge1xuICBmb250LXNpemU6IDEycHg7XG4gIGxpbmUtaGVpZ2h0OiAxMnB4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAudGltZSB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxNHB4OyB9XG5cbi5kdXJhdGlvbiB7XG4gIG1hcmdpbi1sZWZ0OiA1cHg7IH1cbiAgLmR1cmF0aW9uOmJlZm9yZSB7XG4gICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gICAgY29udGVudDogJy8nOyB9XG5cbi5saXZlTW9kZSAuc2VwYXJhdG9yIHtcbiAgZGlzcGxheTogbm9uZTsgfVxuXG4ubGl2ZU1vZGUgLmR1cmF0aW9uIHtcbiAgZGlzcGxheTogbm9uZTsgfVxuIl19 */');var Wn=function(t){function e(e){var n=this,i=e.theme;return(n=t.call(this,i)||this)._initDOM(),n}return o(e,t),e.prototype._initDOM=function(){var t;this._$rootElement=jt('<div data-playable-hook="time-control" class="'+(t={styles:this.styleNames,themeStyles:this.themeStyles}).styles.timeWrapper+" "+t.themeStyles.timeText+'"> <span data-playable-hook="current-time-indicator" class="'+t.styles.time+'"> </span> <span data-playable-hook="duration-time-indicator" class="'+t.styles.time+" "+t.styles.duration+'"> </span></div>'),this._$currentTime=ze(this._$rootElement,"current-time-indicator"),this._$durationTime=ze(this._$rootElement,"duration-time-indicator")},e.prototype.setDurationTime=function(t){t!==this._duration&&(this._duration=t,this._updateDurationTime())},e.prototype.setCurrentTime=function(t){t!==this._current&&(this._current=t,this._updateCurrentTime())},e.prototype.setCurrentTimeBackward=function(t){this._isBackward=t,this._updateCurrentTime()},e.prototype._updateDurationTime=function(){this._$durationTime.innerHTML=Gn(this._duration),this._$rootElement.setAttribute("data-playable-duration",this._duration?this._duration.toString():"0")},e.prototype._updateCurrentTime=function(){this._isBackward?this._$currentTime.innerHTML=Gn(this._current-this._duration):this._$currentTime.innerHTML=Gn(this._current),this._$rootElement.setAttribute("data-playable-current-time",this._current?this._current.toString():"0")},e.prototype.showDuration=function(){this._$durationTime.classList.remove(this.styleNames.hidden)},e.prototype.hideDuration=function(){this._$durationTime.classList.add(this.styleNames.hidden)},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$currentTime=null,this._$durationTime=null,this._$rootElement=null},e}($t);Wn.setTheme({timeText:{color:function(t){return t.color}}}),Wn.extendStyleNames({controlButton:"time__controlButton___mpXuO",hidden:"time__hidden___3xnRl",timeWrapper:"time__timeWrapper___1r8hO",time:"time__time___10Maj",duration:"time__duration___3gaxd",liveMode:"time__liveMode___2Nolg",separator:"time__separator___hIpG9"});var Nn=function(){function t(t){var e=t.eventEmitter,n=t.engine,i=t.theme;this._eventEmitter=e,this._engine=n,this._theme=i,this._bindCallbacks(),this._initUI(),this._bindEvents(),this._setCurrentTime(0),this._setDurationTime(0)}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._bindCallbacks=function(){this._updateCurrentTime=this._updateCurrentTime.bind(this),this._updateDurationTime=this._updateDurationTime.bind(this)},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Tt.PROGRESS_USER_PREVIEWING_FRAME,this._updateTimeFromPreview],[Nt.STATE_CHANGED,this._toggleIntervalUpdates],[Nt.DURATION_UPDATED,this._updateDurationTime],[Nt.LIVE_STATE_CHANGED,this._processLiveStateChange]],this)},t.prototype._initUI=function(){var e={theme:this._theme};this.view=new t.View(e)},t.prototype._startIntervalUpdates=function(){this._updateControlInterval&&this._stopIntervalUpdates(),this._updateCurrentTime(),this._updateControlInterval=window.setInterval(this._updateCurrentTime,1e3/60)},t.prototype._stopIntervalUpdates=function(){window.clearInterval(this._updateControlInterval),this._updateControlInterval=null},t.prototype._processLiveStateChange=function(t){switch(t.nextState){case Pt.NONE:this.show();break;case Pt.INITIAL:this.hide();break;case Pt.ENDED:this.show()}},t.prototype._toggleIntervalUpdates=function(t){switch(t.nextState){case Yt.SRC_SET:this.reset();break;case Yt.PLAYING:case Yt.SEEK_IN_PROGRESS:this._startIntervalUpdates();break;default:this._stopIntervalUpdates()}},t.prototype._updateDurationTime=function(){this._setDurationTime(this._engine.getDuration())},t.prototype._updateCurrentTime=function(){var t=this._engine.getCurrentTime();this._setCurrentTime(t)},t.prototype._updateTimeFromPreview=function(t){this.view.setCurrentTime(t)},t.prototype._setDurationTime=function(t){this.view.setDurationTime(t)},t.prototype._setCurrentTime=function(t){this.view.setCurrentTime(t)},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.reset=function(){this._setDurationTime(0),this._setCurrentTime(0),this.view.showDuration(),this.view.setCurrentTimeBackward(!1),this.show()},t.prototype.destroy=function(){this._stopIntervalUpdates(),this._unbindEvents(),this.view.destroy()},t.moduleName="timeControl",t.View=Wn,t.dependencies=["engine","eventEmitter","theme"],t}(),Dn={volumeSvgFill:{fill:function(t){return t.color}},volumeSvgStroke:{stroke:function(t){return t.color}},volumeProgress:{backgroundColor:function(t){return t.color},"&:after":{backgroundColor:function(t){return t.color}}},volumeProgressBackground:{backgroundColor:function(t){return ve(t.color,.25)}}};Kt("/**\n * The challenge here to support \"playable queries\" and \"direction\" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.volume__controlButton___1XXXG {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.volume__controlButton___1XXXG:hover {\n    opacity: .7; }\n.volume__hidden___504PW {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.volume__volumeControl___1f_-O {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-transition: width .2s;\n  transition: width .2s;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .volume__volumeControl___1f_-O {\n    height: 35px; }\n.volume__volumeControl___1f_-O:hover .volume__volumeInputBlock___EzZei, .volume__volumeControl___1f_-O.volume__isDragging___3mlpX .volume__volumeInputBlock___EzZei {\n    width: 50px;\n    margin-right: 5px;\n    opacity: 1; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .volume__volumeControl___1f_-O:hover .volume__volumeInputBlock___EzZei, [data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .volume__volumeControl___1f_-O.volume__isDragging___3mlpX .volume__volumeInputBlock___EzZei {\n      width: 90px;\n      margin-right: 10px; }\n.volume__volume0Icon___HUzhQ {\n  display: none; }\n.volume__volume50Icon___2qxWM {\n  display: none; }\n.volume__volume100Icon___3RP1S {\n  display: none; }\n.volume__muteIcon___3usXq {\n  display: none; }\n.volume__muteToggle___26zPy {\n  width: 26px;\n  min-width: 26px;\n  height: 26px;\n  min-height: 26px;\n  padding: 0; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .volume__muteToggle___26zPy {\n    width: 35px;\n    min-width: 35px;\n    height: 35px;\n    min-height: 35px; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .volume__muteToggle___26zPy .volume__icon_small___3WQH2 {\n      display: none; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .volume__muteToggle___26zPy .volume__icon_big___3-Lie {\n      display: block; }\n.volume__muteToggle___26zPy.volume__volume0___3Yvhr .volume__volume0Icon___HUzhQ {\n    display: block; }\n.volume__muteToggle___26zPy.volume__volume50___2zDH8 .volume__volume50Icon___2qxWM {\n    display: block; }\n.volume__muteToggle___26zPy.volume__volume100___1qN8v .volume__volume100Icon___3RP1S {\n    display: block; }\n.volume__muteToggle___26zPy.volume__muted___2jeGx .volume__volume0Icon___HUzhQ {\n    display: block; }\n.volume__muteToggle___26zPy .volume__icon_small___3WQH2 {\n    display: block; }\n.volume__muteToggle___26zPy .volume__icon_big___3-Lie {\n    display: none; }\n.volume__volumeInputBlock___EzZei {\n  position: relative;\n  display: block;\n  width: 0;\n  height: 25px;\n  margin-left: 2px;\n  -webkit-transition: opacity .2s, width .2s;\n  transition: opacity .2s, width .2s;\n  opacity: 0; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .volume__volumeInputBlock___EzZei {\n    margin-left: 5px; }\n.volume__progressBar___1JJYW {\n  position: absolute;\n  top: 11.5px;\n  height: 2px;\n  padding: 0; }\n.volume__volume___1XvBT:after {\n  position: absolute;\n  top: -3px;\n  right: -4px;\n  width: 8px;\n  height: 8px;\n  content: '';\n  -webkit-transition: opacity .2s;\n  transition: opacity .2s;\n  border-radius: 50%; }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] .volume__volume___1XvBT:after {\n    top: -4px;\n    right: -5px;\n    width: 10px;\n    height: 10px; }\n.volume__background___2Mafo {\n  width: 100%; }\n.volume__hitbox___1jBrF {\n  position: relative;\n  z-index: 5;\n  display: block;\n  width: 100%;\n  height: 25px;\n  cursor: pointer;\n  opacity: 0; }\n[data-playable-focus-source='key'] [data-playable-hook='volume-control'] .focus-within.volume__volumeInputBlock___EzZei,\n[data-playable-focus-source='script'] [data-playable-hook='volume-control'] .focus-within.volume__volumeInputBlock___EzZei {\n  width: 50px;\n  margin-right: 5px;\n  opacity: 1;\n  -webkit-box-shadow: 0 0 0 2px rgba(56, 153, 236, 0.8);\n          box-shadow: 0 0 0 2px rgba(56, 153, 236, 0.8); }\n[data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"] [data-playable-focus-source='key'] [data-playable-hook='volume-control'] .focus-within.volume__volumeInputBlock___EzZei, [data-playable-hook='player-container'][data-playable-in-full-screen=\"true\"]\n  [data-playable-focus-source='script'] [data-playable-hook='volume-control'] .focus-within.volume__volumeInputBlock___EzZei {\n    width: 90px;\n    margin-right: 10px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZvbHVtZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztHQUtHO0FBQ0g7RUFDRSxxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsaUNBQXlCO1VBQXpCLHlCQUF5QjtFQUN6QixxQ0FBNkI7RUFBN0IsNkJBQTZCO0VBQzdCLFdBQVc7RUFDWCxVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCw4QkFBOEI7RUFDOUIseUJBQXdCO01BQXhCLHNCQUF3QjtVQUF4Qix3QkFBd0I7RUFDeEIsMEJBQW9CO01BQXBCLHVCQUFvQjtVQUFwQixvQkFBb0IsRUFBRTtBQUN0QjtJQUNFLFlBQVksRUFBRTtBQUVsQjtFQUNFLDhCQUE4QjtFQUM5QixvQkFBb0I7RUFDcEIsd0JBQXdCO0VBQ3hCLHFCQUFxQjtFQUNyQix5QkFBeUI7RUFDekIscUJBQXFCO0VBQ3JCLHNCQUFzQjtFQUN0QixzQkFBc0IsRUFBRTtBQUUxQjtFQUNFLG1CQUFtQjtFQUNuQixxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLDBCQUFrQjtLQUFsQix1QkFBa0I7TUFBbEIsc0JBQWtCO1VBQWxCLGtCQUFrQjtFQUNsQiw4QkFBc0I7RUFBdEIsc0JBQXNCO0VBQ3RCLHdCQUE0QjtNQUE1QixxQkFBNEI7VUFBNUIsNEJBQTRCO0VBQzVCLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CLEVBQUU7QUFDdEI7SUFDRSxhQUFhLEVBQUU7QUFDakI7SUFDRSxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLFdBQVcsRUFBRTtBQUNiO01BQ0UsWUFBWTtNQUNaLG1CQUFtQixFQUFFO0FBRTNCO0VBQ0UsY0FBYyxFQUFFO0FBRWxCO0VBQ0UsY0FBYyxFQUFFO0FBRWxCO0VBQ0UsY0FBYyxFQUFFO0FBRWxCO0VBQ0UsY0FBYyxFQUFFO0FBRWxCO0VBQ0UsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2IsaUJBQWlCO0VBQ2pCLFdBQVcsRUFBRTtBQUNiO0lBQ0UsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IsaUJBQWlCLEVBQUU7QUFDbkI7TUFDRSxjQUFjLEVBQUU7QUFDbEI7TUFDRSxlQUFlLEVBQUU7QUFDckI7SUFDRSxlQUFlLEVBQUU7QUFDbkI7SUFDRSxlQUFlLEVBQUU7QUFDbkI7SUFDRSxlQUFlLEVBQUU7QUFDbkI7SUFDRSxlQUFlLEVBQUU7QUFDbkI7SUFDRSxlQUFlLEVBQUU7QUFDbkI7SUFDRSxjQUFjLEVBQUU7QUFFcEI7RUFDRSxtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLFNBQVM7RUFDVCxhQUFhO0VBQ2IsaUJBQWlCO0VBQ2pCLDJDQUFtQztFQUFuQyxtQ0FBbUM7RUFDbkMsV0FBVyxFQUFFO0FBQ2I7SUFDRSxpQkFBaUIsRUFBRTtBQUV2QjtFQUNFLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osWUFBWTtFQUNaLFdBQVcsRUFBRTtBQUVmO0VBQ0UsbUJBQW1CO0VBQ25CLFVBQVU7RUFDVixZQUFZO0VBQ1osV0FBVztFQUNYLFlBQVk7RUFDWixZQUFZO0VBQ1osZ0NBQXdCO0VBQXhCLHdCQUF3QjtFQUN4QixtQkFBbUIsRUFBRTtBQUNyQjtJQUNFLFVBQVU7SUFDVixZQUFZO0lBQ1osWUFBWTtJQUNaLGFBQWEsRUFBRTtBQUVuQjtFQUNFLFlBQVksRUFBRTtBQUVoQjtFQUNFLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsZUFBZTtFQUNmLFlBQVk7RUFDWixhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLFdBQVcsRUFBRTtBQUVmOztFQUVFLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsV0FBVztFQUNYLHNEQUE4QztVQUE5Qyw4Q0FBOEMsRUFBRTtBQUNoRDs7SUFFRSxZQUFZO0lBQ1osbUJBQW1CLEVBQUUiLCJmaWxlIjoidm9sdW1lLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBjaGFsbGVuZ2UgaGVyZSB0byBzdXBwb3J0IFwicGxheWFibGUgcXVlcmllc1wiIGFuZCBcImRpcmVjdGlvblwiIGF0IHRoZSBzYW1lIHRpbWUgYW5kIGFsbG93IG1peGlucyBsaWtlOlxuICogICBAaW5jbHVkZSBxdWVyeShtYXgtd2lkdGgtNTUwKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgbHRyKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgcnRsKCkpXG4gKi9cbi5jb250cm9sQnV0dG9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZzogMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAuMnM7XG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IG9wYWNpdHk7XG4gIG9wYWNpdHk6IDE7XG4gIGJvcmRlcjogMDtcbiAgYm9yZGVyLXJhZGl1czogMDtcbiAgb3V0bGluZTogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyOyB9XG4gIC5jb250cm9sQnV0dG9uOmhvdmVyIHtcbiAgICBvcGFjaXR5OiAuNzsgfVxuXG4uaGlkZGVuIHtcbiAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIG1pbi13aWR0aDogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICBvcGFjaXR5OiAwICFpbXBvcnRhbnQ7IH1cblxuLnZvbHVtZUNvbnRyb2wge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHVzZXItc2VsZWN0OiBub25lO1xuICB0cmFuc2l0aW9uOiB3aWR0aCAuMnM7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl0gLnZvbHVtZUNvbnRyb2wge1xuICAgIGhlaWdodDogMzVweDsgfVxuICAudm9sdW1lQ29udHJvbDpob3ZlciAudm9sdW1lSW5wdXRCbG9jaywgLnZvbHVtZUNvbnRyb2wuaXNEcmFnZ2luZyAudm9sdW1lSW5wdXRCbG9jayB7XG4gICAgd2lkdGg6IDUwcHg7XG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgb3BhY2l0eTogMTsgfVxuICAgIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAudm9sdW1lQ29udHJvbDpob3ZlciAudm9sdW1lSW5wdXRCbG9jaywgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC52b2x1bWVDb250cm9sLmlzRHJhZ2dpbmcgLnZvbHVtZUlucHV0QmxvY2sge1xuICAgICAgd2lkdGg6IDkwcHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7IH1cblxuLnZvbHVtZTBJY29uIHtcbiAgZGlzcGxheTogbm9uZTsgfVxuXG4udm9sdW1lNTBJY29uIHtcbiAgZGlzcGxheTogbm9uZTsgfVxuXG4udm9sdW1lMTAwSWNvbiB7XG4gIGRpc3BsYXk6IG5vbmU7IH1cblxuLm11dGVJY29uIHtcbiAgZGlzcGxheTogbm9uZTsgfVxuXG4ubXV0ZVRvZ2dsZSB7XG4gIHdpZHRoOiAyNnB4O1xuICBtaW4td2lkdGg6IDI2cHg7XG4gIGhlaWdodDogMjZweDtcbiAgbWluLWhlaWdodDogMjZweDtcbiAgcGFkZGluZzogMDsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl0gLm11dGVUb2dnbGUge1xuICAgIHdpZHRoOiAzNXB4O1xuICAgIG1pbi13aWR0aDogMzVweDtcbiAgICBoZWlnaHQ6IDM1cHg7XG4gICAgbWluLWhlaWdodDogMzVweDsgfVxuICAgIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAubXV0ZVRvZ2dsZSAuaWNvbl9zbWFsbCB7XG4gICAgICBkaXNwbGF5OiBub25lOyB9XG4gICAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5tdXRlVG9nZ2xlIC5pY29uX2JpZyB7XG4gICAgICBkaXNwbGF5OiBibG9jazsgfVxuICAubXV0ZVRvZ2dsZS52b2x1bWUwIC52b2x1bWUwSWNvbiB7XG4gICAgZGlzcGxheTogYmxvY2s7IH1cbiAgLm11dGVUb2dnbGUudm9sdW1lNTAgLnZvbHVtZTUwSWNvbiB7XG4gICAgZGlzcGxheTogYmxvY2s7IH1cbiAgLm11dGVUb2dnbGUudm9sdW1lMTAwIC52b2x1bWUxMDBJY29uIHtcbiAgICBkaXNwbGF5OiBibG9jazsgfVxuICAubXV0ZVRvZ2dsZS5tdXRlZCAudm9sdW1lMEljb24ge1xuICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4gIC5tdXRlVG9nZ2xlIC5pY29uX3NtYWxsIHtcbiAgICBkaXNwbGF5OiBibG9jazsgfVxuICAubXV0ZVRvZ2dsZSAuaWNvbl9iaWcge1xuICAgIGRpc3BsYXk6IG5vbmU7IH1cblxuLnZvbHVtZUlucHV0QmxvY2sge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMDtcbiAgaGVpZ2h0OiAyNXB4O1xuICBtYXJnaW4tbGVmdDogMnB4O1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycywgd2lkdGggLjJzO1xuICBvcGFjaXR5OiAwOyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAudm9sdW1lSW5wdXRCbG9jayB7XG4gICAgbWFyZ2luLWxlZnQ6IDVweDsgfVxuXG4ucHJvZ3Jlc3NCYXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMTEuNXB4O1xuICBoZWlnaHQ6IDJweDtcbiAgcGFkZGluZzogMDsgfVxuXG4udm9sdW1lOmFmdGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0zcHg7XG4gIHJpZ2h0OiAtNHB4O1xuICB3aWR0aDogOHB4O1xuICBoZWlnaHQ6IDhweDtcbiAgY29udGVudDogJyc7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgLjJzO1xuICBib3JkZXItcmFkaXVzOiA1MCU7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC52b2x1bWU6YWZ0ZXIge1xuICAgIHRvcDogLTRweDtcbiAgICByaWdodDogLTVweDtcbiAgICB3aWR0aDogMTBweDtcbiAgICBoZWlnaHQ6IDEwcHg7IH1cblxuLmJhY2tncm91bmQge1xuICB3aWR0aDogMTAwJTsgfVxuXG4uaGl0Ym94IHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiA1O1xuICBkaXNwbGF5OiBibG9jaztcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMjVweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBvcGFjaXR5OiAwOyB9XG5cbjpnbG9iYWwgW2RhdGEtcGxheWFibGUtZm9jdXMtc291cmNlPSdrZXknXSBbZGF0YS1wbGF5YWJsZS1ob29rPSd2b2x1bWUtY29udHJvbCddIC5mb2N1cy13aXRoaW46bG9jYWwudm9sdW1lSW5wdXRCbG9jayxcbjpnbG9iYWwgW2RhdGEtcGxheWFibGUtZm9jdXMtc291cmNlPSdzY3JpcHQnXSBbZGF0YS1wbGF5YWJsZS1ob29rPSd2b2x1bWUtY29udHJvbCddIC5mb2N1cy13aXRoaW46bG9jYWwudm9sdW1lSW5wdXRCbG9jayB7XG4gIHdpZHRoOiA1MHB4O1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgb3BhY2l0eTogMTtcbiAgYm94LXNoYWRvdzogMCAwIDAgMnB4IHJnYmEoNTYsIDE1MywgMjM2LCAwLjgpOyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSA6Z2xvYmFsIFtkYXRhLXBsYXlhYmxlLWZvY3VzLXNvdXJjZT0na2V5J10gW2RhdGEtcGxheWFibGUtaG9vaz0ndm9sdW1lLWNvbnRyb2wnXSAuZm9jdXMtd2l0aGluOmxvY2FsLnZvbHVtZUlucHV0QmxvY2ssIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXVxuICA6Z2xvYmFsIFtkYXRhLXBsYXlhYmxlLWZvY3VzLXNvdXJjZT0nc2NyaXB0J10gW2RhdGEtcGxheWFibGUtaG9vaz0ndm9sdW1lLWNvbnRyb2wnXSAuZm9jdXMtd2l0aGluOmxvY2FsLnZvbHVtZUlucHV0QmxvY2sge1xuICAgIHdpZHRoOiA5MHB4O1xuICAgIG1hcmdpbi1yaWdodDogMTBweDsgfVxuIl19 */");var Vn=function(t,e){var n=e.getBoundingClientRect(),i=t.clientX;return i<n.left?0:i>n.left+n.width?100:(t.clientX-n.left)/n.width*100},Xn=function(t){function e(e){var n=this,i=e.callbacks,o=e.textMap,r=e.tooltipService,a=e.theme;return(n=t.call(this,a)||this)._callbacks=i,n._textMap=o,n._tooltipService=r,n._bindCallbacks(),n._initDOM(),n._bindEvents(),n}return o(e,t),e.prototype._initDOM=function(){var t;this._$rootElement=jt('<div class="'+(t={styles:this.styleNames,themeStyles:this.themeStyles,texts:{muteLabel:this._textMap.get(Zt.MUTE_CONTROL_LABEL),volumeLabel:this._textMap.get(Zt.VOLUME_CONTROL_LABEL)}}).styles.volumeControl+'" data-playable-hook="volume-control"> <button class="'+t.styles.muteToggle+" "+t.styles.controlButton+'" data-playable-hook="mute-button" aria-label="'+t.texts.muteLabel+'" type="button" tabindex="0"> <div class="'+t.styles.volume0Icon+" "+t.styles.muteIcon+'"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" preserveAspectRatio="xMidYMin slice" class="'+t.styles.icon_small+'" width="100%"> <path fill-rule="evenodd" class="'+t.themeStyles.volumeSvgFill+'" d="M 18.5 14.0476 L 16.154 16.3936 L 15.372 15.6116 L 17.718 13.2656 L 15.372 10.9196 L 16.154 10.1376 L 18.5 12.4836 L 20.846 10.1376 L 21.628 10.9196 L 19.282 13.2656 L 21.628 15.6116 L 20.846 16.3936 L 18.5 14.0476 Z M 7 9.76563 L 13 5.76563 L 13 19.7656 L 7 15.7656 L 4 15.7656 L 4 9.76563 L 7 9.76563 Z"/> </svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35" preserveAspectRatio="xMidYMin slice" class="'+t.styles.icon_big+'" width="100%"> <path fill-rule="evenodd" class="'+t.themeStyles.volumeSvgFill+'" d="M23.586 18.04l-2.829-2.828 1.415-1.415L25 16.626l2.828-2.83 1.415 1.416-2.829 2.828 2.829 2.828-1.415 1.415L25 19.453l-2.828 2.83-1.415-1.415 2.829-2.828zM9 13.04l7-5v19l-7-5H5v-9h4z"/> </svg> </div> <div class="'+t.styles.volume50Icon+'"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" preserveAspectRatio="xMidYMin slice" class="'+t.styles.icon_small+'" width="100%"> <path fill-rule="evenodd" class="'+t.themeStyles.volumeSvgFill+'" d="M 7 9.8025 L 13 5.8025 L 13 19.8025 L 7 15.8025 L 4 15.8025 L 4 9.8025 L 7 9.8025 Z M 17.243 17.4285 L 16.216 16.4025 A 4.548 4.548 0 0 0 16.216 9.9705 L 17.243 8.9435 A 6 6 0 0 1 17.243 17.4285 Z"/> </svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35" preserveAspectRatio="xMidYMin slice" class="'+t.styles.icon_big+'" width="100%"> <path class="'+t.themeStyles.volumeSvgFill+'" d="M9 13l7-5v19l-7-5H5v-9h4zm12.884 11.407l-1.414-1.414a7.174 7.174 0 000-10.146l1.414-1.414a9.174 9.174 0 010 12.974z" fill-rule="evenodd"/> </svg> </div> <div class="'+t.styles.volume100Icon+'"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" preserveAspectRatio="xMidYMin slice" class="'+t.styles.icon_small+'" width="100%"> <path fill-rule="evenodd" class="'+t.themeStyles.volumeSvgFill+'" d="M 7 9.8025 L 13 5.8025 L 13 19.8025 L 7 15.8025 L 4 15.8025 L 4 9.8025 L 7 9.8025 Z M 20.071 20.1975 L 19.047 19.1725 A 8.552 8.552 0 0 0 19.047 7.0795 L 20.071 6.0545 C 23.976 9.9605 23.976 16.2915 20.071 20.1975 Z M 17.243 17.4285 L 16.216 16.4025 A 4.548 4.548 0 0 0 16.216 9.9705 L 17.243 8.9435 A 6 6 0 0 1 17.243 17.4285 Z"/> </svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35" preserveAspectRatio="xMidYMin slice" class="'+t.styles.icon_big+'" width="100%"> <path fill-rule="evenodd" class="'+t.themeStyles.volumeSvgFill+'" d="M9 13.04l7-5v19l-7-5H5v-9h4zm16.897 15.794l-1.414-1.414c5.237-5.238 5.237-13.73 0-18.966l1.414-1.414c6.018 6.018 6.018 15.776 0 21.794zm-4.013-4.387l-1.414-1.414a7.174 7.174 0 000-10.146l1.414-1.414a9.174 9.174 0 010 12.974z"/> </svg> </div> </button> <div class="'+t.styles.volumeInputBlock+'" data-playable-hook="volume-input-block" aria-label="'+t.texts.volumeLabel+'" aria-valuemin="0" aria-valuenow="0" aria-valuemax="100" tabindex="0"> <div class="'+t.styles.progressBar+" "+t.styles.background+" "+t.themeStyles.volumeProgressBackground+'"> </div> <div class="'+t.styles.progressBar+" "+t.styles.volume+" "+t.themeStyles.volumeProgress+'" data-playable-hook="volume-input"> </div> <div class="'+t.styles.hitbox+'" data-playable-hook="volume-hitbox"> </div> </div></div>'),this._$muteToggle=ze(this._$rootElement,"mute-button"),this._$volumeContainer=ze(this._$rootElement,"volume-input-block"),this._$hitbox=ze(this._$rootElement,"volume-hitbox"),this._$volume=ze(this._$rootElement,"volume-input"),this._muteToggleTooltipReference=this._tooltipService.createReference(this._$muteToggle,{text:this._textMap.get(Zt.MUTE_CONTROL_TOOLTIP)})},e.prototype._bindCallbacks=function(){this._onButtonClick=this._onButtonClick.bind(this),this._startDragOnMouseDown=this._startDragOnMouseDown.bind(this),this._stopDragOnMouseUp=this._stopDragOnMouseUp.bind(this),this._setVolumeByWheel=this._setVolumeByWheel.bind(this),this._setVolumeByClick=this._setVolumeByClick.bind(this),this._setVolumeByDrag=this._setVolumeByDrag.bind(this)},e.prototype._bindEvents=function(){this._$hitbox.addEventListener("wheel",this._setVolumeByWheel),this._$hitbox.addEventListener("mousedown",this._startDragOnMouseDown),window.addEventListener("mousemove",this._setVolumeByDrag),window.addEventListener("mouseup",this._stopDragOnMouseUp),this._$muteToggle.addEventListener("click",this._onButtonClick)},e.prototype._unbindEvents=function(){this._$hitbox.removeEventListener("wheel",this._setVolumeByWheel),this._$hitbox.removeEventListener("mousedown",this._startDragOnMouseDown),window.removeEventListener("mousemove",this._setVolumeByDrag),window.removeEventListener("mouseup",this._stopDragOnMouseUp),this._$muteToggle.removeEventListener("click",this._onButtonClick)},e.prototype._startDragOnMouseDown=function(t){t.button>1||(this._setVolumeByClick(t),this._startDrag())},e.prototype._stopDragOnMouseUp=function(t){t.button>1||this._stopDrag()},e.prototype._setVolumeByClick=function(t){this._$volumeContainer.focus();var e=Vn(t,this._$hitbox);this._callbacks.onVolumeLevelChangeFromInput(e)},e.prototype._setVolumeByDrag=function(t){var e=Vn(t,this._$hitbox);this._isDragging&&this._callbacks.onVolumeLevelChangeFromInput(e)},e.prototype._setVolumeByWheel=function(t){t.preventDefault();var e=t.deltaX||-1*t.deltaY;e&&this._callbacks.onVolumeLevelChangeFromWheel(e)},e.prototype._startDrag=function(){this._isDragging=!0,this._$rootElement.classList.add(this.styleNames.isDragging),this._callbacks.onDragStart()},e.prototype._stopDrag=function(){this._isDragging&&(this._isDragging=!1,this._$rootElement.classList.remove(this.styleNames.isDragging),this._callbacks.onDragEnd())},e.prototype._setVolumeDOMAttributes=function(t){this._$volumeContainer.setAttribute("value",String(t)),this._$volumeContainer.setAttribute("aria-valuetext",this._textMap.get(Zt.VOLUME_CONTROL_VALUE,{percent:t})),this._$volumeContainer.setAttribute("aria-valuenow",String(t)),this._$volume.setAttribute("style","width:"+t+"%;"),this._$rootElement.setAttribute("data-playable-volume-percent",String(t)),this._$muteToggle.classList.remove(this.styleNames.volume0),this._$muteToggle.classList.remove(this.styleNames.volume50),this._$muteToggle.classList.remove(this.styleNames.volume100),t>=50?this._$muteToggle.classList.add(this.styleNames.volume100):t>0?this._$muteToggle.classList.add(this.styleNames.volume50):this._$muteToggle.classList.add(this.styleNames.volume0)},e.prototype._onButtonClick=function(){this._$muteToggle.focus(),this._callbacks.onToggleMuteClick()},e.prototype.setVolume=function(t){this._setVolumeDOMAttributes(t)},e.prototype.setMute=function(t){this._setMuteDOMAttributes(t)},e.prototype._setMuteDOMAttributes=function(t){t?this._$muteToggle.classList.add(this.styleNames.muted):this._$muteToggle.classList.remove(this.styleNames.muted),this._$muteToggle.setAttribute("aria-label",t?this._textMap.get(Zt.UNMUTE_CONTROL_LABEL):this._textMap.get(Zt.MUTE_CONTROL_LABEL)),this._muteToggleTooltipReference.setText(t?this._textMap.get(Zt.UNMUTE_CONTROL_TOOLTIP):this._textMap.get(Zt.MUTE_CONTROL_TOOLTIP)),this._$rootElement.setAttribute("data-playable-is-muted",String(t))},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.getButtonElement=function(){return this._$muteToggle},e.prototype.getInputElement=function(){return this._$volumeContainer},e.prototype.destroy=function(){this._unbindEvents(),this._muteToggleTooltipReference.destroy(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$muteToggle=null,this._$rootElement=null},e}($t);Xn.setTheme(Dn),Xn.extendStyleNames({controlButton:"volume__controlButton___1XXXG",hidden:"volume__hidden___504PW",volumeControl:"volume__volumeControl___1f_-O",volumeInputBlock:"volume__volumeInputBlock___EzZei",isDragging:"volume__isDragging___3mlpX",volume0Icon:"volume__volume0Icon___HUzhQ",volume50Icon:"volume__volume50Icon___2qxWM",volume100Icon:"volume__volume100Icon___3RP1S",muteIcon:"volume__muteIcon___3usXq",muteToggle:"volume__muteToggle___26zPy",icon_small:"volume__icon_small___3WQH2",icon_big:"volume__icon_big___3-Lie",volume0:"volume__volume0___3Yvhr",volume50:"volume__volume50___2zDH8",volume100:"volume__volume100___1qN8v",muted:"volume__muted___2jeGx",progressBar:"volume__progressBar___1JJYW",volume:"volume__volume___1XvBT",background:"volume__background___2Mafo",hitbox:"volume__hitbox___1jBrF"});var Zn=function(){function t(t){var e=t.engine,n=t.eventEmitter,i=t.textMap,o=t.tooltipService,r=t.theme;this._engine=e,this._eventEmitter=n,this._textMap=i,this._tooltipService=o,this._theme=r,this._bindCallbacks(),this._initUI(),this._bindEvents(),this.view.setVolume(this._engine.getVolume()),this.view.setMute(this._engine.isMuted),this._initInterceptor()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._initUI=function(){var e={callbacks:{onDragStart:this._broadcastDragStart,onDragEnd:this._broadcastDragEnd,onVolumeLevelChangeFromInput:this._getVolumeLevelFromInput,onVolumeLevelChangeFromWheel:this._getVolumeLevelFromWheel,onToggleMuteClick:this._toggleMuteState},theme:this._theme,textMap:this._textMap,tooltipService:this._tooltipService};this.view=new t.View(e)},t.prototype._initInterceptor=function(){var t,e,n=this;this._buttonInterceptor=new He(this.view.getButtonElement(),((t={})[De]=function(t){t.stopPropagation(),n._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),n._eventEmitter.emitAsync(n._engine.isMuted?Tt.UNMUTE_WITH_KEYBOARD:Tt.MUTE_WITH_KEYBOARD)},t[Ve]=function(t){t.stopPropagation(),n._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),n._eventEmitter.emitAsync(n._engine.isMuted?Tt.UNMUTE_WITH_KEYBOARD:Tt.MUTE_WITH_KEYBOARD)},t)),this._inputInterceptor=new He(this.view.getInputElement(),((e={})[Me]=function(t){t.stopPropagation(),t.preventDefault(),n._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),n._eventEmitter.emitAsync(Tt.INCREASE_VOLUME_WITH_KEYBOARD),n._engine.setMute(!1),n._engine.increaseVolume(10)},e[Ze]=function(t){t.stopPropagation(),t.preventDefault(),n._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),n._eventEmitter.emitAsync(Tt.DECREASE_VOLUME_WITH_KEYBOARD),n._engine.setMute(!1),n._engine.decreaseVolume(10)},e))},t.prototype._destroyInterceptor=function(){this._buttonInterceptor.destroy(),this._inputInterceptor.destroy()},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Nt.SOUND_STATE_CHANGED,this._updateSoundState]],this)},t.prototype._bindCallbacks=function(){this._getVolumeLevelFromInput=this._getVolumeLevelFromInput.bind(this),this._toggleMuteState=this._toggleMuteState.bind(this),this._getVolumeLevelFromWheel=this._getVolumeLevelFromWheel.bind(this),this._broadcastDragStart=this._broadcastDragStart.bind(this),this._broadcastDragEnd=this._broadcastDragEnd.bind(this)},t.prototype._broadcastDragStart=function(){this._eventEmitter.emitAsync(Tt.CONTROL_DRAG_START)},t.prototype._broadcastDragEnd=function(){this._eventEmitter.emitAsync(Tt.CONTROL_DRAG_END)},t.prototype._changeVolumeLevel=function(t){this._engine.setVolume(t),this._eventEmitter.emitAsync(Tt.VOLUME_CHANGE,t),this._engine.isMuted&&this._toggleMuteState()},t.prototype._toggleMuteState=function(){var t=!this._engine.isMuted;this._engine.setMute(t),this._eventEmitter.emitAsync(t?Tt.MUTE_CLICK:Tt.UNMUTE_CLICK)},t.prototype._getVolumeLevelFromWheel=function(t){if(!this._engine.isMuted){var e=this._engine.getVolume()+t/10,n=Math.min(100,Math.max(0,e));this._changeVolumeLevel(n)}},t.prototype._getVolumeLevelFromInput=function(t){this._changeVolumeLevel(t)},t.prototype._updateSoundState=function(){this._setVolumeLevel(this._engine.getVolume()),this._setMuteState(this._engine.isMuted)},t.prototype._setVolumeLevel=function(t){this.view.setVolume(t),this.view.setMute(Boolean(!t))},t.prototype._setMuteState=function(t){var e=this._engine.getVolume();this.view.setVolume(t?0:e),this.view.setMute(t||Boolean(!e))},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.destroy=function(){this._destroyInterceptor(),this._unbindEvents(),this.view.destroy()},t.moduleName="volumeControl",t.View=Xn,t.dependencies=["engine","eventEmitter","textMap","tooltipService","theme"],t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.full-screen__controlButton___3i-tz {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.full-screen__controlButton___3i-tz:hover {\n    opacity: .7; }\n.full-screen__hidden___3BgVZ {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.full-screen__fullScreenControl___ng08Y {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center; }\n.full-screen__fullScreenToggle___2T_-2 {\n  width: 26px;\n  min-width: 26px;\n  height: 26px;\n  min-height: 26px;\n  -webkit-transition: -webkit-transform .2s;\n  transition: -webkit-transform .2s;\n  transition: transform .2s;\n  transition: transform .2s, -webkit-transform .2s; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .full-screen__fullScreenToggle___2T_-2 {\n    width: 35px;\n    height: 35px; }\n.full-screen__fullScreenToggle___2T_-2:hover {\n    -webkit-transform: scale(1.18);\n            transform: scale(1.18); }\n.full-screen__fullScreenToggle___2T_-2 .full-screen__enterIcon___1i13n {\n    display: block; }\n.full-screen__fullScreenToggle___2T_-2 .full-screen__exitIcon___1Q_V5 {\n    display: none; }\n.full-screen__fullScreenToggle___2T_-2.full-screen__inFullScreen___3F0AO:hover {\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8); }\n.full-screen__fullScreenToggle___2T_-2.full-screen__inFullScreen___3F0AO .full-screen__enterIcon___1i13n {\n    display: none; }\n.full-screen__fullScreenToggle___2T_-2.full-screen__inFullScreen___3F0AO .full-screen__exitIcon___1Q_V5 {\n    display: block; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1bGwtc2NyZWVuLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0dBS0c7QUFDSDtFQUNFLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixpQ0FBeUI7VUFBekIseUJBQXlCO0VBQ3pCLHFDQUE2QjtFQUE3Qiw2QkFBNkI7RUFDN0IsV0FBVztFQUNYLFVBQVU7RUFDVixpQkFBaUI7RUFDakIsY0FBYztFQUNkLDhCQUE4QjtFQUM5Qix5QkFBd0I7TUFBeEIsc0JBQXdCO1VBQXhCLHdCQUF3QjtFQUN4QiwwQkFBb0I7TUFBcEIsdUJBQW9CO1VBQXBCLG9CQUFvQixFQUFFO0FBQ3RCO0lBQ0UsWUFBWSxFQUFFO0FBRWxCO0VBQ0UsOEJBQThCO0VBQzlCLG9CQUFvQjtFQUNwQix3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLHNCQUFzQixFQUFFO0FBRTFCO0VBQ0UsbUJBQW1CO0VBQ25CLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QsMEJBQW9CO01BQXBCLHVCQUFvQjtVQUFwQixvQkFBb0I7RUFDcEIseUJBQXdCO01BQXhCLHNCQUF3QjtVQUF4Qix3QkFBd0IsRUFBRTtBQUU1QjtFQUNFLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLGlCQUFpQjtFQUNqQiwwQ0FBMEI7RUFBMUIsa0NBQTBCO0VBQTFCLDBCQUEwQjtFQUExQixpREFBMEIsRUFBRTtBQUM1QjtJQUNFLFlBQVk7SUFDWixhQUFhLEVBQUU7QUFDakI7SUFDRSwrQkFBdUI7WUFBdkIsdUJBQXVCLEVBQUU7QUFDM0I7SUFDRSxlQUFlLEVBQUU7QUFDbkI7SUFDRSxjQUFjLEVBQUU7QUFDbEI7SUFDRSw4QkFBc0I7WUFBdEIsc0JBQXNCLEVBQUU7QUFDMUI7SUFDRSxjQUFjLEVBQUU7QUFDbEI7SUFDRSxlQUFlLEVBQUUiLCJmaWxlIjoiZnVsbC1zY3JlZW4uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLmNvbnRyb2xCdXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmNvbnRyb2xCdXR0b246aG92ZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5oaWRkZW4ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAgIWltcG9ydGFudDsgfVxuXG4uZnVsbFNjcmVlbkNvbnRyb2wge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyOyB9XG5cbi5mdWxsU2NyZWVuVG9nZ2xlIHtcbiAgd2lkdGg6IDI2cHg7XG4gIG1pbi13aWR0aDogMjZweDtcbiAgaGVpZ2h0OiAyNnB4O1xuICBtaW4taGVpZ2h0OiAyNnB4O1xuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjJzOyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAuZnVsbFNjcmVlblRvZ2dsZSB7XG4gICAgd2lkdGg6IDM1cHg7XG4gICAgaGVpZ2h0OiAzNXB4OyB9XG4gIC5mdWxsU2NyZWVuVG9nZ2xlOmhvdmVyIHtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMTgpOyB9XG4gIC5mdWxsU2NyZWVuVG9nZ2xlIC5lbnRlckljb24ge1xuICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4gIC5mdWxsU2NyZWVuVG9nZ2xlIC5leGl0SWNvbiB7XG4gICAgZGlzcGxheTogbm9uZTsgfVxuICAuZnVsbFNjcmVlblRvZ2dsZS5pbkZ1bGxTY3JlZW46aG92ZXIge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMC44KTsgfVxuICAuZnVsbFNjcmVlblRvZ2dsZS5pbkZ1bGxTY3JlZW4gLmVudGVySWNvbiB7XG4gICAgZGlzcGxheTogbm9uZTsgfVxuICAuZnVsbFNjcmVlblRvZ2dsZS5pbkZ1bGxTY3JlZW4gLmV4aXRJY29uIHtcbiAgICBkaXNwbGF5OiBibG9jazsgfVxuIl19 */');var Mn=function(t){function e(e){var n,i=this,o=e.callbacks,r=e.textMap,a=e.tooltipService,s=e.theme;return(i=t.call(this,s)||this)._callbacks=o,i._textMap=r,i._$rootElement=jt('<div class="'+(n={styles:i.styleNames,themeStyles:i.themeStyles,texts:{label:i._textMap.get(Zt.ENTER_FULL_SCREEN_LABEL)}}).styles.fullScreenControl+'" data-playable-hook="full-screen-control"> <button class="'+n.styles.fullScreenToggle+" "+n.styles.controlButton+'" data-playable-hook="full-screen-button" aria-label="'+n.texts.label+'" type="button" tabindex="0"> <svg class="'+n.styles.enterIcon+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" preserveAspectRatio="xMidYMin slice" width="100%"> <path class="'+n.themeStyles.fullScreenSvgFill+'" fill-rule="evenodd" d="M8 16H6v4h4v-2H8v-2zM6 7v3h2V8h2V6H6v1zm14-1h-4v2h2v2h2V6zm-2 12h-2v2h4v-4h-2v2z"/> </svg> <svg class="'+n.styles.exitIcon+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35" preserveAspectRatio="xMidYMin slice" width="100%"> <path class="'+n.themeStyles.fullScreenSvgFill+'" fill-rule="evenodd" d="M11 28h2v-6H7v2h4v4zm2-21h-2v4H7v2h6V7zm9 6h6v-2h-4V7h-2v6zm2 11h4v-2h-6v6h2v-4z"/> </svg> </button></div>'),i._$toggleFullScreenControl=ze(i._$rootElement,"full-screen-button"),i._tooltipReference=a.createReference(i._$toggleFullScreenControl,{text:i._textMap.get(Zt.ENTER_FULL_SCREEN_TOOLTIP)}),i.setFullScreenState(!1),i._bindEvents(),i}return o(e,t),e.prototype._bindEvents=function(){this._onButtonClick=this._onButtonClick.bind(this),this._$toggleFullScreenControl.addEventListener("click",this._onButtonClick)},e.prototype._unbindEvents=function(){this._$toggleFullScreenControl.removeEventListener("click",this._onButtonClick)},e.prototype._onButtonClick=function(){this._$toggleFullScreenControl.focus(),this._callbacks.onButtonClick()},e.prototype.setFullScreenState=function(t){t?(this._$toggleFullScreenControl.classList.add(this.styleNames.inFullScreen),this._$toggleFullScreenControl.setAttribute("aria-label",this._textMap.get(Zt.EXIT_FULL_SCREEN_LABEL)),this._tooltipReference.setText(this._textMap.get(Zt.EXIT_FULL_SCREEN_TOOLTIP))):(this._$toggleFullScreenControl.classList.remove(this.styleNames.inFullScreen),this._$toggleFullScreenControl.setAttribute("aria-label",this._textMap.get(Zt.ENTER_FULL_SCREEN_LABEL)),this._tooltipReference.setText(this._textMap.get(Zt.ENTER_FULL_SCREEN_TOOLTIP)))},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._unbindEvents(),this._tooltipReference.destroy(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$toggleFullScreenControl=null,this._$rootElement=null},e}($t);Mn.setTheme({fullScreenSvgFill:{fill:function(t){return t.color}}}),Mn.extendStyleNames({controlButton:"full-screen__controlButton___3i-tz",hidden:"full-screen__hidden___3BgVZ",fullScreenControl:"full-screen__fullScreenControl___ng08Y",fullScreenToggle:"full-screen__fullScreenToggle___2T_-2",enterIcon:"full-screen__enterIcon___1i13n",exitIcon:"full-screen__exitIcon___1Q_V5",inFullScreen:"full-screen__inFullScreen___3F0AO"});var Yn=function(){function t(t){var e=t.eventEmitter,n=t.fullScreenManager,i=t.textMap,o=t.tooltipService,r=t.theme;this._eventEmitter=e,this._fullScreenManager=n,this._textMap=i,this._theme=r,this._tooltipService=o,this._bindCallbacks(),this._initUI(),this._bindEvents(),this._fullScreenManager.isEnabled||this.hide(),this._initInterceptor()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._bindCallbacks=function(){this._toggleFullScreen=this._toggleFullScreen.bind(this)},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Tt.FULL_SCREEN_STATE_CHANGED,this.view.setFullScreenState]],this.view)},t.prototype._initUI=function(){var e={callbacks:{onButtonClick:this._toggleFullScreen},textMap:this._textMap,tooltipService:this._tooltipService,theme:this._theme};this.view=new t.View(e)},t.prototype._initInterceptor=function(){var t,e=this;this._interceptor=new He(this.getElement(),((t={})[De]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED)},t[Ve]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED)},t))},t.prototype._destroyInterceptor=function(){this._interceptor.destroy()},t.prototype._toggleFullScreen=function(){this._fullScreenManager.isInFullScreen?(this._fullScreenManager.exitFullScreen(),this._eventEmitter.emitAsync(Tt.EXIT_FULL_SCREEN_CLICK)):(this._fullScreenManager.enterFullScreen(),this._eventEmitter.emitAsync(Tt.ENTER_FULL_SCREEN_CLICK))},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.destroy=function(){this._destroyInterceptor(),this._unbindEvents(),this.view.destroy()},t.moduleName="fullScreenControl",t.View=Mn,t.dependencies=["eventEmitter","fullScreenManager","textMap","tooltipService","theme"],t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.picture-in-picture__controlButton___1pevT {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.picture-in-picture__controlButton___1pevT:hover {\n    opacity: .7; }\n.picture-in-picture__hidden___19f1_ {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.picture-in-picture__pictureInPictureControl___1NhQu {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center; }\n.picture-in-picture__pictureInPictureToggle___2hEBv {\n  width: 26px;\n  min-width: 26px;\n  height: 26px;\n  min-height: 26px;\n  -webkit-transition: -webkit-transform .2s;\n  transition: -webkit-transform .2s;\n  transition: transform .2s;\n  transition: transform .2s, -webkit-transform .2s; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .picture-in-picture__pictureInPictureToggle___2hEBv {\n    width: 35px;\n    min-width: 35px;\n    height: 35px;\n    min-height: 21px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .picture-in-picture__pictureInPictureToggle___2hEBv .picture-in-picture__icon_small___2Aveu {\n      display: none; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .picture-in-picture__pictureInPictureToggle___2hEBv .picture-in-picture__icon_big___dUOko {\n      display: block; }\n.picture-in-picture__pictureInPictureToggle___2hEBv .picture-in-picture__enterIcon___2um8L {\n    display: block; }\n.picture-in-picture__pictureInPictureToggle___2hEBv .picture-in-picture__exitIcon___HJ8Ie {\n    display: none; }\n.picture-in-picture__pictureInPictureToggle___2hEBv .picture-in-picture__icon_small___2Aveu {\n    display: block; }\n.picture-in-picture__pictureInPictureToggle___2hEBv .picture-in-picture__icon_big___dUOko {\n    display: none; }\n.picture-in-picture__pictureInPictureToggle___2hEBv:hover {\n    -webkit-transform: scale(1.18);\n            transform: scale(1.18); }\n.picture-in-picture__pictureInPictureToggle___2hEBv.picture-in-picture__inPictureInPicture___1cNDf:hover {\n    -webkit-transform: scale(0.8);\n            transform: scale(0.8); }\n.picture-in-picture__pictureInPictureToggle___2hEBv.picture-in-picture__inPictureInPicture___1cNDf .picture-in-picture__enterIcon___2um8L {\n    display: none; }\n.picture-in-picture__pictureInPictureToggle___2hEBv.picture-in-picture__inPictureInPicture___1cNDf .picture-in-picture__exitIcon___HJ8Ie {\n    display: block; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBpY3R1cmUtaW4tcGljdHVyZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztHQUtHO0FBQ0g7RUFDRSxxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsaUNBQXlCO1VBQXpCLHlCQUF5QjtFQUN6QixxQ0FBNkI7RUFBN0IsNkJBQTZCO0VBQzdCLFdBQVc7RUFDWCxVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCw4QkFBOEI7RUFDOUIseUJBQXdCO01BQXhCLHNCQUF3QjtVQUF4Qix3QkFBd0I7RUFDeEIsMEJBQW9CO01BQXBCLHVCQUFvQjtVQUFwQixvQkFBb0IsRUFBRTtBQUN0QjtJQUNFLFlBQVksRUFBRTtBQUVsQjtFQUNFLDhCQUE4QjtFQUM5QixvQkFBb0I7RUFDcEIsd0JBQXdCO0VBQ3hCLHFCQUFxQjtFQUNyQix5QkFBeUI7RUFDekIscUJBQXFCO0VBQ3JCLHNCQUFzQjtFQUN0QixzQkFBc0IsRUFBRTtBQUUxQjtFQUNFLG1CQUFtQjtFQUNuQixxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CO0VBQ3BCLHlCQUF3QjtNQUF4QixzQkFBd0I7VUFBeEIsd0JBQXdCLEVBQUU7QUFFNUI7RUFDRSxZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGFBQWE7RUFDYixpQkFBaUI7RUFDakIsMENBQTBCO0VBQTFCLGtDQUEwQjtFQUExQiwwQkFBMEI7RUFBMUIsaURBQTBCLEVBQUU7QUFDNUI7SUFDRSxZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYixpQkFBaUIsRUFBRTtBQUNuQjtNQUNFLGNBQWMsRUFBRTtBQUNsQjtNQUNFLGVBQWUsRUFBRTtBQUNyQjtJQUNFLGVBQWUsRUFBRTtBQUNuQjtJQUNFLGNBQWMsRUFBRTtBQUNsQjtJQUNFLGVBQWUsRUFBRTtBQUNuQjtJQUNFLGNBQWMsRUFBRTtBQUNsQjtJQUNFLCtCQUF1QjtZQUF2Qix1QkFBdUIsRUFBRTtBQUMzQjtJQUNFLDhCQUFzQjtZQUF0QixzQkFBc0IsRUFBRTtBQUMxQjtJQUNFLGNBQWMsRUFBRTtBQUNsQjtJQUNFLGVBQWUsRUFBRSIsImZpbGUiOiJwaWN0dXJlLWluLXBpY3R1cmUuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLmNvbnRyb2xCdXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTtcbiAgb3BhY2l0eTogMTtcbiAgYm9yZGVyOiAwO1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmNvbnRyb2xCdXR0b246aG92ZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5oaWRkZW4ge1xuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAgIWltcG9ydGFudDsgfVxuXG4ucGljdHVyZUluUGljdHVyZUNvbnRyb2wge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyOyB9XG5cbi5waWN0dXJlSW5QaWN0dXJlVG9nZ2xlIHtcbiAgd2lkdGg6IDI2cHg7XG4gIG1pbi13aWR0aDogMjZweDtcbiAgaGVpZ2h0OiAyNnB4O1xuICBtaW4taGVpZ2h0OiAyNnB4O1xuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjJzOyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAucGljdHVyZUluUGljdHVyZVRvZ2dsZSB7XG4gICAgd2lkdGg6IDM1cHg7XG4gICAgbWluLXdpZHRoOiAzNXB4O1xuICAgIGhlaWdodDogMzVweDtcbiAgICBtaW4taGVpZ2h0OiAyMXB4OyB9XG4gICAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5waWN0dXJlSW5QaWN0dXJlVG9nZ2xlIC5pY29uX3NtYWxsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7IH1cbiAgICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl0gLnBpY3R1cmVJblBpY3R1cmVUb2dnbGUgLmljb25fYmlnIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4gIC5waWN0dXJlSW5QaWN0dXJlVG9nZ2xlIC5lbnRlckljb24ge1xuICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4gIC5waWN0dXJlSW5QaWN0dXJlVG9nZ2xlIC5leGl0SWNvbiB7XG4gICAgZGlzcGxheTogbm9uZTsgfVxuICAucGljdHVyZUluUGljdHVyZVRvZ2dsZSAuaWNvbl9zbWFsbCB7XG4gICAgZGlzcGxheTogYmxvY2s7IH1cbiAgLnBpY3R1cmVJblBpY3R1cmVUb2dnbGUgLmljb25fYmlnIHtcbiAgICBkaXNwbGF5OiBub25lOyB9XG4gIC5waWN0dXJlSW5QaWN0dXJlVG9nZ2xlOmhvdmVyIHtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMTgpOyB9XG4gIC5waWN0dXJlSW5QaWN0dXJlVG9nZ2xlLmluUGljdHVyZUluUGljdHVyZTpob3ZlciB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjgpOyB9XG4gIC5waWN0dXJlSW5QaWN0dXJlVG9nZ2xlLmluUGljdHVyZUluUGljdHVyZSAuZW50ZXJJY29uIHtcbiAgICBkaXNwbGF5OiBub25lOyB9XG4gIC5waWN0dXJlSW5QaWN0dXJlVG9nZ2xlLmluUGljdHVyZUluUGljdHVyZSAuZXhpdEljb24ge1xuICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4iXX0= */');var Pn=function(t){function e(e){var n,i=this,o=e.callbacks,r=e.textMap,a=e.tooltipService,s=e.theme;return(i=t.call(this,s)||this)._callbacks=o,i._textMap=r,i._$rootElement=jt('<div class="'+(n={styles:i.styleNames,themeStyles:i.themeStyles,texts:{label:i._textMap.get(Zt.ENTER_PICTURE_IN_PICTURE_LABEL)}}).styles.pictureInPictureControl+'" data-playable-hook="picture-in-picture-control" data-is-picture-in-picture="false"> <button class="'+n.styles.pictureInPictureToggle+" "+n.styles.controlButton+'" data-playable-hook="picture-in-picture-control" aria-label="'+n.texts.label+'" type="button" tabindex="0"> <div class="'+n.styles.enterIcon+'"> <svg class="'+n.styles.icon_small+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" preserveAspectRatio="xMidYMin slice" width="100%"> <g fill-rule="evenodd" class="'+n.themeStyles.pictureInPictureSvgFill+'"> <path d="M11 19H5V6h15v5h-2V8H7v9h4v2z"/> <path d="M13 13h9v8h-9v-8zm2 2v4h5v-4h-5z"/> </g> </svg> <svg class="'+n.styles.icon_big+'" viewBox="0 0 35 35" version="1" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMin slice" width="100%"> <g fill-rule="evenodd" class="'+n.themeStyles.pictureInPictureSvgFill+'"> <path d="M14 26H5V7h22v7h-2V9H7v15h7v2z"/> <path d="M17 17h12v11H17V17zm2 2v7h8v-7h-8z"/> </g> </svg> </div> <div class="'+n.styles.exitIcon+'"> <svg class="'+n.styles.icon_small+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" preserveAspectRatio="xMidYMin slice" width="100%"> <g fill-rule="evenodd" class="'+n.themeStyles.pictureInPictureSvgFill+'"> <path d="M12 19H5V6h15v5h-2V8H7v9h5v2z"/> <path d="M21 15h-7v-2h7v2z"/> <path d="M16 20v-7h-2v7h2z"/> <path d="M21.279 18.95l-1.415 1.414-4.95-4.95L16.329 14l4.95 4.95z"/> </g> </svg> <svg class="'+n.styles.icon_big+'" viewBox="0 0 35 35" version="1" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMin slice" width="100%"> <g fill-rule="evenodd" class="'+n.themeStyles.pictureInPictureSvgFill+'"> <path d="M17 26H5V7h22v9h-2V9H7v15h10v2z"/> <path d="M28 21h-8v-2h8v2z"/> <path d="M22 27v-8h-2v8h2z"/> <path d="M29 27l-1 1-7-6 2-2 6 7z"/> </g> </svg> </div> </button></div>'),i._$togglePictureInPictureControl=ze(i._$rootElement,"picture-in-picture-control"),i._tooltipReference=a.createReference(i._$togglePictureInPictureControl,{text:i._textMap.get(Zt.ENTER_PICTURE_IN_PICTURE_TOOLTIP)}),i.setPictureInPictureState(!1),i._bindEvents(),i}return o(e,t),e.prototype._bindEvents=function(){this._onButtonClick=this._onButtonClick.bind(this),this._$togglePictureInPictureControl.addEventListener("click",this._onButtonClick)},e.prototype._unbindEvents=function(){this._$togglePictureInPictureControl.removeEventListener("click",this._onButtonClick)},e.prototype._onButtonClick=function(){this._callbacks.onButtonClick()},e.prototype.setPictureInPictureState=function(t){t?(this._$togglePictureInPictureControl.classList.add(this.styleNames.inPictureInPicture),this._$togglePictureInPictureControl.setAttribute("aria-label",this._textMap.get(Zt.EXIT_PICTURE_IN_PICTURE_LABEL)),this._tooltipReference.setText(this._textMap.get(Zt.EXIT_PICTURE_IN_PICTURE_TOOLTIP))):(this._$togglePictureInPictureControl.classList.remove(this.styleNames.inPictureInPicture),this._$togglePictureInPictureControl.setAttribute("aria-label",this._textMap.get(Zt.ENTER_PICTURE_IN_PICTURE_LABEL)),this._tooltipReference.setText(this._textMap.get(Zt.ENTER_PICTURE_IN_PICTURE_TOOLTIP)))},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._unbindEvents(),this._tooltipReference.destroy(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$togglePictureInPictureControl=null,this._$rootElement=null},e}($t);Pn.setTheme({pictureInPictureSvgFill:{fill:function(t){return t.color}}}),Pn.extendStyleNames({controlButton:"picture-in-picture__controlButton___1pevT",hidden:"picture-in-picture__hidden___19f1_",pictureInPictureControl:"picture-in-picture__pictureInPictureControl___1NhQu",pictureInPictureToggle:"picture-in-picture__pictureInPictureToggle___2hEBv",icon_small:"picture-in-picture__icon_small___2Aveu",icon_big:"picture-in-picture__icon_big___dUOko",enterIcon:"picture-in-picture__enterIcon___2um8L",exitIcon:"picture-in-picture__exitIcon___HJ8Ie",inPictureInPicture:"picture-in-picture__inPictureInPicture___1cNDf"});var jn=function(){function t(t){var e=t.eventEmitter,n=t.pictureInPicture,i=t.textMap,o=t.tooltipService,r=t.theme;this._eventEmitter=e,this._pictureInPictureManager=n,this._textMap=i,this._theme=r,this._tooltipService=o,this._bindCallbacks(),this._initUI(),this._bindEvents(),this._pictureInPictureManager.isEnabled||this.hide(),this._initInterceptor()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._bindCallbacks=function(){this._togglePictureInPicture=this._togglePictureInPicture.bind(this)},t.prototype._bindEvents=function(){this._unbindEvents=this._eventEmitter.bindEvents([[Tt.PICTURE_IN_PICTURE_STATUS_CHANGE,this.view.setPictureInPictureState]],this.view)},t.prototype._initUI=function(){var e={callbacks:{onButtonClick:this._togglePictureInPicture},textMap:this._textMap,tooltipService:this._tooltipService,theme:this._theme};this.view=new t.View(e)},t.prototype._initInterceptor=function(){var t,e=this;this._interceptor=new He(this.getElement(),((t={})[De]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED)},t[Ve]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED)},t))},t.prototype._destroyInterceptor=function(){this._interceptor.destroy()},t.prototype._togglePictureInPicture=function(){this._pictureInPictureManager.isInPictureInPicture?(this._pictureInPictureManager.exitPictureInPicture(),this._eventEmitter.emitAsync(Tt.EXIT_PICTURE_IN_PICTURE_CLICK)):(this._pictureInPictureManager.enterPictureInPicture(),this._eventEmitter.emitAsync(Tt.ENTER_PICTURE_IN_PICTURE_CLICK))},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.destroy=function(){this._destroyInterceptor(),this._unbindEvents(),this.view.destroy()},t.moduleName="pictureInPictureControl",t.View=Pn,t.dependencies=["eventEmitter","pictureInPicture","textMap","tooltipService","theme"],t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.logo__controlButton___owdbK {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.logo__controlButton___owdbK:hover {\n    opacity: .7; }\n.logo__hidden___Pm6t6 {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.logo__logoWrapper___2HWRo {\n  position: relative;\n  z-index: 3;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-transition: opacity .2s;\n  transition: opacity .2s;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  opacity: 1;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.logo__logoWrapper___2HWRo:hover .logo__logoPlaceholder___14fTk {\n    opacity: .7; }\n.logo__logoImage___1N2ry {\n  max-width: 125px;\n  max-height: 26px;\n  -webkit-transition: opacity .2s;\n  transition: opacity .2s; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="550px"] .logo__logoImage___1N2ry {\n    max-width: 90px;\n    max-height: 20px; }\n[data-playable-hook=\'player-container\'][data-playable-max-width~="350px"] .logo__logoImage___1N2ry {\n    max-width: 70px;\n    max-height: 18px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .logo__logoImage___1N2ry {\n    max-width: 450px;\n    max-height: 36px; }\n.logo__logoImage___1N2ry.logo__hidden___Pm6t6 {\n    display: none; }\n.logo__logoButton___1JWF4 {\n  width: 26px;\n  min-width: 26px;\n  height: 26px;\n  min-height: 26px;\n  -webkit-transition: -webkit-transform .2s;\n  transition: -webkit-transform .2s;\n  transition: transform .2s;\n  transition: transform .2s, -webkit-transform .2s; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .logo__logoButton___1JWF4 {\n    width: 35px;\n    min-width: 35px;\n    height: 35px;\n    min-height: 35px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .logo__logoButton___1JWF4 .logo__icon_small___2o0-C {\n      display: none; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .logo__logoButton___1JWF4 .logo__icon_big___pAlEu {\n      display: block; }\n.logo__logoButton___1JWF4 .logo__icon_small___2o0-C {\n    display: block; }\n.logo__logoButton___1JWF4 .logo__icon_big___pAlEu {\n    display: none; }\n.logo__logoButton___1JWF4:hover {\n    -webkit-transform: scale(1.2);\n            transform: scale(1.2); }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ28uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7R0FLRztBQUNIOzs7OztHQUtHO0FBQ0g7RUFDRSxxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsaUNBQXlCO1VBQXpCLHlCQUF5QjtFQUN6QixxQ0FBNkI7RUFBN0IsNkJBQTZCO0VBQzdCLFdBQVc7RUFDWCxVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCw4QkFBOEI7RUFDOUIseUJBQXdCO01BQXhCLHNCQUF3QjtVQUF4Qix3QkFBd0I7RUFDeEIsMEJBQW9CO01BQXBCLHVCQUFvQjtVQUFwQixvQkFBb0IsRUFBRTtBQUN0QjtJQUNFLFlBQVksRUFBRTtBQUVsQjtFQUNFLDhCQUE4QjtFQUM5QixvQkFBb0I7RUFDcEIsd0JBQXdCO0VBQ3hCLHFCQUFxQjtFQUNyQix5QkFBeUI7RUFDekIscUJBQXFCO0VBQ3JCLHNCQUFzQjtFQUN0QixzQkFBc0IsRUFBRTtBQUUxQjtFQUNFLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gscUJBQWM7RUFBZCxxQkFBYztFQUFkLGNBQWM7RUFDZCxnQ0FBd0I7RUFBeEIsd0JBQXdCO0VBQ3hCLGlDQUF5QjtVQUF6Qix5QkFBeUI7RUFDekIsV0FBVztFQUNYLHlCQUF3QjtNQUF4QixzQkFBd0I7VUFBeEIsd0JBQXdCO0VBQ3hCLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CLEVBQUU7QUFDdEI7SUFDRSxZQUFZLEVBQUU7QUFFbEI7RUFDRSxpQkFBaUI7RUFDakIsaUJBQWlCO0VBQ2pCLGdDQUF3QjtFQUF4Qix3QkFBd0IsRUFBRTtBQUMxQjtJQUNFLGdCQUFnQjtJQUNoQixpQkFBaUIsRUFBRTtBQUNyQjtJQUNFLGdCQUFnQjtJQUNoQixpQkFBaUIsRUFBRTtBQUNyQjtJQUNFLGlCQUFpQjtJQUNqQixpQkFBaUIsRUFBRTtBQUNyQjtJQUNFLGNBQWMsRUFBRTtBQUVwQjtFQUNFLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLGlCQUFpQjtFQUNqQiwwQ0FBMEI7RUFBMUIsa0NBQTBCO0VBQTFCLDBCQUEwQjtFQUExQixpREFBMEIsRUFBRTtBQUM1QjtJQUNFLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsYUFBYTtJQUNiLGlCQUFpQixFQUFFO0FBQ25CO01BQ0UsY0FBYyxFQUFFO0FBQ2xCO01BQ0UsZUFBZSxFQUFFO0FBQ3JCO0lBQ0UsZUFBZSxFQUFFO0FBQ25CO0lBQ0UsY0FBYyxFQUFFO0FBQ2xCO0lBQ0UsOEJBQXNCO1lBQXRCLHNCQUFzQixFQUFFIiwiZmlsZSI6ImxvZ28uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGNoYWxsZW5nZSBoZXJlIHRvIHN1cHBvcnQgXCJwbGF5YWJsZSBxdWVyaWVzXCIgYW5kIFwiZGlyZWN0aW9uXCIgYXQgdGhlIHNhbWUgdGltZSBhbmQgYWxsb3cgbWl4aW5zIGxpa2U6XG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBsdHIoKSlcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpLCBydGwoKSlcbiAqL1xuLyoqXG4gKiBUaGUgY2hhbGxlbmdlIGhlcmUgdG8gc3VwcG9ydCBcInBsYXlhYmxlIHF1ZXJpZXNcIiBhbmQgXCJkaXJlY3Rpb25cIiBhdCB0aGUgc2FtZSB0aW1lIGFuZCBhbGxvdyBtaXhpbnMgbGlrZTpcbiAqICAgQGluY2x1ZGUgcXVlcnkobWF4LXdpZHRoLTU1MCgpKVxuICogICBAaW5jbHVkZSBxdWVyeShtYXgtd2lkdGgtNTUwKCksIGx0cigpKVxuICogICBAaW5jbHVkZSBxdWVyeShtYXgtd2lkdGgtNTUwKCksIHJ0bCgpKVxuICovXG4uY29udHJvbEJ1dHRvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHBhZGRpbmc6IDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogLjJzO1xuICB0cmFuc2l0aW9uLXByb3BlcnR5OiBvcGFjaXR5O1xuICBvcGFjaXR5OiAxO1xuICBib3JkZXI6IDA7XG4gIGJvcmRlci1yYWRpdXM6IDA7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxuICAuY29udHJvbEJ1dHRvbjpob3ZlciB7XG4gICAgb3BhY2l0eTogLjc7IH1cblxuLmhpZGRlbiB7XG4gIHZpc2liaWxpdHk6IGhpZGRlbiAhaW1wb3J0YW50O1xuICB3aWR0aDogMCAhaW1wb3J0YW50O1xuICBtaW4td2lkdGg6IDAgIWltcG9ydGFudDtcbiAgaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIG1pbi1oZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgb3BhY2l0eTogMCAhaW1wb3J0YW50OyB9XG5cbi5sb2dvV3JhcHBlciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgei1pbmRleDogMztcbiAgZGlzcGxheTogZmxleDtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMnM7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IC4ycztcbiAgb3BhY2l0eTogMTtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cbiAgLmxvZ29XcmFwcGVyOmhvdmVyIC5sb2dvUGxhY2Vob2xkZXIge1xuICAgIG9wYWNpdHk6IC43OyB9XG5cbi5sb2dvSW1hZ2Uge1xuICBtYXgtd2lkdGg6IDEyNXB4O1xuICBtYXgtaGVpZ2h0OiAyNnB4O1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4yczsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1tYXgtd2lkdGh+PVwiNTUwcHhcIl0gLmxvZ29JbWFnZSB7XG4gICAgbWF4LXdpZHRoOiA5MHB4O1xuICAgIG1heC1oZWlnaHQ6IDIwcHg7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtbWF4LXdpZHRofj1cIjM1MHB4XCJdIC5sb2dvSW1hZ2Uge1xuICAgIG1heC13aWR0aDogNzBweDtcbiAgICBtYXgtaGVpZ2h0OiAxOHB4OyB9XG4gIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAubG9nb0ltYWdlIHtcbiAgICBtYXgtd2lkdGg6IDQ1MHB4O1xuICAgIG1heC1oZWlnaHQ6IDM2cHg7IH1cbiAgLmxvZ29JbWFnZS5oaWRkZW4ge1xuICAgIGRpc3BsYXk6IG5vbmU7IH1cblxuLmxvZ29CdXR0b24ge1xuICB3aWR0aDogMjZweDtcbiAgbWluLXdpZHRoOiAyNnB4O1xuICBoZWlnaHQ6IDI2cHg7XG4gIG1pbi1oZWlnaHQ6IDI2cHg7XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMnM7IH1cbiAgW2RhdGEtcGxheWFibGUtaG9vaz0ncGxheWVyLWNvbnRhaW5lciddW2RhdGEtcGxheWFibGUtaW4tZnVsbC1zY3JlZW49XCJ0cnVlXCJdIC5sb2dvQnV0dG9uIHtcbiAgICB3aWR0aDogMzVweDtcbiAgICBtaW4td2lkdGg6IDM1cHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIG1pbi1oZWlnaHQ6IDM1cHg7IH1cbiAgICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl0gLmxvZ29CdXR0b24gLmljb25fc21hbGwge1xuICAgICAgZGlzcGxheTogbm9uZTsgfVxuICAgIFtkYXRhLXBsYXlhYmxlLWhvb2s9J3BsYXllci1jb250YWluZXInXVtkYXRhLXBsYXlhYmxlLWluLWZ1bGwtc2NyZWVuPVwidHJ1ZVwiXSAubG9nb0J1dHRvbiAuaWNvbl9iaWcge1xuICAgICAgZGlzcGxheTogYmxvY2s7IH1cbiAgLmxvZ29CdXR0b24gLmljb25fc21hbGwge1xuICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4gIC5sb2dvQnV0dG9uIC5pY29uX2JpZyB7XG4gICAgZGlzcGxheTogbm9uZTsgfVxuICAubG9nb0J1dHRvbjpob3ZlciB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpOyB9XG4iXX0= */');var Hn=function(t){function e(e){var n=this,i=e.callbacks,o=e.textMap,r=e.tooltipService,a=e.theme;return(n=t.call(this,a)||this)._callbacks=i,n._textMap=o,n._$rootElement=jt('<div class="'+[n.styleNames,n._textMap.get(Zt.LOGO_LABEL)][0].logoWrapper+'"></div>'),n._$logoImage=jt(function(t){return'<img class="'+t.styles.logoImage+'" aria-label="'+t.texts.label+'"/>'}({styles:n.styleNames,texts:{label:n._textMap.get(Zt.LOGO_LABEL)}})),n._$logoInput=jt(function(t){return'<input type="image" class="'+t.styles.logoImage+'" aria-label="'+t.texts.label+'" tabindex="0" />'}({styles:n.styleNames,texts:{label:n._textMap.get(Zt.LOGO_LABEL)}})),n._$logoButton=jt(function(t){return'<button class="'+t.styles.logoButton+" "+t.styles.controlButton+'" aria-label="'+t.texts.label+'" type="button" tabindex="0"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" class="'+t.styles.icon_small+'" preserveAspectRatio="xMidYMin slice" width="100%"> <path fill-rule="evenodd" class="'+t.themeStyles.logoButtonSvgFill+'" d="M8 20H6V6h4v2H8v10h10v-2h2v4H8zM18 9.485l-4.586 4.586L12 12.657 16.657 8h-1.653V6H20v5.005h-2v-1.52z"/> </svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35" class="'+t.styles.icon_big+'" preserveAspectRatio="xMidYMin slice" width="100%"> <path fill-rule="evenodd" class="'+t.themeStyles.logoButtonSvgFill+'" d="M9 28H7V7h7.071v2H9v17h17v-5h2v7H9zm17-17.98l-8.586 8.587L16 17.192 24.192 9h-2.184V7H28v6.012h-2V10.02z"/> </svg></button>'}({styles:n.styleNames,themeStyles:n.themeStyles,texts:{label:n._textMap.get(Zt.LOGO_LABEL)}})),n._tooltipReference=r.createReference(n._$rootElement,{text:n._textMap.get(Zt.LOGO_TOOLTIP)}),n.setLogo(e.logo),n._bindCallbacks(),n._bindEvents(),n.showAsButton(),n}return o(e,t),e.prototype.setLogo=function(t){t?(this._$logoImage.setAttribute("src",t),this._$logoInput.setAttribute("src",t)):(this._$logoImage.removeAttribute("src"),this._$logoInput.removeAttribute("src"))},e.prototype.showAsImage=function(){this._setChild(this._$logoImage),this._tooltipReference.disable()},e.prototype.showAsButton=function(){this._setChild(this._$logoButton),this._tooltipReference.enable()},e.prototype.showAsInput=function(){this._setChild(this._$logoInput),this._tooltipReference.enable()},e.prototype._setChild=function(t){this._$rootElement.firstChild&&this._$rootElement.removeChild(this._$rootElement.firstChild),this._$rootElement.appendChild(t)},e.prototype._bindCallbacks=function(){this._onClick=this._onClick.bind(this)},e.prototype._bindEvents=function(){this._$rootElement.addEventListener("click",this._onClick)},e.prototype._unbindEvents=function(){this._$rootElement.removeEventListener("click",this._onClick)},e.prototype._onClick=function(){this._$rootElement.focus(),this._callbacks.onLogoClick()},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.hide=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._unbindEvents(),this._tooltipReference.destroy(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$rootElement=null,this._$logoImage=null,this._$logoInput=null,this._$logoButton=null},e}($t);Hn.setTheme({logoButtonSvgFill:{fill:function(t){return t.color}}}),Hn.extendStyleNames({controlButton:"logo__controlButton___owdbK",hidden:"logo__hidden___Pm6t6",logoWrapper:"logo__logoWrapper___2HWRo",logoPlaceholder:"logo__logoPlaceholder___14fTk",logoImage:"logo__logoImage___1N2ry",logoButton:"logo__logoButton___1JWF4",icon_small:"logo__icon_small___2o0-C",icon_big:"logo__icon_big___pAlEu"});var Jn=function(){function t(t){var e=t.eventEmitter,n=t.textMap,i=t.tooltipService,o=t.theme;this._eventEmitter=e,this._textMap=n,this._theme=o,this._tooltipService=i,this._bindCallbacks(),this._initUI(),this._initInterceptor()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._bindCallbacks=function(){this._triggerCallback=this._triggerCallback.bind(this)},t.prototype._initUI=function(){var e={theme:this._theme,callbacks:{onLogoClick:this._triggerCallback},textMap:this._textMap,tooltipService:this._tooltipService};this.view=new t.View(e)},t.prototype._initInterceptor=function(){var t,e=this;this._interceptor=new He(this.getElement(),((t={})[De]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._triggerCallback()},t[Ve]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._triggerCallback()},t))},t.prototype._destroyInterceptor=function(){this._interceptor.destroy()},t.prototype._triggerCallback=function(){this._callback&&this._callback()},t.prototype.setLogo=function(t){this._logoSrc=t,this.view.setLogo(this._logoSrc),this._setProperDisplayState()},t.prototype.setLogoClickCallback=function(t){this._callback=t,this._setProperDisplayState()},t.prototype._setProperDisplayState=function(){this._callback?this._logoSrc?this.view.showAsInput():this.view.showAsButton():this._logoSrc?this.view.showAsImage():this.view.showAsButton()},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.destroy=function(){this._destroyInterceptor(),this.view.destroy()},t.moduleName="logo",t.View=Hn,t.dependencies=["eventEmitter","textMap","tooltipService","theme"],a([S()],t.prototype,"setLogo",null),a([S()],t.prototype,"setLogoClickCallback",null),t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.download__controlButton___fk1Ma {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.download__controlButton___fk1Ma:hover {\n    opacity: .7; }\n.download__hidden___36lL8 {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.download__buttonWrapper___244Vz {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center; }\n.download__downloadButton___3J_rA {\n  width: 26px;\n  min-width: 26px;\n  height: 26px;\n  min-height: 26px;\n  -webkit-transition: -webkit-transform .2s;\n  transition: -webkit-transform .2s;\n  transition: transform .2s;\n  transition: transform .2s, -webkit-transform .2s; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .download__downloadButton___3J_rA {\n    width: 35px;\n    min-width: 35px;\n    height: 35px;\n    min-height: 21px; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .download__downloadButton___3J_rA .download__icon_small___1rNov {\n      display: none; }\n[data-playable-hook=\'player-container\'][data-playable-in-full-screen="true"] .download__downloadButton___3J_rA .download__icon_big___3csO6 {\n      display: block; }\n.download__downloadButton___3J_rA .download__icon_small___1rNov {\n    display: block; }\n.download__downloadButton___3J_rA .download__icon_big___3csO6 {\n    display: none; }\n.download__downloadButton___3J_rA:hover {\n    -webkit-transform: scale(1.18);\n            transform: scale(1.18); }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvd25sb2FkLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0dBS0c7QUFDSDtFQUNFLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixpQ0FBeUI7VUFBekIseUJBQXlCO0VBQ3pCLHFDQUE2QjtFQUE3Qiw2QkFBNkI7RUFDN0IsV0FBVztFQUNYLFVBQVU7RUFDVixpQkFBaUI7RUFDakIsY0FBYztFQUNkLDhCQUE4QjtFQUM5Qix5QkFBd0I7TUFBeEIsc0JBQXdCO1VBQXhCLHdCQUF3QjtFQUN4QiwwQkFBb0I7TUFBcEIsdUJBQW9CO1VBQXBCLG9CQUFvQixFQUFFO0FBQ3RCO0lBQ0UsWUFBWSxFQUFFO0FBRWxCO0VBQ0UsOEJBQThCO0VBQzlCLG9CQUFvQjtFQUNwQix3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLHNCQUFzQixFQUFFO0FBRTFCO0VBQ0UsbUJBQW1CO0VBQ25CLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QsMEJBQW9CO01BQXBCLHVCQUFvQjtVQUFwQixvQkFBb0I7RUFDcEIseUJBQXdCO01BQXhCLHNCQUF3QjtVQUF4Qix3QkFBd0IsRUFBRTtBQUU1QjtFQUNFLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLGlCQUFpQjtFQUNqQiwwQ0FBMEI7RUFBMUIsa0NBQTBCO0VBQTFCLDBCQUEwQjtFQUExQixpREFBMEIsRUFBRTtBQUM1QjtJQUNFLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsYUFBYTtJQUNiLGlCQUFpQixFQUFFO0FBQ25CO01BQ0UsY0FBYyxFQUFFO0FBQ2xCO01BQ0UsZUFBZSxFQUFFO0FBQ3JCO0lBQ0UsZUFBZSxFQUFFO0FBQ25CO0lBQ0UsY0FBYyxFQUFFO0FBQ2xCO0lBQ0UsK0JBQXVCO1lBQXZCLHVCQUF1QixFQUFFIiwiZmlsZSI6ImRvd25sb2FkLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBjaGFsbGVuZ2UgaGVyZSB0byBzdXBwb3J0IFwicGxheWFibGUgcXVlcmllc1wiIGFuZCBcImRpcmVjdGlvblwiIGF0IHRoZSBzYW1lIHRpbWUgYW5kIGFsbG93IG1peGlucyBsaWtlOlxuICogICBAaW5jbHVkZSBxdWVyeShtYXgtd2lkdGgtNTUwKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgbHRyKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgcnRsKCkpXG4gKi9cbi5jb250cm9sQnV0dG9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZzogMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAuMnM7XG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IG9wYWNpdHk7XG4gIG9wYWNpdHk6IDE7XG4gIGJvcmRlcjogMDtcbiAgYm9yZGVyLXJhZGl1czogMDtcbiAgb3V0bGluZTogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyOyB9XG4gIC5jb250cm9sQnV0dG9uOmhvdmVyIHtcbiAgICBvcGFjaXR5OiAuNzsgfVxuXG4uaGlkZGVuIHtcbiAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIG1pbi13aWR0aDogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICBvcGFjaXR5OiAwICFpbXBvcnRhbnQ7IH1cblxuLmJ1dHRvbldyYXBwZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyOyB9XG5cbi5kb3dubG9hZEJ1dHRvbiB7XG4gIHdpZHRoOiAyNnB4O1xuICBtaW4td2lkdGg6IDI2cHg7XG4gIGhlaWdodDogMjZweDtcbiAgbWluLWhlaWdodDogMjZweDtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4yczsgfVxuICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl0gLmRvd25sb2FkQnV0dG9uIHtcbiAgICB3aWR0aDogMzVweDtcbiAgICBtaW4td2lkdGg6IDM1cHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIG1pbi1oZWlnaHQ6IDIxcHg7IH1cbiAgICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl0gLmRvd25sb2FkQnV0dG9uIC5pY29uX3NtYWxsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7IH1cbiAgICBbZGF0YS1wbGF5YWJsZS1ob29rPSdwbGF5ZXItY29udGFpbmVyJ11bZGF0YS1wbGF5YWJsZS1pbi1mdWxsLXNjcmVlbj1cInRydWVcIl0gLmRvd25sb2FkQnV0dG9uIC5pY29uX2JpZyB7XG4gICAgICBkaXNwbGF5OiBibG9jazsgfVxuICAuZG93bmxvYWRCdXR0b24gLmljb25fc21hbGwge1xuICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4gIC5kb3dubG9hZEJ1dHRvbiAuaWNvbl9iaWcge1xuICAgIGRpc3BsYXk6IG5vbmU7IH1cbiAgLmRvd25sb2FkQnV0dG9uOmhvdmVyIHtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMTgpOyB9XG4iXX0= */');var zn=function(t){function e(e){var n,i=this,o=e.callbacks,r=e.textMap,a=e.tooltipService,s=e.theme;return(i=t.call(this,s)||this)._callbacks=o,i._textMap=r,i._$rootElement=jt('<div class="'+(n={styles:i.styleNames,themeStyles:i.themeStyles,texts:{label:i._textMap.get(Zt.DOWNLOAD_BUTTON_LABEL)}}).styles.buttonWrapper+'"> <button class="'+n.styles.downloadButton+" "+n.styles.controlButton+'" data-playable-hook="download-button" aria-label="'+n.texts.label+'" type="button" tabindex="0"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" class="'+n.styles.icon_small+'" width="100%"> <g fill-rule="evenodd" class="'+n.themeStyles.downloadSvgFill+'"> <path d="M6 18h14v2H6v-2zm3.586-8.328L13 13.025v2.708l-4.828-4.647 1.414-1.414zM13 13.123l3.618-3.655 1.414 1.414L13 15.749v-2.626z"/> <path d="M12 6h2v8l-1 2-1-2V6z"/> </g> </svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35" class="'+n.styles.icon_big+'" width="100%"> <path d="M16.5 17.586V7h2v10.825L23.571 13l1.414 1.414-7.085 6.743-.329.328-7.071-7.07L11.914 13l4.586 4.586zM5.5 26h24v2h-24v-2z" fill-rule="evenodd"/> </svg> </button></div>'),i._$downloadButton=ze(i._$rootElement,"download-button"),i._tooltipReference=a.createReference(i._$downloadButton,{text:i._textMap.get(Zt.DOWNLOAD_BUTTON_TOOLTIP)}),i._bindEvents(),i}return o(e,t),e.prototype._bindEvents=function(){this._onButtonClick=this._onButtonClick.bind(this),this._$downloadButton.addEventListener("click",this._onButtonClick)},e.prototype._unbindEvents=function(){this._$downloadButton.removeEventListener("click",this._onButtonClick)},e.prototype._onButtonClick=function(){this._$rootElement.focus(),this._callbacks.onButtonClick()},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.getElement=function(){return this._$rootElement},e.prototype.destroy=function(){this._unbindEvents(),this._tooltipReference.destroy(),this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$downloadButton=null,this._$rootElement=null},e}($t);zn.setTheme({downloadSvgFill:{fill:function(t){return t.color}}}),zn.extendStyleNames({controlButton:"download__controlButton___fk1Ma",hidden:"download__hidden___36lL8",buttonWrapper:"download__buttonWrapper___244Vz",downloadButton:"download__downloadButton___3J_rA",icon_small:"download__icon_small___1rNov",icon_big:"download__icon_big___3csO6"});var $n=function(){function t(t){var e=t.eventEmitter,n=t.textMap,i=t.tooltipService,o=t.theme;this._eventEmitter=e,this._textMap=n,this._theme=o,this._tooltipService=i,this._bindCallbacks(),this._initUI(),this._initInterceptor()}return t.prototype.getElement=function(){return this.view.getElement()},t.prototype._bindCallbacks=function(){this._triggerCallback=this._triggerCallback.bind(this)},t.prototype._initUI=function(){var e={callbacks:{onButtonClick:this._triggerCallback},textMap:this._textMap,tooltipService:this._tooltipService,theme:this._theme};this.view=new t.View(e)},t.prototype._initInterceptor=function(){var t,e=this;this._interceptor=new He(this.getElement(),((t={})[De]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._triggerCallback()},t[Ve]=function(t){t.stopPropagation(),e._eventEmitter.emitAsync(Tt.KEYBOARD_KEYDOWN_INTERCEPTED),e._triggerCallback()},t))},t.prototype._destroyInterceptor=function(){this._interceptor.destroy()},t.prototype._triggerCallback=function(){this._callback&&this._callback()},t.prototype.setDownloadClickCallback=function(t){this._callback=t},t.prototype.hide=function(){this.isHidden=!0,this.view.hide()},t.prototype.show=function(){this.isHidden=!1,this.view.show()},t.prototype.destroy=function(){this._destroyInterceptor(),this.view.destroy()},t.moduleName="downloadButton",t.View=zn,t.dependencies=["eventEmitter","textMap","tooltipService","theme"],a([S()],t.prototype,"setDownloadClickCallback",null),t}(),Kn=!1,qn=function(){function t(t,e){var n=this;this._enterWhenHasMetaData=function(){n._$elem.removeEventListener("loadedmetadata",n._enterWhenHasMetaData),Kn=!1,n.request()},this.catchException=function(){n._$elem&&n._$elem.readyState<1&&(n._$elem.addEventListener("loadedmetadata",n._enterWhenHasMetaData),Kn=!0)},this._$elem=t,this._callback=e,this._bindEvents()}return Object.defineProperty(t.prototype,"isAPIExist",{get:function(){return Boolean("pictureInPictureEnabled"in document)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAPIEnabled",{get:function(){return Boolean(document.pictureInPictureEnabled)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInPictureInPicture",{get:function(){return Boolean(this._$elem&&this._$elem===document.pictureInPictureElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.isAPIExist&&this.isAPIEnabled},enumerable:!0,configurable:!0}),t.prototype._bindEvents=function(){this._$elem.addEventListener("enterpictureinpicture",this._callback),this._$elem.addEventListener("leavepictureinpicture",this._callback)},t.prototype._unbindEvents=function(){this._$elem.removeEventListener("enterpictureinpicture",this._callback),this._$elem.removeEventListener("leavepictureinpicture",this._callback),this._$elem.removeEventListener("loadedmetadata",this._enterWhenHasMetaData)},t.prototype.request=function(){return!(!this.isEnabled||this.isInPictureInPicture||Kn)&&this._$elem.requestPictureInPicture().catch(this.catchException)},t.prototype.exit=function(){if(!this.isEnabled||!this.isInPictureInPicture)return!1;document.exitPictureInPicture()},t.prototype.destroy=function(){this._unbindEvents(),this._$elem=null},t}(),ti=!1,ei=function(){function t(t,e){var n=this;this._enterWhenHasMetaData=function(){n._$elem.removeEventListener("loadedmetadata",n._enterWhenHasMetaData),ti=!1,n.request()},this._$elem=t,this._callback=e,this._bindEvents()}return Object.defineProperty(t.prototype,"isAPIExist",{get:function(){return Boolean(this._$elem&&"function"==typeof this._$elem.webkitSetPresentationMode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInPictureInPicture",{get:function(){return Boolean(this._$elem&&"picture-in-picture"===this._$elem.webkitPresentationMode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.isAPIExist},enumerable:!0,configurable:!0}),t.prototype._bindEvents=function(){this._$elem.addEventListener("webkitpresentationmodechanged",this._callback)},t.prototype._unbindEvents=function(){this._$elem.removeEventListener("webkitpresentationmodechanged",this._callback),this._$elem.removeEventListener("loadedmetadata",this._enterWhenHasMetaData)},t.prototype.request=function(){if(!this.isEnabled||this.isInPictureInPicture||ti)return!1;try{this._$elem.webkitSetPresentationMode("picture-in-picture")}catch(t){this._$elem.readyState<1&&(this._$elem.addEventListener("loadedmetadata",this._enterWhenHasMetaData),ti=!0)}},t.prototype.exit=function(){if(!this.isEnabled||!this.isInPictureInPicture)return!1;this._$elem.webkitSetPresentationMode("inline")},t.prototype.destroy=function(){this._unbindEvents(),this._$elem=null},t}(),ni=function(){function t(t){var e=t.eventEmitter,n=t.engine;this._isEnabled=!0,this._eventEmitter=e,this._onChange=this._onChange.bind(this),G()?this._helper=new ei(n.getElement(),this._onChange):this._helper=new qn(n.getElement(),this._onChange)}return t.prototype._onChange=function(){this._eventEmitter.emitAsync(Tt.PICTURE_IN_PICTURE_STATUS_CHANGE,this.isInPictureInPicture)},t.prototype.enterPictureInPicture=function(){this.isEnabled&&this._helper.request()},t.prototype.exitPictureInPicture=function(){this.isEnabled&&this._helper.exit()},t.prototype.disablePictureInPicture=function(){this._helper.exit(),this._isEnabled=!1},t.prototype.enablePictureInPicture=function(){this._isEnabled=!0},Object.defineProperty(t.prototype,"isInPictureInPicture",{get:function(){return!!this.isEnabled&&this._helper.isInPictureInPicture},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this._helper.isEnabled&&this._isEnabled},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._helper.destroy()},t.moduleName="pictureInPicture",t.dependencies=["eventEmitter","engine","config"],a([S()],t.prototype,"enterPictureInPicture",null),a([S()],t.prototype,"exitPictureInPicture",null),a([S()],t.prototype,"disablePictureInPicture",null),a([S()],t.prototype,"enablePictureInPicture",null),a([S()],t.prototype,"isInPictureInPicture",null),t}();function ii(t,e,n){var i=t.framesCount,o=Math.floor(e*i/n);return t.qualities.map((function(t){return function(t,e,n){var i=e.framesInSprite.vert*e.framesInSprite.horz,o=n%i,r=Math.floor(n/i),a=o%e.framesInSprite.horz,s=Math.floor(o/e.framesInSprite.vert),l=e.spriteUrlMask.replace("%d",r.toString());return{frameSize:e.frameSize,framesInSprite:(r+1)*i<=t?e.framesInSprite:{horz:e.framesInSprite.horz,vert:Math.ceil(t%i/e.framesInSprite.vert)},framePositionInSprite:{vert:s,horz:a},spriteUrl:l}}(i,t,o)}))}var oi=function(){function t(t){var e=t.engine;this._engine=e}return t.prototype.setFramesMap=function(t){this._framesMap=t},t.prototype.getAt=function(t){if(this._framesMap){var e=this._engine.getDuration();if(e)return ii(this._framesMap,t,e)}},t.prototype.destroy=function(){this._framesMap=null},t.moduleName="previewService",t.dependencies=["engine"],a([S()],t.prototype,"setFramesMap",null),t}();Kt(".preview-thumbnail__container___1TmLX {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: column-reverse;\n          flex-direction: column-reverse;\n  width: 180px;\n  height: 90px;\n  border: 2px solid rgba(0, 0, 0, 0.5);\n  border-radius: 2px;\n  background-color: rgba(0, 0, 0, 0.5);\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n  .preview-thumbnail__container___1TmLX.preview-thumbnail__empty___LitJh {\n    width: initial;\n    height: initial;\n    border: none;\n    border-radius: 0; }\n  .preview-thumbnail__highQualityFrame___sCDil,\n.preview-thumbnail__lowQualityFrame___fzXUI {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n  bottom: 2px;\n  left: 2px;\n  width: 180px;\n  height: 90px; }\n  .preview-thumbnail__highQualityFrame___sCDil {\n  z-index: 2; }\n  .preview-thumbnail__lowQualityFrame___fzXUI {\n  z-index: 1; }\n  .preview-thumbnail__empty___LitJh .preview-thumbnail__thumbText___VFKJP {\n  background: none; }\n  .preview-thumbnail__empty___LitJh .preview-thumbnail__highQualityFrame___sCDil,\n.preview-thumbnail__empty___LitJh .preview-thumbnail__lowQualityFrame___fzXUI {\n  width: 0;\n  height: 0; }\n  .preview-thumbnail__thumbText___VFKJP {\n  font-size: 11px;\n  line-height: 12px;\n  position: relative;\n  z-index: 3;\n  padding: 4px 5px;\n  white-space: nowrap;\n  color: white;\n  background: rgba(0, 0, 0, 0.8); }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByZXZpZXctdGh1bWJuYWlsLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxxQkFBYztFQUFkLHFCQUFjO0VBQWQsY0FBYztFQUNkLDZCQUErQjtFQUEvQiwrQkFBK0I7TUFBL0IsbUNBQStCO1VBQS9CLCtCQUErQjtFQUMvQixhQUFhO0VBQ2IsYUFBYTtFQUNiLHFDQUFxQztFQUNyQyxtQkFBbUI7RUFDbkIscUNBQXFDO0VBQ3JDLDBCQUFvQjtNQUFwQix1QkFBb0I7VUFBcEIsb0JBQW9CLEVBQUU7RUFDdEI7SUFDRSxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYixpQkFBaUIsRUFBRTtFQUV2Qjs7RUFFRSxtQkFBbUI7RUFDbkIsU0FBUztFQUNULFdBQVc7RUFDWCxZQUFZO0VBQ1osVUFBVTtFQUNWLGFBQWE7RUFDYixhQUFhLEVBQUU7RUFFakI7RUFDRSxXQUFXLEVBQUU7RUFFZjtFQUNFLFdBQVcsRUFBRTtFQUVmO0VBQ0UsaUJBQWlCLEVBQUU7RUFFckI7O0VBRUUsU0FBUztFQUNULFVBQVUsRUFBRTtFQUVkO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsV0FBVztFQUNYLGlCQUFpQjtFQUNqQixvQkFBb0I7RUFDcEIsYUFBYTtFQUNiLCtCQUErQixFQUFFIiwiZmlsZSI6InByZXZpZXctdGh1bWJuYWlsLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xuICB3aWR0aDogMTgwcHg7XG4gIGhlaWdodDogOTBweDtcbiAgYm9yZGVyOiAycHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjUpO1xuICBib3JkZXItcmFkaXVzOiAycHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxuICAuY29udGFpbmVyLmVtcHR5IHtcbiAgICB3aWR0aDogaW5pdGlhbDtcbiAgICBoZWlnaHQ6IGluaXRpYWw7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJvcmRlci1yYWRpdXM6IDA7IH1cblxuLmhpZ2hRdWFsaXR5RnJhbWUsXG4ubG93UXVhbGl0eUZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDJweDtcbiAgcmlnaHQ6IDJweDtcbiAgYm90dG9tOiAycHg7XG4gIGxlZnQ6IDJweDtcbiAgd2lkdGg6IDE4MHB4O1xuICBoZWlnaHQ6IDkwcHg7IH1cblxuLmhpZ2hRdWFsaXR5RnJhbWUge1xuICB6LWluZGV4OiAyOyB9XG5cbi5sb3dRdWFsaXR5RnJhbWUge1xuICB6LWluZGV4OiAxOyB9XG5cbi5lbXB0eSAudGh1bWJUZXh0IHtcbiAgYmFja2dyb3VuZDogbm9uZTsgfVxuXG4uZW1wdHkgLmhpZ2hRdWFsaXR5RnJhbWUsXG4uZW1wdHkgLmxvd1F1YWxpdHlGcmFtZSB7XG4gIHdpZHRoOiAwO1xuICBoZWlnaHQ6IDA7IH1cblxuLnRodW1iVGV4dCB7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgbGluZS1oZWlnaHQ6IDEycHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgei1pbmRleDogMztcbiAgcGFkZGluZzogNHB4IDVweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOCk7IH1cbiJdfQ== */");var ri=function(t){function e(){var e=t.call(this)||this;return e._initDOM(),e}return o(e,t),e.prototype._initDOM=function(){var t;this._$rootElement=jt('<div class="'+(t={styles:this.styleNames}).styles.container+'" data-playable-component> <div class="'+t.styles.highQualityFrame+'" data-playable-hook="thumb-high-quality" > </div> <div class="'+t.styles.lowQualityFrame+'" data-playable-hook="thumb-low-quality"> </div> <div class="'+t.styles.thumbText+'" data-playable-hook="thumb-text-block"> </div></div>'),this._$timeText=ze(this._$rootElement,"thumb-text-block"),this._$lowQualityThumb=ze(this._$rootElement,"thumb-low-quality"),this._$highQualityThumb=ze(this._$rootElement,"thumb-high-quality")},e.prototype.getElement=function(){return this._$rootElement},e.prototype.showAsEmpty=function(){this._$rootElement.classList.add(this.styleNames.empty)},e.prototype.showWithPreview=function(){this._$rootElement.classList.remove(this.styleNames.empty)},e.prototype.clearLowQualityPreview=function(){this._$lowQualityThumb.style.background=""},e.prototype.clearHighQualityPreview=function(){this._$highQualityThumb.style.background=""},e.prototype.setLowQualityPreview=function(t){this._applyQualityToThumbElement(this._$lowQualityThumb,t)},e.prototype.setHighQualityPreview=function(t){this._applyQualityToThumbElement(this._$highQualityThumb,t)},e.prototype._applyQualityToThumbElement=function(t,e){var n=t.offsetWidth,i=t.offsetHeight,o=n*e.framesInSprite.horz,r=i*e.framesInSprite.vert;t.style.background="url('"+e.spriteUrl+"') -"+n*e.framePositionInSprite.horz+"px -"+i*e.framePositionInSprite.vert+"px / "+o+"px "+r+"px"},e.prototype.setTime=function(t){this._$timeText.innerText=t},e.prototype.destroy=function(){this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$timeText=null,this._$lowQualityThumb=null,this._$highQualityThumb=null,this._$rootElement=null},e}($t);ri.extendStyleNames({container:"preview-thumbnail__container___1TmLX",empty:"preview-thumbnail__empty___LitJh",highQualityFrame:"preview-thumbnail__highQualityFrame___sCDil",lowQualityFrame:"preview-thumbnail__lowQualityFrame___fzXUI",thumbText:"preview-thumbnail__thumbText___VFKJP"});var ai=function(){function t(t){var e=t.previewService;this._previewService=e,this._initUI()}return t.prototype._initUI=function(){this.view=new t.View},t.prototype.getElement=function(){return this.view.getElement()},t.prototype.showAt=function(t){var e=this._previewService.getAt(t);e?(this.view.showWithPreview(),this._currentFrames&&(this._currentFrames[0].spriteUrl!==e[0].spriteUrl&&this.view.clearLowQualityPreview(),this._currentFrames[1].spriteUrl!==e[1].spriteUrl&&this.view.clearHighQualityPreview()),this.view.setLowQualityPreview(e[0]),this.view.setHighQualityPreview(e[1]),this._currentFrames=e):this.view.showAsEmpty()},t.prototype.setTime=function(t){this.view.setTime(t)},t.prototype.destroy=function(){this.view.destroy()},t.moduleName="previewThumbnail",t.View=ri,t.dependencies=["previewService"],t}();Kt('/**\n * The challenge here to support "playable queries" and "direction" at the same time and allow mixins like:\n *   @include query(max-width-550())\n *   @include query(max-width-550(), ltr())\n *   @include query(max-width-550(), rtl())\n */\n.preview-full-size__controlButton___2sWjc {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n  cursor: pointer;\n  -webkit-transition-duration: .2s;\n          transition-duration: .2s;\n  -webkit-transition-property: opacity;\n  transition-property: opacity;\n  opacity: 1;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background-color: transparent;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.preview-full-size__controlButton___2sWjc:hover {\n    opacity: .7; }\n.preview-full-size__hidden___1ZRC_ {\n  visibility: hidden !important;\n  width: 0 !important;\n  min-width: 0 !important;\n  height: 0 !important;\n  min-height: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n  opacity: 0 !important; }\n.preview-full-size__container___M_Ygb {\n  position: absolute;\n  z-index: 55;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: column-reverse;\n          flex-direction: column-reverse;\n  pointer-events: none;\n  background-color: black;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center; }\n.preview-full-size__frame___3AEDD {\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  opacity: .5; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByZXZpZXctZnVsbC1zaXplLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0dBS0c7QUFDSDtFQUNFLHFCQUFjO0VBQWQscUJBQWM7RUFBZCxjQUFjO0VBQ2QsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixpQ0FBeUI7VUFBekIseUJBQXlCO0VBQ3pCLHFDQUE2QjtFQUE3Qiw2QkFBNkI7RUFDN0IsV0FBVztFQUNYLFVBQVU7RUFDVixpQkFBaUI7RUFDakIsY0FBYztFQUNkLDhCQUE4QjtFQUM5Qix5QkFBd0I7TUFBeEIsc0JBQXdCO1VBQXhCLHdCQUF3QjtFQUN4QiwwQkFBb0I7TUFBcEIsdUJBQW9CO1VBQXBCLG9CQUFvQixFQUFFO0FBQ3RCO0lBQ0UsWUFBWSxFQUFFO0FBRWxCO0VBQ0UsOEJBQThCO0VBQzlCLG9CQUFvQjtFQUNwQix3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLHNCQUFzQixFQUFFO0FBRTFCO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixPQUFPO0VBQ1AsU0FBUztFQUNULFVBQVU7RUFDVixRQUFRO0VBQ1IscUJBQWM7RUFBZCxxQkFBYztFQUFkLGNBQWM7RUFDZCw2QkFBK0I7RUFBL0IsK0JBQStCO01BQS9CLG1DQUErQjtVQUEvQiwrQkFBK0I7RUFDL0IscUJBQXFCO0VBQ3JCLHdCQUF3QjtFQUN4QiwwQkFBb0I7TUFBcEIsdUJBQW9CO1VBQXBCLG9CQUFvQixFQUFFO0FBRXhCO0VBQ0UsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxPQUFPO0VBQ1AsU0FBUztFQUNULFVBQVU7RUFDVixRQUFRO0VBQ1IsWUFBWSxFQUFFIiwiZmlsZSI6InByZXZpZXctZnVsbC1zaXplLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBjaGFsbGVuZ2UgaGVyZSB0byBzdXBwb3J0IFwicGxheWFibGUgcXVlcmllc1wiIGFuZCBcImRpcmVjdGlvblwiIGF0IHRoZSBzYW1lIHRpbWUgYW5kIGFsbG93IG1peGlucyBsaWtlOlxuICogICBAaW5jbHVkZSBxdWVyeShtYXgtd2lkdGgtNTUwKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgbHRyKCkpXG4gKiAgIEBpbmNsdWRlIHF1ZXJ5KG1heC13aWR0aC01NTAoKSwgcnRsKCkpXG4gKi9cbi5jb250cm9sQnV0dG9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZzogMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAuMnM7XG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IG9wYWNpdHk7XG4gIG9wYWNpdHk6IDE7XG4gIGJvcmRlcjogMDtcbiAgYm9yZGVyLXJhZGl1czogMDtcbiAgb3V0bGluZTogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyOyB9XG4gIC5jb250cm9sQnV0dG9uOmhvdmVyIHtcbiAgICBvcGFjaXR5OiAuNzsgfVxuXG4uaGlkZGVuIHtcbiAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIG1pbi13aWR0aDogMCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogMCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICBvcGFjaXR5OiAwICFpbXBvcnRhbnQ7IH1cblxuLmNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogNTU7XG4gIHRvcDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogMDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7IH1cblxuLmZyYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiAyO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIG9wYWNpdHk6IC41OyB9XG4iXX0= */');var si=function(t){function e(){var e=t.call(this)||this;return e._initDOM(),e}return o(e,t),e.prototype._initDOM=function(){var t;this._$rootElement=jt('<div class="'+(t={styles:this.styleNames}).styles.container+'" data-playable-component> <div class="'+t.styles.frame+'" data-playable-hook="preview-full-size-frame" > </div></div>'),this._$frame=ze(this._$rootElement,"preview-full-size-frame")},e.prototype.getElement=function(){return this._$rootElement},e.prototype.setPreview=function(t){this._applyFrame(t)},e.prototype._applyFrame=function(t){var e=this._$frame.offsetWidth,n=this._$frame.offsetHeight,i=e*t.framesInSprite.horz,o=n*t.framesInSprite.vert;this._$frame.style.background="url('"+t.spriteUrl+"') -"+e*t.framePositionInSprite.horz+"px -"+n*t.framePositionInSprite.vert+"px / "+i+"px "+o+"px"},e.prototype.clear=function(){this._$frame.style.background=""},e.prototype.show=function(){this._$rootElement.classList.remove(this.styleNames.hidden)},e.prototype.hide=function(){this._$rootElement.classList.add(this.styleNames.hidden)},e.prototype.destroy=function(){this._$rootElement.parentNode&&this._$rootElement.parentNode.removeChild(this._$rootElement),this._$frame=null,this._$rootElement=null},e}($t);si.extendStyleNames({controlButton:"preview-full-size__controlButton___2sWjc",hidden:"preview-full-size__hidden___1ZRC_",container:"preview-full-size__container___M_Ygb",frame:"preview-full-size__frame___3AEDD"});var li,ci,ui=function(){function t(t){var e=t.previewService,n=t.rootContainer;this._previewService=e,this._initUI(),this.hide(),n.appendComponentElement(this.getElement())}return t.prototype._initUI=function(){this.view=new t.View},t.prototype.getElement=function(){return this.view.getElement()},t.prototype.showAt=function(t){this.view.show();var e=this._previewService.getAt(t);if(e){var n=e.pop();this._currentFrame&&this._currentFrame.spriteUrl!==n.spriteUrl&&this.view.clear(),this.view.setPreview(n),this._currentFrame=n}else this.view.clear()},t.prototype.hide=function(){this.view.hide()},t.prototype.destroy=function(){this.view.destroy()},t.moduleName="previewFullSize",t.View=si,t.dependencies=["previewService","rootContainer"],t}();(li=e.PRELOAD_TYPES||(e.PRELOAD_TYPES={})).NONE="none",li.METADATA="metadata",li.AUTO="auto",(ci=e.CROSS_ORIGIN_VALUES||(e.CROSS_ORIGIN_VALUES={})).ANONYMUS="anonymous",ci.CREDENTIALS="use-credentials";var di=["loadstart","loadedmetadata","canplay","play","playing","pause","ended","waiting","seeking","seeked"],pi=function(){function t(t,e){this._eventEmitter=t,this._video=e,this._currentState=null,this._isMetadataLoaded=!1,this._statesTimestamps={},this._bindCallbacks(),this._bindEvents()}return t.prototype._bindCallbacks=function(){this._processEventFromVideo=this._processEventFromVideo.bind(this)},t.prototype._bindEvents=function(){var t=this;di.forEach((function(e){t._video.addEventListener(e,t._processEventFromVideo)}))},t.prototype._unbindEvents=function(){var t=this;di.forEach((function(e){return t._video.removeEventListener(e,t._processEventFromVideo)}))},t.prototype.clearTimestamps=function(){this._statesTimestamps={}},t.prototype._setInitialTimeStamp=function(){this._initialTimeStamp=Date.now()},t.prototype._setStateTimestamp=function(t){this._statesTimestamps[t]||(this._statesTimestamps[t]=Date.now()-this._initialTimeStamp,this._setInitialTimeStamp())},Object.defineProperty(t.prototype,"stateTimestamps",{get:function(){return this._statesTimestamps},enumerable:!0,configurable:!0}),t.prototype._processEventFromVideo=function(t){void 0===t&&(t={});var e=this._video;switch(t.type){case"loadstart":this._setInitialTimeStamp(),this.setState(Yt.LOAD_STARTED);break;case"loadedmetadata":this._setStateTimestamp(Yt.METADATA_LOADED),this.setState(Yt.METADATA_LOADED),this._isMetadataLoaded=!0;break;case"canplay":this._currentState===Yt.METADATA_LOADED&&(this._setStateTimestamp(Yt.READY_TO_PLAY),this.setState(Yt.READY_TO_PLAY));break;case"play":this.setState(Yt.PLAY_REQUESTED);break;case"playing":G()&&e.paused||this.setState(Yt.PLAYING);break;case"waiting":this.setState(Yt.WAITING);break;case"pause":G()?e.played.length&&this.setState(Yt.PAUSED):this.setState(Yt.PAUSED);break;case"ended":this.setState(Yt.ENDED);break;case"seeking":this.setState(Yt.SEEK_IN_PROGRESS);break;case"seeked":this.setState(e.paused?Yt.PAUSED:Yt.PLAYING)}},t.prototype.setState=function(t){t!==this._currentState&&(this._currentState!==Yt.METADATA_LOADED||t!==Yt.SEEK_IN_PROGRESS&&t!==Yt.PAUSED)&&(this._eventEmitter.emitAsync(Nt.STATE_CHANGED,{prevState:this._currentState,nextState:t}),this._eventEmitter.emitAsync(t),this._currentState=t)},Object.defineProperty(t.prototype,"isMetadataLoaded",{get:function(){return this._isMetadataLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._currentState},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._unbindEvents()},t}(),hi=["loadstart","progress","error","stalled","suspend","durationchange","timeupdate","volumechange","seeking"],_i=function(){function t(t,e){this._eventEmitter=t,this._video=e,this._currentMute=this._video.muted,this._currentVolume=this._video.volume,this._bindCallbacks(),this._bindEvents()}return t.prototype._bindCallbacks=function(){this._processEventFromVideo=this._processEventFromVideo.bind(this)},t.prototype._bindEvents=function(){var t=this;hi.forEach((function(e){return t._video.addEventListener(e,t._processEventFromVideo)}))},t.prototype._unbindEvents=function(){var t=this;hi.forEach((function(e){return t._video.removeEventListener(e,t._processEventFromVideo)}))},t.prototype._processEventFromVideo=function(t){void 0===t&&(t={});var e=this._video;switch(t.type){case"loadstart":this._shouldCheckVolume&&this._checkVolumeChanges();break;case"progress":this._eventEmitter.emitAsync(Nt.CHUNK_LOADED);break;case"stalled":this._eventEmitter.emitAsync(Nt.UPLOAD_STALLED);break;case"suspend":this._eventEmitter.emitAsync(Nt.UPLOAD_SUSPEND);break;case"seeking":this._eventEmitter.emitAsync(Nt.SEEK_IN_PROGRESS,e.currentTime);break;case"durationchange":this._eventEmitter.emitAsync(Nt.DURATION_UPDATED,e.duration);break;case"timeupdate":this._eventEmitter.emitAsync(Nt.CURRENT_TIME_UPDATED,e.currentTime);break;case"volumechange":this._shouldCheckVolume&&(this._shouldCheckVolume=!1),this._checkVolumeChanges()}},t.prototype._checkVolumeChanges=function(){var t=this._video;this._currentVolume!==t.volume&&(this._currentVolume=100*t.volume,this._eventEmitter.emitAsync(Nt.VOLUME_CHANGED,this._currentVolume)),this._currentMute!==t.muted&&(this._currentMute=t.muted,this._eventEmitter.emitAsync(Nt.MUTE_CHANGED,this._currentMute)),this._eventEmitter.emitAsync(Nt.SOUND_STATE_CHANGED,{volume:t.volume,muted:t.muted})},t.prototype.checkVolumeChangeAfterLoadStart=function(){this._shouldCheckVolume=!0},t.prototype.destroy=function(){this._unbindEvents()},t}();function gi(t,e){var n=[],i=function(t){var e={};return t.forEach((function(t){var n=t.type||kt[t.mimeType];n&&(Array.isArray(e[n])||(e[n]=[]),e[n].push({url:t.url,type:n}))})),e}(t),o=Object.keys(i);return e.forEach((function(t){for(var e=0;e<o.length;e+=1){var r=o[e];if(t.canPlay(r)){t.setMediaStreams(i[r]),n.push(t);break}}})),n.sort((function(t,e){return e.mediaStreamDeliveryPriority-t.mediaStreamDeliveryPriority})),n}var bi=Object.create(null);bi.mp4=e.MEDIA_STREAM_TYPES.MP4,bi.webm=e.MEDIA_STREAM_TYPES.WEBM,bi.m3u8=e.MEDIA_STREAM_TYPES.HLS,bi.mpd=e.MEDIA_STREAM_TYPES.DASH,bi.ogg=e.MEDIA_STREAM_TYPES.OGG,bi.mkv=e.MEDIA_STREAM_TYPES.MKV,bi.mov=e.MEDIA_STREAM_TYPES.MOV;var mi=function(){function t(t,e,n){var i=this;void 0===n&&(n=[]),this._video=e,this._eventEmitter=t,this._playableAdapters=[],this._availableAdapters=[],this._attachedAdapter=null,n.forEach((function(e){return e.isSupported()&&i._availableAdapters.push(new e(t))}))}return t.prototype._autoDetectSourceTypes=function(t){var e=this;return t.map((function(t){if("string"==typeof t){var n=(i=t,(r=document.createElement("a")).href=i,bi[(o=r.pathname,o.split(".").pop().toLowerCase())]||!1);return n||e._eventEmitter.emitAsync(Nt.ERROR,{errorType:Vt.SRC_PARSE,streamSrc:t}),{url:t,type:n}}var i,o,r;return t}))},t.prototype._resolvePlayableAdapters=function(t){if(t){var e=[].concat(t),n=this._autoDetectSourceTypes(e);this._playableAdapters=gi(n,this._availableAdapters)}else this._playableAdapters=[]},t.prototype._connectAdapterToVideo=function(){this._playableAdapters.length>0&&(this._attachedAdapter=this._playableAdapters[0],this._attachedAdapter.attach(this._video))},t.prototype._detachCurrentAdapter=function(){this._attachedAdapter&&(this._attachedAdapter.detach(),this._attachedAdapter=null)},Object.defineProperty(t.prototype,"attachedAdapter",{get:function(){return this._attachedAdapter},enumerable:!0,configurable:!0}),t.prototype.connectAdapter=function(t){this._detachCurrentAdapter(),this._resolvePlayableAdapters(t),this._connectAdapterToVideo()},t.prototype.destroy=function(){this._detachCurrentAdapter()},t}(),fi=function(){function t(t){var e=t.eventEmitter,n=t.config,i=t.availablePlaybackAdapters,o=void 0===i?[]:i;this._createVideoTag(n),this._eventEmitter=e,this._availablePlaybackAdapters=o,this._stateEngine=new pi(this._eventEmitter,this._video),this._nativeEventsBroadcaster=new _i(e,this._video),this._adapterStrategy=new mi(this._eventEmitter,this._video,this._availablePlaybackAdapters)}return t.prototype._createVideoTag=function(t){var e=t.videoElement,n=t.preventContextMenu;e&&"VIDEO"===e.tagName?this._video=e:this._video=document.createElement("video"),n&&this._video.addEventListener("contextmenu",(function(t){return t.preventDefault()}))},t.prototype.play=function(){var t=this;this._eventEmitter.emitAsync(Nt.PLAY_REQUEST),this._pauseRequested=!1,this._playPromise||(this._playPromise=this._video.play(),void 0!==this._playPromise&&this._playPromise.then((function(){t._playPromise=null,t._pauseRequested&&t.pause()})).catch((function(e){t._eventEmitter.emitAsync(Nt.PLAY_ABORTED,e),t._playPromise=null})))},t.prototype.pause=function(){this._playPromise?this._pauseRequested=!0:(this._video.pause(),this._pauseRequested=!1)},t.prototype.setMute=function(t){this._video.muted=t,this._nativeEventsBroadcaster.checkVolumeChangeAfterLoadStart()},t.prototype.setAutoplay=function(t){this._video.autoplay=t},t.prototype.setInline=function(t){t?this._video.setAttribute("playsinline","true"):this._video.removeAttribute("playsinline")},t.prototype.setCrossOrigin=function(t){t?this._video.setAttribute("crossorigin",t):this._video.removeAttribute("crossorigin")},t.prototype.setCurrentTime=function(t){this._video.currentTime=t},t.prototype.setVolume=function(t){this._video.volume=t,this._nativeEventsBroadcaster.checkVolumeChangeAfterLoadStart()},t.prototype.setLoop=function(t){this._video.loop=t},t.prototype.setPlaybackRate=function(t){this._video.playbackRate=t},t.prototype.setPreload=function(t){void 0===t&&(t=e.PRELOAD_TYPES.AUTO),this._video.preload=t||e.PRELOAD_TYPES.AUTO},t.prototype.setSrc=function(t,e){this._stateEngine.clearTimestamps(),this._adapterStrategy.connectAdapter(t),this._stateEngine.setState(Yt.SRC_SET),"function"==typeof e&&e()},t.prototype.syncWithLive=function(){this.attachedAdapter&&this.attachedAdapter.isDynamicContent&&!this.attachedAdapter.isDynamicContentEnded&&!this.isSyncWithLive&&(this.setCurrentTime(this.attachedAdapter.syncWithLiveTime),this.play())},t.prototype.getElement=function(){return this._video},t.prototype._getViewDimensions=function(){return{width:this._video.offsetWidth,height:this._video.offsetHeight}},Object.defineProperty(t.prototype,"volume",{get:function(){return this._video.volume},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this._video.currentTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._video.duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoplay",{get:function(){return this._video.autoplay},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crossOrigin",{get:function(){return this._video.getAttribute("crossorigin")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._video.playbackRate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buffered",{get:function(){return this._video.buffered},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preload",{get:function(){return this._video.preload},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPaused",{get:function(){return this._video.paused},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMuted",{get:function(){return Boolean(this._video.muted)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnded",{get:function(){return this._video.ended},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInline",{get:function(){return Boolean(this._video.getAttribute("playsinline"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAutoplay",{get:function(){return this._video.autoplay},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoop",{get:function(){return this._video.loop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMetadataLoaded",{get:function(){return this._stateEngine.isMetadataLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamicContent",{get:function(){return!!this.attachedAdapter&&this.attachedAdapter.isDynamicContent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamicContentEnded",{get:function(){return!!this.attachedAdapter&&this.attachedAdapter.isDynamicContentEnded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSeekAvailable",{get:function(){return!!this.attachedAdapter&&this.attachedAdapter.isSeekAvailable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSyncWithLive",{get:function(){return!!this.attachedAdapter&&this.attachedAdapter.isSyncWithLive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPreloadActive",{get:function(){return!(A()||R()||w()||O())&&"none"!==this.preload},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAutoPlayActive",{get:function(){return!(A()||R()||w()||O())&&this.isAutoplay},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"videoHeight",{get:function(){return this._video.videoHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"videoWidth",{get:function(){return this._video.videoWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this.attachedAdapter&&this.attachedAdapter.currentUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._stateEngine.state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attachedAdapter",{get:function(){return this._adapterStrategy.attachedAdapter},enumerable:!0,configurable:!0}),t.prototype.getDebugInfo=function(){var t,e=this.duration,n=this.currentTime;return this.attachedAdapter&&(t=this.attachedAdapter.debugInfo),r(r({},t),{duration:e,currentTime:n,loadingStateTimestamps:this._stateEngine.stateTimestamps,viewDimensions:this._getViewDimensions(),output:"html5video"})},t.prototype.destroy=function(){this._nativeEventsBroadcaster.destroy(),this._adapterStrategy.destroy(),this._video.parentNode&&this._video.parentNode.removeChild(this._video),this._video=null},t.moduleName="nativeOutput",t.dependencies=["eventEmitter","config","availablePlaybackAdapters"],t}(),yi=I.asClass,vi={RootContainer:he,EventEmitter:be,Engine:me,ThemeService:Qe,TextMap:we,NativeOutput:fi,FullScreenManager:Se,PictureInPictureManager:ni,LiveStateEngine:We,KeyboardControls:Je,DebugPanel:tn,Screen:nn,InteractionIndicator:rn,Overlay:sn,Loader:cn,MainUIBlock:dn,TopBlock:hn,LiveIndicator:mn,Title:gn,BottomBlock:yn,ProgressControl:kn,PlayControl:Tn,TimeControl:Nn,VolumeControl:Zn,FullScreenControl:Yn,PictureInPictureControl:jn,Logo:Jn,DownloadButton:$n,PreviewService:oi,PreviewThumbnail:ai,PreviewFullSize:ui,TooltipService:Qn},Ii=Object.keys(vi).reduce((function(t,e){var n=vi[e];if(!n.moduleName)throw new Error("No moduleName in module: "+e);return t[n.moduleName]=yi(n).scoped(),t}),{}),Fi="undefined"!=typeof window,Bi={MSE:!1,HLS:!1,DASH:!1,MP4:!1,WEBM:!1,OGG:!1,MOV:!1,MKV:!1};!function(){if(Fi){Bi.MSE="WebKitMediaSource"in window||"MediaSource"in window;var t=document.createElement("video");"function"==typeof t.canPlayType&&((t.canPlayType("application/x-mpegURL")||t.canPlayType("application/vnd.apple.mpegURL"))&&(Bi.HLS=!0),t.canPlayType("application/dash+xml")&&(Bi.DASH=!0),t.canPlayType("video/mp4")&&(Bi.MP4=!0),t.canPlayType("video/webm")&&(Bi.WEBM=!0),t.canPlayType("video/ogg")&&(Bi.OGG=!0),t.canPlayType("video/quicktime")&&(Bi.MOV=!0),t.canPlayType("video/x-matroska")&&(Bi.MKV=!0))}}();var Ei=1,Ci=2,Ui=3,xi=4;function Qi(t,e){return function(){function n(t){this.mediaStreams=null,this.eventEmitter=t,this.currentLevel=0,this._bindCallbacks()}return n.isSupported=function(){return Bi[t]},Object.defineProperty(n.prototype,"currentUrl",{get:function(){return this.mediaStreams[this.currentLevel].url},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"syncWithLiveTime",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDynamicContent",{get:function(){return!isFinite(this.video.duration)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDynamicContentEnded",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSyncWithLive",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSeekAvailable",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaStreamDeliveryPriority",{get:function(){return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaStreamType",{get:function(){return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"debugInfo",{get:function(){if(this.video){var t=this.video,e=t.buffered,n=t.currentTime,i=function(t){var e=0;if(!t||!t.length)return e;for(var n=0;n<t.length;n+=1)e+=t.end(n)-t.start(n);return e}(e),o=On(e,n);return r(r({},this.mediaStreams[0]),{deliveryPriority:this.mediaStreamDeliveryPriority,overallBufferLength:i,nearestBufferSegInfo:o})}return{}},enumerable:!0,configurable:!0}),n.prototype._bindCallbacks=function(){this._broadcastError=this._broadcastError.bind(this)},n.prototype.canPlay=function(e){return e===t},n.prototype.setMediaStreams=function(t){this.mediaStreams=t},n.prototype._logError=function(e,n){this.eventEmitter.emitAsync(Nt.ERROR,{errorType:e,streamType:t,streamProvider:"native",errorInstance:n})},n.prototype._broadcastError=function(){var t=this.video.error;if(t)switch(t.code){case Ei:break;case Ci:this._logError(Vt.CONTENT_LOAD,t);break;case Ui:this._logError(Vt.MEDIA,t);break;case xi:this._logError(Vt.CONTENT_LOAD,t);break;default:this._logError(Vt.UNKNOWN,t)}else this._logError(Vt.UNKNOWN,null)},n.prototype.attach=function(t){this.video=t,this.video.addEventListener("error",this._broadcastError),this.video.src=this.mediaStreams[this.currentLevel].url},n.prototype.detach=function(){this.video.removeEventListener("error",this._broadcastError),this.video.removeAttribute("src"),this.video=null},n}()}var Ri=[Qi(e.MEDIA_STREAM_TYPES.HLS,e.MEDIA_STREAM_DELIVERY_PRIORITY.NATIVE_ADAPTIVE),Qi(e.MEDIA_STREAM_TYPES.DASH,e.MEDIA_STREAM_DELIVERY_PRIORITY.NATIVE_ADAPTIVE),Qi(e.MEDIA_STREAM_TYPES.MP4,e.MEDIA_STREAM_DELIVERY_PRIORITY.NATIVE_PROGRESSIVE),Qi(e.MEDIA_STREAM_TYPES.WEBM,e.MEDIA_STREAM_DELIVERY_PRIORITY.NATIVE_PROGRESSIVE),Qi(e.MEDIA_STREAM_TYPES.OGG,e.MEDIA_STREAM_DELIVERY_PRIORITY.NATIVE_PROGRESSIVE),Qi(e.MEDIA_STREAM_TYPES.MOV,e.MEDIA_STREAM_DELIVERY_PRIORITY.NATIVE_PROGRESSIVE),Qi(e.MEDIA_STREAM_TYPES.MKV,e.MEDIA_STREAM_DELIVERY_PRIORITY.NATIVE_PROGRESSIVE)],wi={},Ai=s(Ri),Li=I.createContainer();Li.register(Ii);var Oi=Object.keys(Ii);function Gi(t,e){wi[t]=e}function ki(t){Ai.push(t)}function Si(){wi={}}function Ti(){Ai=s(Ri)}function Wi(t,e){void 0===t&&(t={});var n=Li.createScope(),i=Object.keys(wi);return i.length&&i.forEach((function(t){return n.registerClass(t,wi[t],{lifetime:I.Lifetime.SCOPED})})),n.registerValue("availablePlaybackAdapters",Ai),new T(t,n,Oi,i,e)}var Ni={create:Wi,registerModule:Gi,clearAdditionalModules:Si,registerPlaybackAdapter:ki,clearPlaybackAdapters:Ti,ERRORS:Vt,UI_EVENTS:Tt,VIDEO_EVENTS:Nt,TEXT_LABELS:Zt,MEDIA_STREAM_TYPES:e.MEDIA_STREAM_TYPES,MEDIA_STREAM_DELIVERY_PRIORITY:e.MEDIA_STREAM_DELIVERY_PRIORITY,ENGINE_STATES:Yt,LIVE_STATES:Pt,VIDEO_VIEW_MODES:e.VIDEO_VIEW_MODES,PRELOAD_TYPES:e.PRELOAD_TYPES,CROSS_ORIGIN_VALUES:e.CROSS_ORIGIN_VALUES,Tooltip:In,playerAPIDecorator:S,DefaultModules:vi};e.create=Wi,e.registerModule=Gi,e.clearAdditionalModules=Si,e.registerPlaybackAdapter=ki,e.clearPlaybackAdapters=Ti,e.ERRORS=Vt,e.UI_EVENTS=Tt,e.VIDEO_EVENTS=Nt,e.TEXT_LABELS=Zt,e.ENGINE_STATES=Yt,e.LIVE_STATES=Pt,e.Tooltip=In,e.playerAPIDecorator=S,e.DefaultModules=vi,e.default=Ni,Object.defineProperty(e,"__esModule",{value:!0})})(e)}).call(this,n(2),n(10).setImmediate)},function(t,e,n){var i;"undefined"!=typeof self&&self,i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://static.parastorage.com/services/video-gallery-sdk/1.489.0/",n(n.s=1)}([function(t,e,n){(function(t){var n=["responseType","withCredentials","timeout","onprogress"];function i(t,e,n){t[e]=t[e]||n}e.ajax=function(e,o){var r=e.headers||{},a=e.body,s=e.method||(a?"POST":"GET"),l=!1,c=e.cors&&t.XDomainRequest&&!/MSIE 1/.test(navigator.userAgent)?new XDomainRequest:t.XMLHttpRequest?new XMLHttpRequest:void 0;function u(t,e){return function(){l||(o(void 0===c.status?t:c.status,0===c.status?"Error":c.response||c.responseText||e,c),l=!0)}}c.open(s,e.url,!0);var d=c.onload=u(200);c.onreadystatechange=function(){4===c.readyState&&d()},c.onerror=u(null,"Error"),c.ontimeout=u(null,"Timeout"),c.onabort=u(null,"Abort"),a&&(i(r,"X-Requested-With","XMLHttpRequest"),t.FormData&&a instanceof t.FormData||i(r,"Content-Type","application/x-www-form-urlencoded"));for(var p=0,h=n.length;p<h;p++)void 0!==e[_=n[p]]&&(c[_]=e[_]);for(var _ in r)c.setRequestHeader(_,r[_]);return c.send(a),c}}).call(this,n(2))},function(t,e,n){"use strict";n.r(e),n.d(e,"getInfo",(function(){return l})),n.d(e,"getVideoURLs",(function(){return c})),n.d(e,"getVideoMetadata",(function(){return u})),n.d(e,"getVideoId",(function(){return s})),n.d(e,"getVideoImage",(function(){return d}));var i=n(0),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},r=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i},a=/([0-9A-Za-z_]+)/,s=function(t){var e=t.split("/");return 1===e.length?a.test(e[0])?e[0]:(console.error("Wrong format was passed to VideoGallerySDK.getVideoId"),t):a.test(e[1])?e[1]:(console.error("Wrong format was passed to VideoGallerySDK.getVideoId"),t)},l=function(t){return t=s(t),new Promise((function(e,n){Object(i.ajax)({url:"https://files.wix.com/site/media/files/"+t+"/info"},(function(t,i){200===t?e(JSON.parse(i)):n({statusCode:t,response:i})}))}))},c=function(t){return("object"==typeof t?Promise.resolve(t):l(t)).then((function(t){return r((void 0===(n=t.file_output.video)&&(n=[]),n.map((function(t){return{type:t.format.toUpperCase(),quality:t.quality,url:"https://video.wixstatic.com/"+t.url}}))),(void 0===(e=t.file_output.adaptive_video)&&(e=[]),e.map((function(t){return{type:t.format.toUpperCase(),quality:"ADAPTIVE",url:"https://files.wixstatic.com/"+t.url}}))));var e,n}))},u=function(t){return("object"==typeof t?Promise.resolve(t):l(t)).then((function(t){return o(o({},t.file_input),{size:t.file_size})}))},d=function(t,e){var n=e.previewIndex,i=void 0===n?0:n,o=e.resizeType,r=void 0===o?"fill":o,a=e.quality,l=void 0===a?85:a,c=e.width,u=e.height;return"https://static.wixstatic.com/media/"+s(t)+"f00"+i+".jpg/v1/"+r+"/w_"+c+",h_"+u+",al_c,q_"+l+"/image.jpg"}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n}])},t.exports=i()},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},i=[],o=0;o<t.length;o++){var r=t[o],l=e.base?r[0]+e.base:r[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=s(u),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:b(p,e),references:1}),i.push(u)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var a=r(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function p(t,e,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=d(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function h(t,e,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var _=null,g=0;function b(t,e){var n,i,o;if(e.singleton){var r=g++;n=_||(_=c(e)),i=p.bind(null,n,r,!1),o=p.bind(null,n,r,!0)}else n=c(e),i=h.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=s(n[i]);a[o].references--}for(var r=l(t,e),c=0;c<n.length;c++){var u=s(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=r}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),r=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[n].concat(r).concat([o]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];null!=a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i=n(3),o=n(27);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0};i(o,r);t.exports=o.locals||{}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return r})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return d})),n.d(e,"__createBinding",(function(){return p})),n.d(e,"__exportStar",(function(){return h})),n.d(e,"__values",(function(){return _})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return b})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return f})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return v})),n.d(e,"__asyncValues",(function(){return I})),n.d(e,"__makeTemplateObject",(function(){return F})),n.d(e,"__importStar",(function(){return B})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return C})),n.d(e,"__classPrivateFieldSet",(function(){return U}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}function s(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a}function l(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function d(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function p(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function h(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function _(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function b(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i}function f(t){return this instanceof f?(this.v=t,this):new f(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(t,e||[]),r=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){o[t]&&(i[t]=function(e){return new Promise((function(n,i){r.push([t,e,n,i])>1||s(t,e)}))})}function s(t,e){try{(n=o[t](e)).value instanceof f?Promise.resolve(n.value.v).then(l,c):u(r[0][2],n)}catch(t){u(r[0][3],t)}var n}function l(t){s("next",t)}function c(t){s("throw",t)}function u(t,e){t(e),r.shift(),r.length&&s(r[0][0],r[0][1])}}function v(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,o){e[i]=t[i]?function(e){return(n=!n)?{value:f(t[i](e)),done:"return"===i}:o?o(e):e}:o}}function I(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=_(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,o){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,o,(e=t[n](e)).done,e.value)}))}}}function F(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function B(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function C(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function U(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),o=i.__importDefault(n(13)),r=n(14),a=n(15),s=n(16),l=n(17),c={abrEwmaDefaultEstimate:5e6,liveSyncDuration:4},u=function(){function t(t){this.eventEmitter=t,this.hls=null,this.videoElement=null,this.mediaStream=null,this._isDynamicContent=!1,this._isDynamicContentEnded=null,this._bindCallbacks()}return t.isSupported=function(){return a.NativeEnvironmentSupport.MSE&&o.default.isSupported()},t.prototype._bindCallbacks=function(){this._attachOnPlay=this._attachOnPlay.bind(this),this._broadcastError=this._broadcastError.bind(this),this._onEndOfStream=this._onEndOfStream.bind(this),this._onLevelUpdated=this._onLevelUpdated.bind(this)},Object.defineProperty(t.prototype,"currentUrl",{get:function(){return this.mediaStream.url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"syncWithLiveTime",{get:function(){if(this.isDynamicContent)return this.hls.liveSyncPosition||this.videoElement.duration-4},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamicContent",{get:function(){return this._isDynamicContent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamicContentEnded",{get:function(){return this._isDynamicContentEnded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSyncWithLive",{get:function(){return!(!this.isDynamicContent||this.isDynamicContentEnded)&&this.videoElement.currentTime>this.syncWithLiveTime-5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSeekAvailable",{get:function(){if(this.isDynamicContent&&this.hls.levels){var t=this.hls.levels[this.hls.firstLevel];return!!t.details&&"EVENT"===(t.details.type||"").trim()}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediaStreamDeliveryPriority",{get:function(){return s.isDesktopSafari()||s.isAndroid()?l.MediaStreamDeliveryPriority.FORCED:l.MediaStreamDeliveryPriority.ADAPTIVE_VIA_MSE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debugInfo",{get:function(){var t,e=0,n=null,o=null,a=null,s=0,l=this.hls,c=l.streamController,u=l.levelController;return u&&(t=u.levels.map((function(t){return t.bitrate})))&&(n=t[u.level]),c&&(e=c.lastCurrentTime,c.mediaBuffer&&(a=r.geOverallBufferLength(c.mediaBuffer.buffered),o=r.getNearestBufferSegmentInfo(c.mediaBuffer.buffered,e)),c.stats&&(s=c.stats.bwEstimate)),i.__assign(i.__assign({},this.mediaStream),{bwEstimate:s,deliveryPriority:this.mediaStreamDeliveryPriority,bitrates:t,currentBitrate:n,overallBufferLength:a,nearestBufferSegInfo:o})},enumerable:!0,configurable:!0}),t.prototype.canPlay=function(t){return t===l.MediaStreamType.HLS},t.prototype.setMediaStreams=function(t){if(1!==t.length)throw new Error("Can only handle a single HLS stream. Received "+t.length+" streams.");this.mediaStream=t[0]},t.prototype._logError=function(t,e){this.eventEmitter.emitAsync(l.VideoEvent.ERROR,{errorType:t,streamType:l.MediaStreamType.HLS,streamProvider:"hls.js",errorInstance:e})},t.prototype._broadcastError=function(t,e){if(this.hls&&e.fatal){var n=o.default.ErrorTypes,i=o.default.ErrorDetails;if(e.type===n.NETWORK_ERROR){switch(e.details){case i.MANIFEST_LOAD_ERROR:case i.MANIFEST_LOAD_TIMEOUT:this._logError(l.Error.MANIFEST_LOAD,e);break;case i.MANIFEST_PARSING_ERROR:this._logError(l.Error.MANIFEST_PARSE,e);break;case i.LEVEL_LOAD_ERROR:case i.LEVEL_LOAD_TIMEOUT:this._logError(l.Error.LEVEL_LOAD,e);break;case i.AUDIO_TRACK_LOAD_ERROR:case i.AUDIO_TRACK_LOAD_TIMEOUT:case i.FRAG_LOAD_ERROR:case i.FRAG_LOAD_TIMEOUT:this._logError(l.Error.CONTENT_LOAD,e);break;default:this._logError(l.Error.UNKNOWN,e)}this._tryRecoverNetworkError()}else if(e.type===n.MEDIA_ERROR)switch(e.details!==i.BUFFER_STALLED_ERROR&&this._tryRecoverMediaError(),e.details){case i.MANIFEST_INCOMPATIBLE_CODECS_ERROR:this._logError(l.Error.MANIFEST_INCOMPATIBLE,e);break;case i.FRAG_PARSING_ERROR:this._logError(l.Error.CONTENT_PARSE,e);break;default:this._logError(l.Error.MEDIA,e)}else this._logError(l.Error.UNKNOWN,e)}},t.prototype._tryRecoverMediaError=function(){var t=this;this._mediaRecoverTimeout||(this.hls.recoverMediaError(),this._mediaRecoverTimeout=window.setTimeout((function(){t._mediaRecoverTimeout=null}),1e3))},t.prototype._tryRecoverNetworkError=function(){var t=this;this._networkRecoverTimeout||(this.hls.startLoad(),this._networkRecoverTimeout=window.setTimeout((function(){t._networkRecoverTimeout=null}),1e3))},t.prototype._attachOnPlay=function(){this.videoElement&&(this.hls.startLoad(),this.videoElement.removeEventListener("play",this._attachOnPlay))},t.prototype._onLevelUpdated=function(t,e){var n=e.details;this._isDynamicContent=n.live,this._isDynamicContentEnded=!n.live&&null,this.hls.off(o.default.Events.LEVEL_UPDATED,this._onLevelUpdated)},t.prototype._onEndOfStream=function(){this._isDynamicContent&&(this._isDynamicContentEnded=!0,this.eventEmitter.emitAsync(l.VideoEvent.DYNAMIC_CONTENT_ENDED))},t.prototype.attach=function(e){if(this.mediaStream){var n=i.__assign({},t.DEFAULT_HLS_CONFIG);this.videoElement=e,"none"===this.videoElement.preload&&(n.autoStartLoad=!1,this.videoElement.addEventListener("play",this._attachOnPlay)),this.hls=new o.default(n),this.hls.on(o.default.Events.ERROR,this._broadcastError),this.hls.on(o.default.Events.LEVEL_UPDATED,this._onLevelUpdated),this.hls.on(o.default.Events.BUFFER_EOS,this._onEndOfStream),this.hls.loadSource(this.mediaStream.url),this.hls.attachMedia(this.videoElement),this._isAttached=!0}},t.prototype.detach=function(){this._isAttached&&(this._networkRecoverTimeout&&(window.clearTimeout(this._networkRecoverTimeout),this._networkRecoverTimeout=null),this._mediaRecoverTimeout&&(window.clearTimeout(this._mediaRecoverTimeout),this._mediaRecoverTimeout=null),this.hls.off(o.default.Events.ERROR,this._broadcastError),this.hls.off(o.default.Events.BUFFER_EOS,this._onEndOfStream),this.hls.off(o.default.Events.LEVEL_UPDATED,this._onLevelUpdated),this.hls.destroy(),this.hls=null,this.videoElement.removeEventListener("play",this._attachOnPlay),this.videoElement.removeAttribute("src"),this.videoElement=null)},t.DEFAULT_HLS_CONFIG=c,t}();e.default=u},function(t,e,n){var i=n(3),o=n(25);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0};i(o,r);t.exports=o.locals||{}},function(t,e,n){var i=n(3),o=n(26);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={injectType:"singletonStyleTag",insert:"head",singleton:!0};i(o,r);t.exports=o.locals||{}},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(11),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,o,r,a,s,l=1,c={},u=!1,d=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){_(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){_(t.data)},i=function(t){r.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){_(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):i=function(t){setTimeout(_,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&_(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(a+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return c[l]=o,i(l),l++},p.clearImmediate=h}function h(t){delete c[t]}function _(t){if(u)setTimeout(_,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{h(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(2),n(12))},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var t=s(p);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new _(t,e)),1!==c.length||u||s(h)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var i;"undefined"!=typeof window&&(i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s="./src/hls.js")}({"./node_modules/eventemitter3/index.js":function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,o="~";function r(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,i,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||t,r),l=o?o+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(o=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,a=new Array(r);i<r;i++)a[i]=n[i].fn;return a},c.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,i,r,a){var s=o?o+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,i),!0;case 5:return u.fn.call(u.context,e,n,i,r),!0;case 6:return u.fn.call(u.context,e,n,i,r,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,i);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,i){var r=o?o+t:t;if(!this._events[r])return this;if(!e)return l(this,r),this;var a=this._events[r];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||l(this,r);else{for(var s=0,c=[],u=a.length;s<u;s++)(a[s].fn!==e||i&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[r]=1===c.length?c[0]:c:l(this,r)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&l(this,e)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,t.exports=c},"./node_modules/node-libs-browser/node_modules/events/events.js":function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(r(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,l=0;l<a;l++)c[l].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(a=r(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(t,o),n||(n=!0,e.apply(this,arguments))}return o.listener=e,this.on(t,o),this},n.prototype.removeListener=function(t,e){var n,r,a,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},"./node_modules/url-toolkit/src/url-toolkit.js":function(t,e,n){var i,o,r,a,s;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,o=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=s.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=s.normalizePath(r.path),s.buildURLFromParts(r)):e;var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=o.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var c={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(c.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var u=a.path,d=u.substring(0,u.lastIndexOf("/")+1)+r.path;c.path=s.normalizePath(d)}else c.path=a.path,r.params||(c.params=a.params,r.query||(c.query=a.query));return null===c.path&&(c.path=n.alwaysNormalize?s.normalizePath(r.path):r.path),s.buildURLFromParts(c)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=s},"./node_modules/webworkify-webpack/index.js":function(t,e,n){function i(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var i=n(n.s=ENTRY_MODULE);return i.default||i}function o(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function r(t,e,i){var r={};r[i]=[];var a=e.toString(),s=a.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return r;for(var l,c=s[1],u=new RegExp("(\\\\n|\\W)"+o(c)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=u.exec(a);)"dll-reference"!==l[3]&&r[i].push(l[3]);for(u=new RegExp("\\("+o(c)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=u.exec(a);)t[l[2]]||(r[i].push(l[1]),t[l[2]]=n(l[1]).m),r[l[2]]=r[l[2]]||[],r[l[2]].push(l[4]);for(var d,p=Object.keys(r),h=0;h<p.length;h++)for(var _=0;_<r[p[h]].length;_++)d=r[p[h]][_],isNaN(1*d)||(r[p[h]][_]=1*r[p[h]][_]);return r}function a(t){return Object.keys(t).reduce((function(e,n){return e||t[n].length>0}),!1)}t.exports=function(t,e){e=e||{};var o={main:n.m},s=e.all?{main:Object.keys(o.main)}:function(t,e){for(var n={main:[e]},i={main:[]},o={main:{}};a(n);)for(var s=Object.keys(n),l=0;l<s.length;l++){var c=s[l],u=n[c].pop();if(o[c]=o[c]||{},!o[c][u]&&t[c][u]){o[c][u]=!0,i[c]=i[c]||[],i[c].push(u);for(var d=r(t,t[c][u],c),p=Object.keys(d),h=0;h<p.length;h++)n[p[h]]=n[p[h]]||[],n[p[h]]=n[p[h]].concat(d[p[h]])}}return i}(o,t),l="";Object.keys(s).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;s[t][e];)e++;s[t].push(e),o[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+t+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s[t].map((function(e){return JSON.stringify(e)+": "+o[t][e].toString()})).join(",")+"});\n"})),l=l+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s.main.map((function(t){return JSON.stringify(t)+": "+o.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([l],{type:"text/javascript"});if(e.bare)return c;var u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),d=new window.Worker(u);return d.objectURL=u,d}},"./src/config.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/controller/abr-controller.js"),o=n("./src/controller/buffer-controller.js"),r=n("./src/controller/cap-level-controller.js"),a=n("./src/controller/fps-controller.js"),s=n("./src/utils/xhr-loader.js"),l=(n("./src/empty.js"),n("./src/empty.js"),n("./src/empty.js"),n("./src/empty.js"),n("./src/empty.js"),n("./src/empty.js"),n("./src/empty.js"),n("./src/utils/mediakeys-helper.js"));e.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:i.default,bufferController:o.default,capLevelController:r.default,fpsController:a.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:l.requestMediaKeySystemAccess}},"./src/controller/abr-controller.js":function(t,e,n){"use strict";(function(t){var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/events.js"),a=n("./src/event-handler.js"),s=n("./src/utils/buffer-helper.js"),l=n("./src/errors.js"),c=n("./src/utils/logger.js"),u=n("./src/utils/ewma-bandwidth-estimator.js"),d=window.performance,p=function(e){function n(t){var n=e.call(this,t,r.default.FRAG_LOADING,r.default.FRAG_LOADED,r.default.FRAG_BUFFERED,r.default.ERROR)||this;return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=t,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return o(n,e),n.prototype.destroy=function(){this.clearTimer(),a.default.prototype.destroy.call(this)},n.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n=this.hls,i=n.config,o=e.level,r=void 0,a=void 0;n.levels[o].details.live?(r=i.abrEwmaFastLive,a=i.abrEwmaSlowLive):(r=i.abrEwmaFastVoD,a=i.abrEwmaSlowVoD),this._bwEstimator=new u.default(n,a,r,i.abrEwmaDefaultEstimate)}},n.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent;if(n){var i=n.loader,o=t.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return c.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=i.stats;if(e&&a&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var l=d.now()-a.trequest,u=Math.abs(e.playbackRate);if(l>500*n.duration/u){var p=t.levels,h=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/l),_=p[n.level],g=_.realBitrate?Math.max(_.realBitrate,_.bitrate):_.bitrate,b=a.total?a.total:Math.max(a.loaded,Math.round(n.duration*g/8)),m=e.currentTime,f=(b-a.loaded)/h,y=(s.BufferHelper.bufferInfo(e,m,t.config.maxBufferHole).end-m)/u;if(y<2*n.duration/u&&f>y){var v=void 0,I=void 0;for(I=n.level-1;I>o;I--){var F=p[I].realBitrate?Math.max(p[I].realBitrate,p[I].bitrate):p[I].bitrate;if((v=n.duration*F/(6.4*h))<y)break}v<f&&(c.logger.warn("loading too slow, abort fragment loading and switch to level "+I+":fragLoadedDelay["+I+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+v.toFixed(1)+"<"+f.toFixed(1)+":"+y.toFixed(1)),t.nextLoadLevel=I,this._bwEstimator.sample(l,a.loaded),i.abort(),this.clearTimer(),t.trigger(r.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:a}))}}}}},n.prototype.onFragLoaded=function(e){var n=e.frag;if("main"===n.type&&t.isFinite(n.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[n.level],o=(i.loaded?i.loaded.bytes:0)+e.stats.loaded,r=(i.loaded?i.loaded.duration:0)+e.frag.duration;i.loaded={bytes:o,duration:r},i.realBitrate=Math.round(8*o/r)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}},n.prototype.onFragBuffered=function(e){var n=e.stats,i=e.frag;if(!0!==n.aborted&&"main"===i.type&&t.isFinite(i.sn)&&(!i.bitrateTest||n.tload===n.tbuffered)){var o=n.tparsed-n.trequest;c.logger.log("latency/loading/parsing/append/kbps:"+Math.round(n.tfirst-n.trequest)+"/"+Math.round(n.tload-n.tfirst)+"/"+Math.round(n.tparsed-n.tload)+"/"+Math.round(n.tbuffered-n.tparsed)+"/"+Math.round(8*n.loaded/(n.tbuffered-n.trequest))),this._bwEstimator.sample(o,n.loaded),n.bwEstimate=this._bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}},n.prototype.onError=function(t){switch(t.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},n.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(n.prototype,"nextAutoLevel",{get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_nextABRAutoLevel",{get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,i=t.config,o=t.minAutoLevel,r=t.media,a=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,u=r?r.currentTime:0,d=r&&0!==r.playbackRate?Math.abs(r.playbackRate):1,p=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(s.BufferHelper.bufferInfo(r,u,i.maxBufferHole).end-u)/d,_=this._findBestLevel(a,l,p,o,e,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(_>=0)return _;c.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=l?Math.min(l,i.maxStarvationDelay):i.maxStarvationDelay,b=i.abrBandWidthFactor,m=i.abrBandWidthUpFactor;if(0===h){var f=this.bitrateTestDelay;f&&(g=(l?Math.min(l,i.maxLoadingDelay):i.maxLoadingDelay)-f,c.logger.trace("bitrate test took "+Math.round(1e3*f)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),b=m=1)}return _=this._findBestLevel(a,l,p,o,e,h+g,b,m,n),Math.max(_,0)},enumerable:!0,configurable:!0}),n.prototype._findBestLevel=function(t,e,n,i,o,r,a,s,l){for(var u=o;u>=i;u--){var d=l[u];if(d){var p=d.details,h=p?p.totalduration/p.fragments.length:e,_=!!p&&p.live,g=void 0;g=u<=t?a*n:s*n;var b=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,m=b*h/g;if(c.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(g)+"/"+b+"/"+h+"/"+r+"/"+m),g>b&&(!m||_&&!this.bitrateTestDelay||m<r))return u}}return-1},n}(a.default);e.default=p}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/base-stream-controller.js":function(t,e,n){"use strict";(function(t){var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/task-loop.js"),a=n("./src/controller/fragment-tracker.js"),s=n("./src/utils/buffer-helper.js"),l=n("./src/utils/logger.js");e.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var c=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return o(i,n),i.prototype.doTick=function(){},i.prototype.startLoad=function(){},i.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=e.State.STOPPED},i.prototype._streamEnded=function(t,e){var n=this.fragCurrent,i=this.fragmentTracker;if(!e.live&&n&&!n.backtracked&&n.sn===e.endSN&&!t.nextStart){var o=i.getState(n);return o===a.FragmentState.PARTIAL||o===a.FragmentState.OK}return!1},i.prototype.onMediaSeeking=function(){var n=this.config,i=this.media,o=this.mediaBuffer,r=this.state,a=i?i.currentTime:null,c=s.BufferHelper.bufferInfo(o||i,a,this.config.maxBufferHole);if(t.isFinite(a)&&l.logger.log("media seeking to "+a.toFixed(3)),r===e.State.FRAG_LOADING){var u=this.fragCurrent;if(0===c.len&&u){var d=n.maxFragLookUpTolerance,p=u.start-d,h=u.start+u.duration+d;a<p||a>h?(u.loader&&(l.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),u.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=e.State.IDLE):l.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else r===e.State.ENDED&&(0===c.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=e.State.IDLE);i&&(this.lastCurrentTime=a),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=a),this.tick()},i.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.prototype.onHandlerDestroying=function(){this.stopLoad(),n.prototype.onHandlerDestroying.call(this)},i.prototype.onHandlerDestroyed=function(){this.state=e.State.STOPPED,this.fragmentTracker=null},i}(r.default);e.default=c}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":function(t,e,n){"use strict";(function(t){var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/events.js"),a=n("./src/event-handler.js"),s=n("./src/utils/logger.js"),l=n("./src/errors.js"),c=n("./src/utils/mediasource-helper.js").getMediaSource(),u=function(e){function n(t){var n=e.call(this,t,r.default.MEDIA_ATTACHING,r.default.MEDIA_DETACHING,r.default.MANIFEST_PARSED,r.default.BUFFER_RESET,r.default.BUFFER_APPENDING,r.default.BUFFER_CODECS,r.default.BUFFER_EOS,r.default.BUFFER_FLUSHING,r.default.LEVEL_PTS_UPDATED,r.default.LEVEL_UPDATED)||this;return n._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n.bufferCodecEventsExpected=0,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return o(n,e),n.prototype.destroy=function(){a.default.prototype.destroy.call(this)},n.prototype.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-t.start)>.1){var o=i.updating;try{i.abort()}catch(t){s.logger.warn("can not abort audio buffer: "+t)}o?this.audioTimestampOffset=t.start:(s.logger.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+t.start),i.timestampOffset=t.start)}}},n.prototype.onManifestParsed=function(t){this.bufferCodecEventsExpected=t.altAudio?2:1,s.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},n.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var n=this.mediaSource=new c;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),e.src=window.URL.createObjectURL(n),this._objectUrl=e.src}},n.prototype.onMediaDetaching=function(){s.logger.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){s.logger.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):s.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(r.default.MEDIA_DETACHED)},n.prototype.onMediaSourceOpen=function(){s.logger.log("media source opened"),this.hls.trigger(r.default.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},n.prototype.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,n=Object.keys(e).length;(n&&!t||2===n)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},n.prototype.onMediaSourceClose=function(){s.logger.log("media source closed")},n.prototype.onMediaSourceEnded=function(){s.logger.log("media source ended")},n.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;s.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,n=this.segments.reduce((function(t,n){return n.parent===e?t+1:t}),0),i={},o=this.sourceBuffer;for(var a in o)i[a]=o[a].buffered;this.hls.trigger(r.default.BUFFER_APPENDED,{parent:e,pending:n,timeRanges:i}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===n&&this.flushLiveBackBuffer()},n.prototype.onSBUpdateError=function(t){s.logger.error("sourceBuffer error:",t),this.hls.trigger(r.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},n.prototype.onBufferCodecs=function(t){var e=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(t).forEach((function(n){e.pendingTracks[n]=t[n]}));var n=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),n&&"open"===n.readyState&&this.checkPendingTracks()}},n.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;for(var i in t)if(!e[i]){var o=t[i],a=o.levelCodec||o.codec,c=o.container+";codecs="+a;s.logger.log("creating sourceBuffer("+c+")");try{var u=e[i]=n.addSourceBuffer(c);u.addEventListener("updateend",this.onsbue),u.addEventListener("error",this.onsbe),this.tracks[i]={codec:a,container:o.container},o.buffer=u}catch(t){s.logger.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(r.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:c})}}this.hls.trigger(r.default.BUFFER_CREATED,{tracks:t})},n.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},n.prototype.onBufferAppendFail=function(t){s.logger.error("sourceBuffer error:",t.event),this.hls.trigger(r.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.prototype.onBufferEos=function(t){var e=this.sourceBuffer,n=t.type;for(var i in e)n&&i!==n||e[i].ended||(e[i].ended=!0,s.logger.log(i+" sourceBuffer now EOS"));this.checkEos()},n.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var i=t[n];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}s.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){s.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},n.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},n.prototype.flushLiveBackBuffer=function(){if(this._live){var t=this.hls.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))for(var e=this.media.currentTime,n=this.sourceBuffer,i=Object.keys(n),o=e-Math.max(t,this._levelTargetDuration),r=i.length-1;r>=0;r--){var a=i[r],s=n[a].buffered;s.length>0&&o>s.start(0)&&this.removeBufferRange(a,n[a],0,o)}}},n.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},n.prototype.updateMediaElementDuration=function(){var e,n=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var i in this.sourceBuffer)if(!0===this.sourceBuffer[i].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===n.liveDurationInfinity?(s.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!t.isFinite(e))&&(s.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},n.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var i in n)e+=n[i].buffered.length}catch(t){s.logger.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(r.default.BUFFER_FLUSHED)}},n.prototype.doAppending=function(){var t=this.hls,e=this.segments,n=this.sourceBuffer;if(Object.keys(n).length){if(this.media.error)return this.segments=[],void s.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(e&&e.length){var i=e.shift();try{var o=n[i.type];o?o.updating?e.unshift(i):(o.ended=!1,this.parent=i.parent,o.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(n){s.logger.error("error while trying to append buffer:"+n.message),e.unshift(i);var a={type:l.ErrorTypes.MEDIA_ERROR,parent:i.parent};22!==n.code?(this.appendError?this.appendError++:this.appendError=1,a.details=l.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry?(s.logger.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],a.fatal=!0,t.trigger(r.default.ERROR,a)):(a.fatal=!1,t.trigger(r.default.ERROR,a))):(this.segments=[],a.details=l.ErrorDetails.BUFFER_FULL_ERROR,a.fatal=!1,t.trigger(r.default.ERROR,a))}}}},n.prototype.flushBuffer=function(t,e,n){var i,o=this.sourceBuffer;if(Object.keys(o).length){if(s.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var r in o)if(!n||r===n){if((i=o[r]).ended=!1,i.updating)return s.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(r,i,t,e))return this.flushBufferCounter++,!1}}else s.logger.warn("abort flushing too many retries");s.logger.log("buffer flushed")}return!0},n.prototype.removeBufferRange=function(t,e,n,i){try{for(var o=0;o<e.buffered.length;o++){var r=e.buffered.start(o),a=e.buffered.end(o),l=Math.max(r,n),c=Math.min(a,i);if(Math.min(c,a)-l>.5)return s.logger.log("sb remove "+t+" ["+l+","+c+"], of ["+r+","+a+"], pos:"+this.media.currentTime),e.remove(l,c),!0}}catch(t){s.logger.warn("removeBufferRange failed",t)}return!1},n}(a.default);e.default=u}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":function(t,e,n){"use strict";(function(t){var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/events.js"),a=function(e){function n(n){var i=e.call(this,n,r.default.FPS_DROP_LEVEL_CAPPING,r.default.MEDIA_ATTACHING,r.default.MANIFEST_PARSED,r.default.BUFFER_CODECS,r.default.MEDIA_DETACHING)||this;return i.autoLevelCapping=t.POSITIVE_INFINITY,i.firstLevel=null,i.levels=[],i.media=null,i.restrictedLevels=[],i.timer=null,i}return o(n,e),n.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},n.prototype.onFpsDropLevelCapping=function(t){n.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},n.prototype.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},n.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this._startCapping()},n.prototype.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this._startCapping()},n.prototype.onLevelsUpdated=function(t){this.levels=t.levels},n.prototype.onMediaDetaching=function(){this._stopCapping()},n.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},n.prototype.getMaxLevel=function(t){var e=this;if(!this.levels)return-1;var i=this.levels.filter((function(i,o){return n.isLevelAllowed(o,e.restrictedLevels)&&o<=t}));return n.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},n.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=t.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},n.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=t.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(n.prototype,"mediaWidth",{get:function(){var t,e=this.media;return e&&(t=e.width||e.clientWidth||e.offsetWidth,t*=n.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaHeight",{get:function(){var t,e=this.media;return e&&(t=e.height||e.clientHeight||e.offsetHeight,t*=n.contentScaleFactor),t},enumerable:!0,configurable:!0}),Object.defineProperty(n,"contentScaleFactor",{get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t},enumerable:!0,configurable:!0}),n.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},n.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var i,o,r=t.length-1,a=0;a<t.length;a+=1){var s=t[a];if((s.width>=e||s.height>=n)&&(i=s,!(o=t[a+1])||i.width!==o.width||i.height!==o.height)){r=a;break}}return r},n}(n("./src/event-handler.js").default);e.default=a}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/fps-controller.js":function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/events.js"),a=n("./src/event-handler.js"),s=n("./src/utils/logger.js"),l=window.performance,c=function(t){function e(e){return t.call(this,e,r.default.MEDIA_ATTACHING)||this}return o(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},e.prototype.checkFPS=function(t,e,n){var i=l.now();if(e){if(this.lastTime){var o=i-this.lastTime,a=n-this.lastDroppedFrames,c=e-this.lastDecodedFrames,u=1e3*a/o,d=this.hls;if(d.trigger(r.default.FPS_DROP,{currentDropped:a,currentDecoded:c,totalDroppedFrames:n}),u>0&&a>d.config.fpsDroppedMonitoringThreshold*c){var p=d.currentLevel;s.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+p),p>0&&(-1===d.autoLevelCapping||d.autoLevelCapping>=p)&&(p-=1,d.trigger(r.default.FPS_DROP_LEVEL_CAPPING,{level:p,droppedLevel:d.currentLevel}),d.autoLevelCapping=p,d.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(a.default);e.default=c},"./src/controller/fragment-finders.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/binary-search.js");function o(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var i=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-i<=t?1:n.start-i>t&&n.start?-1:0}function r(t,e,n){var i=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.endProgramDateTime-i>t}e.findFragmentByPDT=function(e,n,i){if(!Array.isArray(e)||!e.length||!t.isFinite(n))return null;if(n<e[0].programDateTime)return null;if(n>=e[e.length-1].endProgramDateTime)return null;i=i||0;for(var o=0;o<e.length;++o){var a=e[o];if(r(n,i,a))return a}return null},e.findFragmentByPTS=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var a=t?e[t.sn-e[0].sn+1]:null;return a&&!o(n,r,a)?a:i.default.search(e,o.bind(null,n,r))},e.fragmentWithinToleranceTest=o,e.pdtWithinToleranceTest=r}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":function(t,e,n){"use strict";(function(t){var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/event-handler.js"),a=n("./src/events.js");e.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var s=function(n){function i(t){var e=n.call(this,t,a.default.BUFFER_APPENDED,a.default.FRAG_BUFFERED,a.default.FRAG_LOADED)||this;return e.bufferPadding=.2,e.fragments=Object.create(null),e.timeRanges=Object.create(null),e.config=t.config,e}return o(i,n),i.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,r.default.prototype.destroy.call(this),n.prototype.destroy.call(this)},i.prototype.getBufferedFrag=function(t,e){var n=this.fragments,i=Object.keys(n).filter((function(i){var o=n[i];if(o.body.type!==e)return!1;if(!o.buffered)return!1;var r=o.body;return r.startPTS<=t&&t<=r.endPTS}));if(0===i.length)return null;var o=i.pop();return n[o].body},i.prototype.detectEvictedFragments=function(t,e){var n,i,o=this;Object.keys(this.fragments).forEach((function(r){var a=o.fragments[r];if(!0===a.buffered){var s=a.range[t];if(s){n=s.time;for(var l=0;l<n.length;l++)if(i=n[l],!1===o.isTimeBuffered(i.startPTS,i.endPTS,e)){o.removeFragment(a.body);break}}}}))},i.prototype.detectPartialFragments=function(t){var e=this,n=this.getFragmentKey(t),i=this.fragments[n];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach((function(n){if(t.hasElementaryStream(n)){var o=e.timeRanges[n];i.range[n]=e.getBufferedTimes(t.startPTS,t.endPTS,o)}})))},i.prototype.getBufferedTimes=function(t,e,n){for(var i,o,r=[],a=!1,s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,o=n.end(s)+this.bufferPadding,t>=i&&e<=o){r.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))});break}if(t<o&&e>i)r.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))}),a=!0;else if(e<=i)break}return{time:r,partial:a}},i.prototype.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},i.prototype.getPartialFragment=function(t){var e,n,i,o=this,r=null,a=0;return Object.keys(this.fragments).forEach((function(s){var l=o.fragments[s];o.isPartial(l)&&(n=l.body.startPTS-o.bufferPadding,i=l.body.endPTS+o.bufferPadding,t>=n&&t<=i&&(e=Math.min(t-n,i-t),a<=e&&(r=l.body,a=e)))})),r},i.prototype.getState=function(t){var n=this.getFragmentKey(t),i=this.fragments[n],o=e.FragmentState.NOT_LOADED;return void 0!==i&&(o=i.buffered?!0===this.isPartial(i)?e.FragmentState.PARTIAL:e.FragmentState.OK:e.FragmentState.APPENDING),o},i.prototype.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},i.prototype.isTimeBuffered=function(t,e,n){for(var i,o,r=0;r<n.length;r++){if(i=n.start(r)-this.bufferPadding,o=n.end(r)+this.bufferPadding,t>=i&&e<=o)return!0;if(e<=i)return!1}return!1},i.prototype.onFragLoaded=function(e){var n=e.frag;t.isFinite(n.sn)&&!n.bitrateTest&&(this.fragments[this.getFragmentKey(n)]={body:n,range:Object.create(null),buffered:!1})},i.prototype.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach((function(t){var n=e.timeRanges[t];e.detectEvictedFragments(t,n)}))},i.prototype.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},i.prototype.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},i.prototype.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},i.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},i}(r.default);e.FragmentTracker=s}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/buffer-helper.js"),o=n("./src/errors.js"),r=n("./src/events.js"),a=n("./src/utils/logger.js"),s=function(){function t(t,e,n,i){this.config=t,this.media=e,this.fragmentTracker=n,this.hls=i,this.stallReported=!1}return t.prototype.poll=function(t,e){var n=this.config,o=this.media,r=o.currentTime,s=window.performance.now();if(r!==t)return this.stallReported&&(a.logger.warn("playback not stuck anymore @"+r+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(o.ended||!o.buffered.length||o.readyState>2||o.seeking&&i.BufferHelper.isBuffered(o,r))){var l=s-this.stalled,c=i.BufferHelper.bufferInfo(o,r,n.maxBufferHole);this.stalled?(l>=1e3&&this._reportStall(c.len),this._tryFixBufferStall(c,l)):this.stalled=s}},t.prototype._tryFixBufferStall=function(t,e){var n=this.config,i=this.fragmentTracker,o=this.media.currentTime,r=i.getPartialFragment(o);r&&this._trySkipBufferHole(r),t.len>.5&&e>1e3*n.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},t.prototype._reportStall=function(t){var e=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer"),e.trigger(r.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},t.prototype._trySkipBufferHole=function(t){for(var e=this.hls,n=this.media,i=n.currentTime,s=0,l=0;l<n.buffered.length;l++){var c=n.buffered.start(l);if(i>=s&&i<c)return n.currentTime=Math.max(c,n.currentTime+.1),a.logger.warn("skipping hole, adjusting currentTime from "+i+" to "+n.currentTime),this.stalled=null,void e.trigger(r.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+n.currentTime,frag:t});s=n.buffered.end(l)}},t.prototype._tryNudgeBuffer=function(){var t=this.config,e=this.hls,n=this.media,i=n.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<t.nudgeMaxRetry){var l=i+s*t.nudgeOffset;a.logger.log("adjust currentTime from "+i+" to "+l),n.currentTime=l,e.trigger(r.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("still stuck in high buffer @"+i+" after "+t.nudgeMaxRetry+", raise fatal error"),e.trigger(r.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},t}();e.default=s},"./src/controller/id3-track-controller.js":function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/events.js"),a=n("./src/event-handler.js"),s=n("./src/demux/id3.js"),l=n("./src/utils/texttrack-utils.js"),c=function(t){function e(e){var n=t.call(this,e,r.default.MEDIA_ATTACHED,r.default.MEDIA_DETACHING,r.default.FRAG_PARSING_METADATA)||this;return n.id3Track=void 0,n.media=void 0,n}return o(e,t),e.prototype.destroy=function(){a.default.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){l.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},e.prototype.getID3Track=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return l.sendAddTrackEvent(n,this.media),n}return this.media.addTextTrack("metadata","id3")},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,o=0;o<n.length;o++){var r=s.default.getID3Frames(n[o].data);if(r){var a=n[o].pts,l=o<n.length-1?n[o+1].pts:e.endPTS;a===l&&(l+=1e-4);for(var c=0;c<r.length;c++){var u=r[c];if(!s.default.isTimeStampFrame(u)){var d=new i(a,l,"");d.value=u,this.id3Track.addCue(d)}}}}},e}(a.default);e.default=c},"./src/controller/level-controller.js":function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=n("./src/events.js"),s=n("./src/event-handler.js"),l=n("./src/utils/logger.js"),c=n("./src/errors.js"),u=n("./src/utils/codecs.js"),d=n("./src/controller/level-helper.js"),p=(window.performance,function(t){function e(e){var n=t.call(this,e,a.default.MANIFEST_LOADED,a.default.LEVEL_LOADED,a.default.AUDIO_TRACK_SWITCHED,a.default.FRAG_LOADED,a.default.ERROR)||this;return n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,r=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}return o(e,t),e.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},e.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach((function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)})),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e,n=[],i=[],o={},s=null,p=!1,h=!1;if(t.levels.forEach((function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,p=p||!!t.videoCodec,h=h||!!t.audioCodec,r&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(s=o[t.bitrate])?s.url.push(t.url):(t.url=[t.url],t.urlId=0,o[t.bitrate]=t,n.push(t)),e&&(e.AUDIO&&(h=!0,d.addGroupId(s||t,"audio",e.AUDIO)),e.SUBTITLES&&d.addGroupId(s||t,"text",e.SUBTITLES))})),p&&h&&(n=n.filter((function(t){return!!t.videoCodec}))),n=n.filter((function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||u.isCodecSupportedInMp4(e,"audio"))&&(!n||u.isCodecSupportedInMp4(n,"video"))})),t.audioTracks&&(i=t.audioTracks.filter((function(t){return!t.audioCodec||u.isCodecSupportedInMp4(t.audioCodec,"audio")}))).forEach((function(t,e){t.id=e})),n.length>0){e=n[0].bitrate,n.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=n;for(var _=0;_<n.length;_++)if(n[_].bitrate===e){this._firstLevel=_,l.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+e);break}this.hls.trigger(a.default.MANIFEST_PARSED,{levels:n,audioTracks:i,firstLevel:this._firstLevel,stats:t.stats,audio:h,video:p,altAudio:i.some((function(t){return!!t.url}))})}else this.hls.trigger(a.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(e.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))},enumerable:!0,configurable:!0}),e.prototype.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){l.logger.log("switching to level "+t),this.currentLevelIndex=t;var i=e[t];i.level=t,n.trigger(a.default.LEVEL_SWITCHING,i)}var o=e[t],r=o.details;if(!r||r.live){var s=o.urlId;n.trigger(a.default.LEVEL_LOADING,{url:o.url[s],level:t,id:s})}}else n.trigger(a.default.ERROR,{type:c.ErrorTypes.OTHER_ERROR,details:c.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(e.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(t){this._firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t},enumerable:!0,configurable:!0}),e.prototype.onError=function(t){if(t.fatal)t.type===c.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var e,n=!1,i=!1;switch(t.details){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:e=t.frag.level,i=!0;break;case c.ErrorDetails.LEVEL_LOAD_ERROR:case c.ErrorDetails.LEVEL_LOAD_TIMEOUT:e=t.context.level,n=!0;break;case c.ErrorDetails.REMUX_ALLOC_ERROR:e=t.level,n=!0}void 0!==e&&this.recoverLevel(t,e,n,i)}},e.prototype.recoverLevel=function(t,e,n,i){var o,r,a,s=this,c=this.hls.config,u=t.details,d=this._levels[e];if(d.loadError++,d.fragmentError=i,n){if(!(this.levelRetryCount+1<=c.levelLoadingMaxRetry))return l.logger.error("level controller, cannot recover from "+u+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);r=Math.min(Math.pow(2,this.levelRetryCount)*c.levelLoadingRetryDelay,c.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return s.loadLevel()}),r),t.levelRetry=!0,this.levelRetryCount++,l.logger.warn("level controller, "+u+", retry in "+r+" ms, current retry count is "+this.levelRetryCount)}(n||i)&&((o=d.url.length)>1&&d.loadError<o?(d.urlId=(d.urlId+1)%o,d.details=void 0,l.logger.warn("level controller, "+u+" for level "+e+": switching to redundant URL-id "+d.urlId)):-1===this.manualLevelIndex?(a=0===e?this._levels.length-1:e-1,l.logger.warn("level controller, "+u+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):i&&(l.logger.warn("level controller, "+u+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,n=t.level,i=t.details;if(n===this.currentLevelIndex){var o=this._levels[n];if(o.fragmentError||(o.loadError=0,this.levelRetryCount=0),i.live){var r=d.computeReloadInterval(o.details,i,t.stats.trequest);l.logger.log("live playlist, reload in "+Math.round(r)+" ms"),this.timer=setTimeout((function(){return e.loadLevel()}),r)}else this.clearTimer()}},e.prototype.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var i=-1,o=0;o<n.audioGroupIds.length;o++)if(n.audioGroupIds[o]===e){i=o;break}i!==n.urlId&&(n.urlId=i,this.startLoad())}},e.prototype.loadLevel=function(){if(l.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"==typeof t&&t.url.length>0){var e=this.currentLevelIndex,n=t.urlId,i=t.url[n];l.logger.log("Attempt loading level index "+e+" with URL-id "+n),this.hls.trigger(a.default.LEVEL_LOADING,{url:i,level:e,id:n})}}},Object.defineProperty(e.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)},enumerable:!0,configurable:!0}),e}(s.default));e.default=p},"./src/controller/level-helper.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/logger.js");function o(e,n,o){var r=e[n],a=e[o],s=a.startPTS;t.isFinite(s)?o>n?(r.duration=s-r.start,r.duration<0&&i.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(a.duration=r.start-s,a.duration<0&&i.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):a.start=o>n?r.start+r.duration:Math.max(r.start-a.duration,0)}function r(e,n,i,r,a,s){var l=i;if(t.isFinite(n.startPTS)){var c=Math.abs(n.startPTS-i);t.isFinite(n.deltaPTS)?n.deltaPTS=Math.max(c,n.deltaPTS):n.deltaPTS=c,l=Math.max(i,n.startPTS),i=Math.min(i,n.startPTS),r=Math.max(r,n.endPTS),a=Math.min(a,n.startDTS),s=Math.max(s,n.endDTS)}var u=i-n.start;n.start=n.startPTS=i,n.maxStartPTS=l,n.endPTS=r,n.startDTS=a,n.endDTS=s,n.duration=r-i;var d,p,h,_=n.sn;if(!e||_<e.startSN||_>e.endSN)return 0;for(d=_-e.startSN,(p=e.fragments)[d]=n,h=d;h>0;h--)o(p,h,h-1);for(h=d;h<p.length-1;h++)o(p,h,h+1);return e.PTSKnown=!0,u}function a(t,e,n){if(t&&e)for(var i=Math.max(t.startSN,e.startSN)-e.startSN,o=Math.min(t.endSN,e.endSN)-e.startSN,r=e.startSN-t.startSN,a=i;a<=o;a++){var s=t.fragments[r+a],l=e.fragments[a];if(!s||!l)break;n(s,l,a)}}function s(t,e){var n=e.startSN-t.startSN,i=t.fragments,o=e.fragments;if(!(n<0||n>i.length))for(var r=0;r<o.length;r++)o[r].start+=i[n].start}e.addGroupId=function(t,e,n){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(n);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(n)}},e.updatePTS=o,e.updateFragPTSDTS=r,e.mergeDetails=function(e,n){n.initSegment&&e.initSegment&&(n.initSegment=e.initSegment);var o,l=0;if(a(e,n,(function(e,i){l=e.cc-i.cc,t.isFinite(e.startPTS)&&(i.start=i.startPTS=e.startPTS,i.endPTS=e.endPTS,i.duration=e.duration,i.backtracked=e.backtracked,i.dropped=e.dropped,o=i),n.PTSKnown=!0})),n.PTSKnown){if(l){i.logger.log("discontinuity sliding from playlist, take drift into account");for(var c=n.fragments,u=0;u<c.length;u++)c[u].cc+=l}o?r(n,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):s(e,n),n.PTSKnown=e.PTSKnown}},e.mergeSubtitlePlaylists=function(t,e,n){void 0===n&&(n=0);var i=-1;a(t,e,(function(t,e,n){e.start=t.start,i=n}));var o=e.fragments;if(i<0)o.forEach((function(t){t.start+=n}));else for(var r=i+1;r<o.length;r++)o[r].start=o[r-1].start+o[r-1].duration},e.mapFragmentIntersection=a,e.adjustSliding=s,e.computeReloadInterval=function(t,e,n){var i=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),o=i/2;return t&&e.endSN===t.endSN&&(i=o),n&&(i=Math.max(o,i-(window.performance.now()-n))),Math.round(i)}}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":function(t,e,n){"use strict";(function(t){var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/utils/binary-search.js"),a=n("./src/utils/buffer-helper.js"),s=n("./src/demux/demuxer.js"),l=n("./src/events.js"),c=n("./src/controller/fragment-tracker.js"),u=n("./src/loader/fragment.js"),d=n("./src/loader/playlist-loader.js"),p=n("./src/controller/level-helper.js"),h=n("./src/utils/time-ranges.js"),_=n("./src/errors.js"),g=n("./src/utils/logger.js"),b=n("./src/utils/discontinuities.js"),m=n("./src/controller/fragment-finders.js"),f=n("./src/controller/gap-controller.js"),y=n("./src/controller/base-stream-controller.js"),v=function(e){function n(t,n){var i=e.call(this,t,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.MANIFEST_LOADING,l.default.MANIFEST_PARSED,l.default.LEVEL_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_LOAD_EMERGENCY_ABORTED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_SWITCHED,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED)||this;return i.fragmentTracker=n,i.config=t.config,i.audioCodecSwap=!1,i._state=y.State.STOPPED,i.stallReported=!1,i.gapController=null,i}return o(n,e),n.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=n.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(g.logger.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=y.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=y.State.STOPPED},n.prototype.stopLoad=function(){this.forceStartLoad=!1,e.prototype.stopLoad.call(this)},n.prototype.doTick=function(){switch(this.state){case y.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case y.State.IDLE:this._doTickIdle();break;case y.State.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=y.State.IDLE);break;case y.State.FRAG_LOADING_WAITING_RETRY:var e=window.performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(g.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=y.State.IDLE);break;case y.State.ERROR:case y.State.STOPPED:case y.State.FRAG_LOADING:case y.State.PARSING:case y.State.PARSED:case y.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},n.prototype._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch)){var i;i=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var o=t.nextLoadLevel,r=this.levels[o];if(r){var s,c=r.bitrate;s=c?Math.max(8*e.maxBufferSize/c,e.maxBufferLength):e.maxBufferLength,s=Math.min(s,e.maxMaxBufferLength);var u=a.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,i,e.maxBufferHole),d=u.len;if(!(d>=s)){g.logger.trace("buffer length of "+d.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=o;var p=r.details;if(!p||p.live&&this.levelLastLoaded!==o)this.state=y.State.WAITING_LEVEL;else{if(this._streamEnded(u,p)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(l.default.BUFFER_EOS,h),void(this.state=y.State.ENDED)}this._fetchPayloadOrEos(i,u,p)}}}}},n.prototype._fetchPayloadOrEos=function(t,e,n){var i=this.fragPrevious,o=this.level,r=n.fragments,a=r.length;if(0!==a){var s,l=r[0].start,c=r[a-1].start+r[a-1].duration,u=e.end;if(n.initSegment&&!n.initSegment.data)s=n.initSegment;else if(n.live){var d=this.config.initialLiveManifestSize;if(a<d)return void g.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(s=this._ensureFragmentAtLivePoint(n,u,l,c,i,r,a)))return}else u<l&&(s=r[0]);s||(s=this._findFragment(l,i,a,r,u,c,n)),s&&(s.encrypted?(g.logger.log("Loading key for "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+o),this._loadKey(s)):(g.logger.log("Loading "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+o+", currentTime:"+t.toFixed(3)+",bufferEnd:"+u.toFixed(3)),this._loadFragment(s)))}},n.prototype._ensureFragmentAtLivePoint=function(t,e,n,i,o,a,s){var l,c=this.hls.config,u=this.media,d=void 0!==c.liveMaxLatencyDuration?c.liveMaxLatencyDuration:c.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(n-c.maxFragLookUpTolerance,i-d)){var p=this.liveSyncPosition=this.computeLivePosition(n,t);g.logger.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+p.toFixed(3)),e=p,u&&u.readyState&&u.duration>p&&(u.currentTime=p),this.nextLoadPosition=p}if(t.PTSKnown&&e>i&&u&&u.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(o)if(t.hasProgramDateTime)g.logger.log("live playlist, switching playlist, load frag with same PDT: "+o.programDateTime),l=m.findFragmentByPDT(a,o.endProgramDateTime,c.maxFragLookUpTolerance);else{var h=o.sn+1;if(h>=t.startSN&&h<=t.endSN){var _=a[h-t.startSN];o.cc===_.cc&&(l=_,g.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=r.default.search(a,(function(t){return o.cc-t.cc})))&&g.logger.log("live playlist, switching playlist, load frag with same CC: "+l.sn)}l||(l=a[Math.min(s-1,Math.round(s/2))],g.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l},n.prototype._findFragment=function(t,e,n,i,o,r,a){var s,l=this.hls.config;if(o<r){var c=o>r-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance;s=m.findFragmentByPTS(e,i,o,c)}else s=i[n-1];if(s){var u=s.sn-a.startSN,d=e&&s.level===e.level,p=i[u-1],h=i[u+1];if(e&&s.sn===e.sn)if(d&&!s.backtracked)if(s.sn<a.endSN){var _=e.deltaPTS;_&&_>l.maxBufferHole&&e.dropped&&u?(s=p,g.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=h,g.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(h&&h.backtracked?(g.logger.warn("Already backtracked from fragment "+h.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+h.sn),s=h):(g.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,p?(s=p).backtracked=!0:u&&(s=null)))}return s},n.prototype._loadKey=function(t){this.state=y.State.KEY_LOADING,this.hls.trigger(l.default.KEY_LOADING,{frag:t})},n.prototype._loadFragment=function(e){var n=this.fragmentTracker.getState(e);this.fragCurrent=e,this.startFragRequested=!0,t.isFinite(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||n===c.FragmentState.NOT_LOADED||n===c.FragmentState.PARTIAL?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(l.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new s.default(this.hls,"main")),this.state=y.State.FRAG_LOADING):n===c.FragmentState.APPENDING&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},set:function(t){if(this.state!==t){var e=this.state;this._state=t,g.logger.log("main stream:"+e+"->"+t),this.hls.trigger(l.default.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},enumerable:!0,configurable:!0}),n.prototype.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,d.default.LevelType.MAIN)},Object.defineProperty(n.prototype,"currentLevel",{get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nextBufferedFrag",{get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null},enumerable:!0,configurable:!0}),n.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},Object.defineProperty(n.prototype,"nextLevel",{get:function(){var t=this.nextBufferedFrag;return t?t.level:-1},enumerable:!0,configurable:!0}),n.prototype._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),a.BufferHelper.isBuffered(n,e)?t=this.getBufferedFrag(e):a.BufferHelper.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var i=t;if(i!==this.fragPlaying){this.hls.trigger(l.default.FRAG_CHANGED,{frag:i});var o=i.level;this.fragPlaying&&this.fragPlaying.level===o||this.hls.trigger(l.default.LEVEL_SWITCHED,{level:o}),this.fragPlaying=i}}},n.prototype.immediateLevelSwitch=function(){if(g.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,n=void 0;e?(n=e.paused,e.pause()):n=!0,this.previouslyPaused=n}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)},n.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,a.BufferHelper.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},n.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var n,i=void 0,o=void 0;if((n=this.getBufferedFrag(e.currentTime))&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),e.paused)i=0;else{var r=this.hls.nextLoadLevel,a=this.levels[r],s=this.fragLastKbps;i=s&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*s)+1:0}if((o=this.getBufferedFrag(e.currentTime+i))&&(o=this.followingBufferedFrag(o))){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(o.maxStartPTS,t.POSITIVE_INFINITY)}}},n.prototype.flushMainBuffer=function(t,e){this.state=y.State.BUFFER_FLUSHING;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(l.default.BUFFER_FLUSHING,n)},n.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new f.default(n,e,this.fragmentTracker,this.hls)},n.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(g.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach((function(t){t.details&&t.details.fragments.forEach((function(t){t.backtracked=void 0}))})),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.prototype.onMediaSeeked=function(){var e=this.media,n=e?e.currentTime:void 0;t.isFinite(n)&&g.logger.log("media seeked to "+n.toFixed(3)),this.tick()},n.prototype.onManifestLoading=function(){g.logger.log("trigger BUFFER_RESET"),this.hls.trigger(l.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},n.prototype.onManifestParsed=function(t){var e,n=!1,i=!1;t.levels.forEach((function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=n&&i,this.audioCodecSwitch&&g.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var o=this.config;(o.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(o.startPosition)},n.prototype.onLevelLoaded=function(e){var n=e.details,i=e.level,o=this.levels[this.levelLastLoaded],r=this.levels[i],a=n.totalduration,s=0;if(g.logger.log("level "+i+" loaded ["+n.startSN+","+n.endSN+"],duration:"+a),n.live){var c=r.details;c&&n.fragments.length>0?(p.mergeDetails(c,n),s=n.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,c),n.PTSKnown&&t.isFinite(s)?g.logger.log("live playlist sliding:"+s.toFixed(3)):(g.logger.log("live playlist - outdated PTS, unknown sliding"),b.alignStream(this.fragPrevious,o,n))):(g.logger.log("live playlist - first load, unknown sliding"),n.PTSKnown=!1,b.alignStream(this.fragPrevious,o,n))}else n.PTSKnown=!1;if(r.details=n,this.levelLastLoaded=i,this.hls.trigger(l.default.LEVEL_UPDATED,{details:n,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var u=n.startTimeOffset;t.isFinite(u)?(u<0&&(g.logger.log("negative start time offset "+u+", count from end of last fragment"),u=s+a+u),g.logger.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u):n.live?(this.startPosition=this.computeLivePosition(s,n),g.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===y.State.WAITING_LEVEL&&(this.state=y.State.IDLE),this.tick()},n.prototype.onKeyLoaded=function(){this.state===y.State.KEY_LOADING&&(this.state=y.State.IDLE,this.tick())},n.prototype.onFragLoaded=function(t){var e=this.fragCurrent,n=this.hls,i=this.levels,o=this.media,r=t.frag;if(this.state===y.State.FRAG_LOADING&&e&&"main"===r.type&&r.level===e.level&&r.sn===e.sn){var a=t.stats,c=i[e.level],u=c.details;if(this.bitrateTest=!1,this.stats=a,g.logger.log("Loaded "+e.sn+" of ["+u.startSN+" ,"+u.endSN+"],level "+e.level),r.bitrateTest&&n.nextLoadLevel)this.state=y.State.IDLE,this.startFragRequested=!1,a.tparsed=a.tbuffered=window.performance.now(),n.trigger(l.default.FRAG_BUFFERED,{stats:a,frag:e,id:"main"}),this.tick();else if("initSegment"===r.sn)this.state=y.State.IDLE,a.tparsed=a.tbuffered=window.performance.now(),u.initSegment.data=t.payload,n.trigger(l.default.FRAG_BUFFERED,{stats:a,frag:e,id:"main"}),this.tick();else{g.logger.log("Parsing "+e.sn+" of ["+u.startSN+" ,"+u.endSN+"],level "+e.level+", cc "+e.cc),this.state=y.State.PARSING,this.pendingBuffering=!0,this.appended=!1,r.bitrateTest&&(r.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:r}));var d=!(o&&o.seeking)&&(u.PTSKnown||!u.live),p=u.initSegment?u.initSegment.data:[],h=this._getAudioCodec(c);(this.demuxer=this.demuxer||new s.default(this.hls,"main")).push(t.payload,p,h,c.videoCodec,e,u.totalduration,d)}}this.fragLoadError=0},n.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===y.State.PARSING){var i=t.tracks,o=void 0,r=void 0;if(i.audio&&this.altAudio&&delete i.audio,r=i.audio){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==r.container&&(a="mp4a.40.2",g.logger.log("Android: force audio codec to "+a)),r.levelCodec=a,r.id=t.id}for(o in(r=i.video)&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=t.id),this.hls.trigger(l.default.BUFFER_CODECS,i),i){r=i[o],g.logger.log("main track:"+o+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var c=r.initSegment;c&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,{type:o,data:c,parent:"main",content:"initSegment"}))}this.tick()}},n.prototype.onFragParsingData=function(e){var n=this,i=this.fragCurrent,o=e.frag;if(i&&"main"===e.id&&o.sn===i.sn&&o.level===i.level&&("audio"!==e.type||!this.altAudio)&&this.state===y.State.PARSING){var r=this.levels[this.level],a=i;if(t.isFinite(e.endPTS)||(e.endPTS=e.startPTS+i.duration,e.endDTS=e.startDTS+i.duration),!0===e.hasAudio&&a.addElementaryStream(u.default.ElementaryStreamTypes.AUDIO),!0===e.hasVideo&&a.addElementaryStream(u.default.ElementaryStreamTypes.VIDEO),g.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped)if(a.backtracked)g.logger.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var s=r.details;if(!s||a.sn!==s.startSN)return g.logger.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=y.State.IDLE,this.fragPrevious=a,void this.tick();g.logger.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var c=p.updateFragPTSDTS(r.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),d=this.hls;d.trigger(l.default.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:c,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(t){t&&t.length&&n.state===y.State.PARSING&&(n.appended=!0,n.pendingBuffering=!0,d.trigger(l.default.BUFFER_APPENDING,{type:e.type,data:t,parent:"main",content:"data"}))})),this.tick()}},n.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===y.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=y.State.PARSED,this._checkAppendedParsed())},n.prototype.onAudioTrackSwitching=function(e){var n=!!e.url,i=e.id;if(!n){if(this.mediaBuffer!==this.media){g.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;o.loader&&(g.logger.log("switching to main audio track, cancel main fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=y.State.IDLE}var r=this.hls;r.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:t.POSITIVE_INFINITY,type:"audio"}),r.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}},n.prototype.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(g.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},n.prototype.onBufferCreated=function(t){var e,n,i=t.tracks,o=!1;for(var r in i){var a=i[r];"main"===a.id?(n=r,e=a,"video"===r&&(this.videoBuffer=i[r].buffer)):o=!0}o&&e?(g.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},n.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==y.State.PARSING&&e!==y.State.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},n.prototype._checkAppendedParsed=function(){if(!(this.state!==y.State.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;g.logger.log("main buffered : "+h.default.toString(e.buffered)),this.fragPrevious=t;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(l.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=y.State.IDLE}this.tick()}},n.prototype.onError=function(e){var n=e.frag||this.fragCurrent;if(!n||"main"===n.type){var i=!!this.media&&a.BufferHelper.isBuffered(this.media,this.media.currentTime)&&a.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case _.ErrorDetails.FRAG_LOAD_ERROR:case _.ErrorDetails.FRAG_LOAD_TIMEOUT:case _.ErrorDetails.KEY_LOAD_ERROR:case _.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var o=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);g.logger.warn("mediaController: frag loading failed, retry in "+o+" ms"),this.retryDate=window.performance.now()+o,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=y.State.FRAG_LOADING_WAITING_RETRY}else g.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=y.State.ERROR;break;case _.ErrorDetails.LEVEL_LOAD_ERROR:case _.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==y.State.ERROR&&(e.fatal?(this.state=y.State.ERROR,g.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==y.State.WAITING_LEVEL||(this.state=y.State.IDLE));break;case _.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==y.State.PARSING&&this.state!==y.State.PARSED||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=y.State.IDLE):(g.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,t.POSITIVE_INFINITY)))}}},n.prototype._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,g.logger.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},n.prototype._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},n.prototype.onFragLoadEmergencyAborted=function(){this.state=y.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},n.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;t&&this.fragmentTracker.detectEvictedFragments(u.default.ElementaryStreamTypes.VIDEO,t.buffered),this.state=y.State.IDLE,this.fragPrevious=null},n.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},n.prototype.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},n.prototype._seekToStartPos=function(){var t=this.media,e=t.currentTime,n=t.seeking?e:this.startPosition;e!==n&&(g.logger.log("target start position not buffered, seek to buffered.start(0) "+n+" from current time "+e+" "),t.currentTime=n)},n.prototype._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},Object.defineProperty(n.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t},enumerable:!0,configurable:!0}),n}(y.default);e.default=v}).call(this,n("./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}();e.default=i},"./src/crypt/aes-decryptor.js":function(t,e,n){"use strict";function i(t){var e=t.byteLength,n=e&&new DataView(t).getUint8(e-1);return n?t.slice(0,e-n):t}Object.defineProperty(e,"__esModule",{value:!0}),e.removePadding=i;var o=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),i=0;i<4;i++)n[i]=e.getUint32(4*i);return n},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,i=n[0],o=n[1],r=n[2],a=n[3],s=this.invSubMix,l=s[0],c=s[1],u=s[2],d=s[3],p=new Uint32Array(256),h=0,_=0,g=0;for(g=0;g<256;g++)p[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var b=_^_<<1^_<<2^_<<3^_<<4;b=b>>>8^255&b^99,t[h]=b,e[b]=h;var m=p[h],f=p[m],y=p[f],v=257*p[b]^16843008*b;i[h]=v<<24|v>>>8,o[h]=v<<16|v>>>16,r[h]=v<<8|v>>>24,a[h]=v,v=16843009*y^65537*f^257*m^16843008*h,l[b]=v<<24|v>>>8,c[b]=v<<16|v>>>16,u[b]=v<<8|v>>>24,d[b]=v,h?(h=m^p[p[p[y^m]]],_^=p[p[_]]):h=_=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,i=0;i<e.length&&n;)n=e[i]===this.key[i],i++;if(!n){this.key=e;var o=this.keySize=e.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);var r,a,s,l,c=this.ksRows=4*(o+6+1),u=this.keySchedule=new Uint32Array(c),d=this.invKeySchedule=new Uint32Array(c),p=this.sBox,h=this.rcon,_=this.invSubMix,g=_[0],b=_[1],m=_[2],f=_[3];for(r=0;r<c;r++)r<o?s=u[r]=e[r]:(l=s,r%o==0?(l=p[(l=l<<8|l>>>24)>>>24]<<24|p[l>>>16&255]<<16|p[l>>>8&255]<<8|p[255&l],l^=h[r/o|0]<<24):o>6&&r%o==4&&(l=p[l>>>24]<<24|p[l>>>16&255]<<16|p[l>>>8&255]<<8|p[255&l]),u[r]=s=(u[r-o]^l)>>>0);for(a=0;a<c;a++)r=c-a,l=3&a?u[r]:u[r-4],d[a]=a<4||r<=4?l:g[p[l>>>24]]^b[p[l>>>16&255]]^m[p[l>>>8&255]]^f[p[255&l]],d[a]=d[a]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,n,o){for(var r,a,s,l,c,u,d,p,h,_,g,b,m,f,y=this.keySize+6,v=this.invKeySchedule,I=this.invSBox,F=this.invSubMix,B=F[0],E=F[1],C=F[2],U=F[3],x=this.uint8ArrayToUint32Array_(n),Q=x[0],R=x[1],w=x[2],A=x[3],L=new Int32Array(t),O=new Int32Array(L.length),G=this.networkToHostOrderSwap;e<L.length;){for(h=G(L[e]),_=G(L[e+1]),g=G(L[e+2]),b=G(L[e+3]),c=h^v[0],u=b^v[1],d=g^v[2],p=_^v[3],m=4,f=1;f<y;f++)r=B[c>>>24]^E[u>>16&255]^C[d>>8&255]^U[255&p]^v[m],a=B[u>>>24]^E[d>>16&255]^C[p>>8&255]^U[255&c]^v[m+1],s=B[d>>>24]^E[p>>16&255]^C[c>>8&255]^U[255&u]^v[m+2],l=B[p>>>24]^E[c>>16&255]^C[u>>8&255]^U[255&d]^v[m+3],c=r,u=a,d=s,p=l,m+=4;r=I[c>>>24]<<24^I[u>>16&255]<<16^I[d>>8&255]<<8^I[255&p]^v[m],a=I[u>>>24]<<24^I[d>>16&255]<<16^I[p>>8&255]<<8^I[255&c]^v[m+1],s=I[d>>>24]<<24^I[p>>16&255]<<16^I[c>>8&255]<<8^I[255&u]^v[m+2],l=I[p>>>24]<<24^I[c>>16&255]<<16^I[u>>8&255]<<8^I[255&d]^v[m+3],m+=3,O[e]=G(r^Q),O[e+1]=G(l^R),O[e+2]=G(s^w),O[e+3]=G(a^A),Q=h,R=_,w=g,A=b,e+=4}return o?i(O.buffer):O.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}();e.default=o},"./src/crypt/decrypter.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/crypt/aes-crypto.js"),o=n("./src/crypt/fast-aes-key.js"),r=n("./src/crypt/aes-decryptor.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),l=n("./src/events.js"),c=n("./src/utils/get-self-scope.js").getSelfScope(),u=function(){function t(t,e,n){var i=(void 0===n?{}:n).removePKCS7Padding,o=void 0===i||i;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=o,o)try{var r=c.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,n,a){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var c=this.decryptor;c||(this.decryptor=c=new r.default),c.expandKey(e),a(c.decrypt(t,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var u=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new o.default(u,e)),this.fastAesKey.expandKey().then((function(o){new i.default(u,n).decrypt(t,o).catch((function(i){l.onWebCryptoError(i,t,e,n,a)})).then((function(t){a(t)}))})).catch((function(i){l.onWebCryptoError(i,t,e,n,a)}))}},t.prototype.onWebCryptoError=function(t,e,n,i,o){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,i,o)):(s.logger.error("decrypting error : "+t.message),this.observer.trigger(l.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.default=u},"./src/crypt/fast-aes-key.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}();e.default=i},"./src/demux/aacdemuxer.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/demux/adts.js"),o=n("./src/utils/logger.js"),r=n("./src/demux/id3.js"),a=function(){function e(t,e,n){this.observer=t,this.config=n,this.remuxer=e}return e.prototype.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(t){if(!t)return!1;for(var e=(r.default.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(i.probe(t,e))return o.logger.log("ADTS sync word found !"),!0;return!1},e.prototype.append=function(e,n,a,s){for(var l=this._audioTrack,c=r.default.getID3Data(e,0)||[],u=r.default.getTimeStamp(c),d=t.isFinite(u)?90*u:9e4*n,p=0,h=d,_=e.length,g=c.length,b=[{pts:h,dts:h,data:c}];g<_-1;)if(i.isHeader(e,g)&&g+5<_){i.initTrackConfig(l,this.observer,e,g,l.manifestCodec);var m=i.appendFrame(l,e,g,d,p);if(!m){o.logger.log("Unable to parse AAC frame");break}g+=m.length,h=m.sample.pts,p++}else r.default.isHeader(e,g)?(c=r.default.getID3Data(e,g),b.push({pts:h,dts:h,data:c}),g+=c.length):g++;this.remuxer.remux(l,{samples:[]},{samples:b,inputTimeScale:9e4},{samples:[]},n,a,s)},e.prototype.destroy=function(){},e}();e.default=a}).call(this,n("./src/polyfills/number.js").Number)},"./src/demux/adts.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/logger.js"),o=n("./src/errors.js"),r=n("./src/events.js");function a(t,e,n,a){var s,l,c,u,d,p=navigator.userAgent.toLowerCase(),h=a,_=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&e[n+2])>>>6),!((l=(60&e[n+2])>>>2)>_.length-1))return u=(1&e[n+2])<<2,u|=(192&e[n+3])>>>6,i.logger.log("manifest codec:"+a+",ADTS data:type:"+s+",sampleingIndex:"+l+"["+_[l]+"Hz],channelConfig:"+u),/firefox/i.test(p)?l>=6?(s=5,d=new Array(4),c=l-3):(s=2,d=new Array(2),c=l):-1!==p.indexOf("android")?(s=2,d=new Array(2),c=l):(s=5,d=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&l>=6?c=l-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(l>=6&&1===u||/vivaldi/i.test(p))||!a&&1===u)&&(s=2,d=new Array(2)),c=l)),d[0]=s<<3,d[0]|=(14&l)>>1,d[1]|=(1&l)<<7,d[1]|=u<<3,5===s&&(d[1]|=(14&c)>>1,d[2]=(1&c)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:_[l],channelCount:u,codec:"mp4a.40."+s,manifestCodec:h};t.trigger(r.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}function s(t,e){return 255===t[e]&&240==(246&t[e+1])}function l(t,e){return 1&t[e+1]?7:9}function c(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function u(t){return 9216e4/t}function d(t,e,n,i,o){var r,a,s=t.length;if(r=l(t,e),a=c(t,e),(a-=r)>0&&e+r+a<=s)return{headerLength:r,frameLength:a,stamp:n+i*o}}e.getAudioConfig=a,e.isHeaderPattern=s,e.getHeaderLength=l,e.getFullFrameLength=c,e.isHeader=function(t,e){return!!(e+1<t.length&&s(t,e))},e.probe=function(t,e){if(e+1<t.length&&s(t,e)){var n=l(t,e);e+5<t.length&&(n=c(t,e));var i=e+n;if(i===t.length||i+1<t.length&&s(t,i))return!0}return!1},e.initTrackConfig=function(t,e,n,o,r){if(!t.samplerate){var s=a(e,n,o,r);t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,i.logger.log("parsed codec:"+t.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}},e.getFrameDuration=u,e.parseFrameHeader=d,e.appendFrame=function(t,e,n,i,o){var r=d(e,n,i,o,u(t.samplerate));if(r){var a=r.stamp,s=r.headerLength,l=r.frameLength,c={unit:e.subarray(n+s,n+s+l),pts:a,dts:a};return t.samples.push(c),t.len+=l,{sample:c,length:l+s}}}},"./src/demux/demuxer-inline.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("./src/events.js"),r=n("./src/errors.js"),a=n("./src/crypt/decrypter.js"),s=n("./src/demux/aacdemuxer.js"),l=n("./src/demux/mp4demuxer.js"),c=n("./src/demux/tsdemuxer.js"),u=n("./src/demux/mp3demuxer.js"),d=n("./src/remux/mp4-remuxer.js"),p=n("./src/remux/passthrough-remuxer.js"),h=n("./src/utils/get-self-scope.js"),_=n("./src/utils/logger.js"),g=h.getSelfScope();try{i=g.performance.now.bind(g.performance)}catch(t){_.logger.debug("Unable to use Performance API on this environment"),i=g.Date.now}var b=function(){function t(t,e,n,i){this.observer=t,this.typeSupported=e,this.config=n,this.vendor=i}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,n,r,s,l,c,u,d,p,h,_){var g=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var b=this.decrypter;null==b&&(b=this.decrypter=new a.default(this.observer,this.config));var m=i();b.decrypt(t,e.key.buffer,e.iv.buffer,(function(t){var a=i();g.observer.trigger(o.default.FRAG_DECRYPTED,{stats:{tstart:m,tdecrypt:a}}),g.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,s,l,c,u,d,p,h,_)}))}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,s,l,c,u,d,p,h,_)},t.prototype.pushDecrypted=function(t,e,n,i,a,h,_,g,b,m,f,y){var v=this.demuxer;if(!v||(_||g)&&!this.probe(t)){for(var I=this.observer,F=this.typeSupported,B=this.config,E=[{demux:c.default,remux:d.default},{demux:l.default,remux:p.default},{demux:s.default,remux:d.default},{demux:u.default,remux:d.default}],C=0,U=E.length;C<U;C++){var x=E[C],Q=x.demux.probe;if(Q(t)){var R=this.remuxer=new x.remux(I,B,F,this.vendor);v=new x.demux(I,R,B,F),this.probe=Q;break}}if(!v)return void I.trigger(o.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=v}var w=this.remuxer;(_||g)&&(v.resetInitSegment(n,i,a,m),w.resetInitSegment()),_&&(v.resetTimeStamp(y),w.resetTimeStamp(y)),"function"==typeof v.setDecryptData&&v.setDecryptData(e),v.append(t,h,b,f)},t}();e.default=b},"./src/demux/demuxer-worker.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/demux/demuxer-inline.js"),o=n("./src/events.js"),r=n("./src/utils/logger.js"),a=n("./node_modules/node-libs-browser/node_modules/events/events.js");e.default=function(t){var e=new a.EventEmitter;e.trigger=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e.emit.apply(e,[t,t].concat(n))},e.off=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e.removeListener.apply(e,[t].concat(n))};var n=function(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",(function(o){var a=o.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new i.default(e,a.typeSupported,s,a.vendor),r.enableLogs(s.debug),n("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}})),e.on(o.default.FRAG_DECRYPTED,n),e.on(o.default.FRAG_PARSING_INIT_SEGMENT,n),e.on(o.default.FRAG_PARSED,n),e.on(o.default.ERROR,n),e.on(o.default.FRAG_PARSING_METADATA,n),e.on(o.default.FRAG_PARSING_USERDATA,n),e.on(o.default.INIT_PTS_FOUND,n),e.on(o.default.FRAG_PARSING_DATA,(function(e,n){var i=[],o={event:e,data:n};n.data1&&(o.data1=n.data1.buffer,i.push(n.data1.buffer),delete n.data1),n.data2&&(o.data2=n.data2.buffer,i.push(n.data2.buffer),delete n.data2),t.postMessage(o,i)}))}},"./src/demux/demuxer.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/webworkify-webpack/index.js"),o=n("./src/events.js"),r=n("./src/demux/demuxer-inline.js"),a=n("./src/utils/logger.js"),s=n("./src/errors.js"),l=n("./src/utils/mediasource-helper.js"),c=n("./src/utils/get-self-scope.js"),u=n("./src/observer.js"),d=c.getSelfScope(),p=l.getMediaSource(),h=function(){function e(t,e){var n=this;this.hls=t,this.id=e;var l=this.observer=new u.Observer,c=t.config,h=function(e,i){(i=i||{}).frag=n.frag,i.id=n.id,t.trigger(e,i)};l.on(o.default.FRAG_DECRYPTED,h),l.on(o.default.FRAG_PARSING_INIT_SEGMENT,h),l.on(o.default.FRAG_PARSING_DATA,h),l.on(o.default.FRAG_PARSED,h),l.on(o.default.ERROR,h),l.on(o.default.FRAG_PARSING_METADATA,h),l.on(o.default.FRAG_PARSING_USERDATA,h),l.on(o.default.INIT_PTS_FOUND,h);var _={mp4:p.isTypeSupported("video/mp4"),mpeg:p.isTypeSupported("audio/mpeg"),mp3:p.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(c.enableWorker&&"undefined"!=typeof Worker){a.logger.log("demuxing in webworker");var b=void 0;try{b=this.w=i("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),b.addEventListener("message",this.onwmsg),b.onerror=function(e){t.trigger(o.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},b.postMessage({cmd:"init",typeSupported:_,vendor:g,id:e,config:JSON.stringify(c)})}catch(t){a.logger.warn("Error in worker:",t),a.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),b&&d.URL.revokeObjectURL(b.objectURL),this.demuxer=new r.default(l,_,c,g),this.w=void 0}}else this.demuxer=new r.default(l,_,c,g)}return e.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},e.prototype.push=function(e,n,i,o,r,s,l,c){var u=this.w,d=t.isFinite(r.startPTS)?r.startPTS:r.start,p=r.decryptdata,h=this.frag,_=!(h&&r.cc===h.cc),g=!(h&&r.level===h.level),b=h&&r.sn===h.sn+1,m=!g&&b;if(_&&a.logger.log(this.id+":discontinuity detected"),g&&a.logger.log(this.id+":switch detected"),this.frag=r,u)u.postMessage({cmd:"demux",data:e,decryptdata:p,initSegment:n,audioCodec:i,videoCodec:o,timeOffset:d,discontinuity:_,trackSwitch:g,contiguous:m,duration:s,accurateTimeOffset:l,defaultInitPTS:c},e instanceof ArrayBuffer?[e]:[]);else{var f=this.demuxer;f&&f.push(e,p,n,i,o,d,_,g,m,s,l,c)}},e.prototype.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":d.URL.revokeObjectURL(this.w.objectURL);break;case o.default.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},e}();e.default=h}).call(this,n("./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/logger.js"),o=function(){function t(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,i=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");i.set(t.subarray(n,n+o)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o},t.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&i.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},t.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e,n=8,i=8;for(e=0;e<t;e++)0!==i&&(i=(n+this.readEG()+256)%256),n=0===i?n:i},t.prototype.readSPS=function(){var t,e,n,i,o,r,a,s=0,l=0,c=0,u=0,d=this.readUByte.bind(this),p=this.readBits.bind(this),h=this.readUEG.bind(this),_=this.readBoolean.bind(this),g=this.skipBits.bind(this),b=this.skipEG.bind(this),m=this.skipUEG.bind(this),f=this.skipScalingList.bind(this);if(d(),t=d(),p(5),g(3),d(),m(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var y=h();if(3===y&&g(1),m(),m(),g(1),_())for(r=3!==y?8:12,a=0;a<r;a++)_()&&f(a<6?16:64)}m();var v=h();if(0===v)h();else if(1===v)for(g(1),b(),b(),e=h(),a=0;a<e;a++)b();m(),g(1),n=h(),i=h(),0===(o=p(1))&&g(1),g(1),_()&&(s=h(),l=h(),c=h(),u=h());var I=[1,1];if(_()&&_())switch(d()){case 1:I=[1,1];break;case 2:I=[12,11];break;case 3:I=[10,11];break;case 4:I=[16,11];break;case 5:I=[40,33];break;case 6:I=[24,11];break;case 7:I=[20,11];break;case 8:I=[32,11];break;case 9:I=[80,33];break;case 10:I=[18,11];break;case 11:I=[15,11];break;case 12:I=[64,33];break;case 13:I=[160,99];break;case 14:I=[4,3];break;case 15:I=[3,2];break;case 16:I=[2,1];break;case 255:I=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(n+1)-2*s-2*l),height:(2-o)*(i+1)*16-(o?2:4)*(c+u),pixelRatio:I}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}();e.default=o},"./src/demux/id3.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,n){for(var i=n,o=0;t.isHeader(e,n);)o+=10,o+=t._readSize(e,n+6),t.isFooter(e,n+10)&&(o+=10),n+=o;if(o>0)return e.subarray(i,i+o)},t._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3]},t.getTimeStamp=function(e){for(var n=t.getID3Frames(e),i=0;i<n.length;i++){var o=n[i];if(t.isTimeStampFrame(o))return t._readTimeStamp(o)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var n=String.fromCharCode(e[0],e[1],e[2],e[3]),i=t._readSize(e,4);return{type:n,size:i,data:e.subarray(10,10+i)}},t.getID3Frames=function(e){for(var n=0,i=[];t.isHeader(e,n);){for(var o=t._readSize(e,n+6),r=(n+=10)+o;n+8<r;){var a=t._getFrameData(e.subarray(n)),s=t._decodeFrame(a);s&&i.push(s),n+=a.size+10}t.isFooter(e,n)&&(n+=10)}return i},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,n&&(i+=47721858.84),Math.round(i)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var n=t._utf8ArrayToStr(e.data,!0),i=new Uint8Array(e.data.subarray(n.length+1));return{key:e.type,info:n,data:i.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var n=1,i=t._utf8ArrayToStr(e.data.subarray(n));n+=i.length+1;var o=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:o}}var r=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:r}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var n=1,i=t._utf8ArrayToStr(e.data.subarray(n));n+=i.length+1;var o=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:o}}var r=t._utf8ArrayToStr(e.data);return{key:e.type,data:r}},t._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);for(var n,i,o,r=t.length,a="",s=0;s<r;){if(0===(n=t[s++])&&e)return a;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:i=t[s++],a+=String.fromCharCode((31&n)<<6|63&i);break;case 14:i=t[s++],o=t[s++],a+=String.fromCharCode((15&n)<<12|(63&i)<<6|(63&o)<<0)}}return a},t}(),o=i._utf8ArrayToStr;e.utf8ArrayToStr=o,e.default=i},"./src/demux/mp3demuxer.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/demux/id3.js"),o=n("./src/utils/logger.js"),r=n("./src/demux/mpegaudio.js"),a=function(){function t(t,e,n){this.observer=t,this.config=n,this.remuxer=e}return t.prototype.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e,n,a=i.default.getID3Data(t,0);if(a&&void 0!==i.default.getTimeStamp(a))for(e=a.length,n=Math.min(t.length-1,e+100);e<n;e++)if(r.default.probe(t,e))return o.logger.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,n,o){for(var a=i.default.getID3Data(t,0),s=i.default.getTimeStamp(a),l=s?90*s:9e4*e,c=a.length,u=t.length,d=0,p=0,h=this._audioTrack,_=[{pts:l,dts:l,data:a}];c<u;)if(r.default.isHeader(t,c)){var g=r.default.appendFrame(h,t,c,l,d);if(!g)break;c+=g.length,p=g.sample.pts,d++}else i.default.isHeader(t,c)?(a=i.default.getID3Data(t,c),_.push({pts:p,dts:p,data:a}),c+=a.length):c++;this.remuxer.remux(h,{samples:[]},{samples:_,inputTimeScale:9e4},{samples:[]},e,n,o)},t.prototype.destroy=function(){},t}();e.default=a},"./src/demux/mp4demuxer.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/logger.js"),o=n("./src/events.js"),r=Math.pow(2,32)-1,a=function(){function t(t,e){this.observer=t,this.remuxer=e}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,n,i,r){if(e&&e.byteLength){var a=this.initData=t.parseInitSegment(e);null==n&&(n="mp4a.40.5"),null==i&&(i="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:n+","+i,initSegment:r?e:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:r?e:null}),a.video&&(s.video={container:"video/mp4",codec:i,initSegment:r?e:null})),this.observer.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),i&&(this.videoCodec=i)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<8|t[e+1];return n<0?65536+n:n},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},t.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},t.findBox=function(e,n){var i,o,r,a,s,l,c=[];if(e.data?(s=e.start,r=e.end,e=e.data):(s=0,r=e.byteLength),!n.length)return null;for(i=s;i<r;)l=(o=t.readUint32(e,i))>1?i+o:r,t.bin2str(e.subarray(i+4,i+8))===n[0]&&(1===n.length?c.push({data:e,start:i+8,end:l}):(a=t.findBox({data:e,start:i+8,end:l},n.slice(1))).length&&(c=c.concat(a))),i=l;return c},t.parseSegmentIndex=function(e){var n,i=t.findBox(e,["moov"])[0],o=i?i.end:null,r=0,a=t.findBox(e,["sidx"]);if(!a||!a[0])return null;n=[];var s=(a=a[0]).data[0];r=0===s?8:16;var l=t.readUint32(a,r);r+=4,r+=0===s?8:16,r+=2;var c=a.end+0,u=t.readUint16(a,r);r+=2;for(var d=0;d<u;d++){var p=r,h=t.readUint32(a,p);p+=4;var _=2147483647&h;if(1==(2147483648&h)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=t.readUint32(a,p);p+=4,n.push({referenceSize:_,subsegmentDuration:g,info:{duration:g/l,start:c,end:c+_-1}}),c+=_,r=p+=4}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:u,references:n,moovEndOffset:o}},t.parseInitSegment=function(e){var n=[];return t.findBox(e,["moov","trak"]).forEach((function(e){var o=t.findBox(e,["tkhd"])[0];if(o){var r=o.data[o.start],a=0===r?12:20,s=t.readUint32(o,a),l=t.findBox(e,["mdia","mdhd"])[0];if(l){a=0===(r=l.data[l.start])?12:20;var c=t.readUint32(l,a),u=t.findBox(e,["mdia","hdlr"])[0];if(u){var d={soun:"audio",vide:"video"}[t.bin2str(u.data.subarray(u.start+8,u.start+12))];if(d){var p=t.findBox(e,["mdia","minf","stbl","stsd"]);if(p.length){p=p[0];var h=t.bin2str(p.data.subarray(p.start+12,p.start+16));i.logger.log("MP4Demuxer:"+d+":"+h+" found")}n[s]={timescale:c,type:d},n[d]={timescale:c,id:s}}}}}})),n},t.getStartDTS=function(e,n){var i,o,r;return i=t.findBox(n,["moof","traf"]),o=[].concat.apply([],i.map((function(n){return t.findBox(n,["tfhd"]).map((function(i){var o,r;return o=t.readUint32(i,4),r=e[o].timescale||9e4,t.findBox(n,["tfdt"]).map((function(e){var n,i;return n=e.data[e.start],i=t.readUint32(e,4),1===n&&(i*=Math.pow(2,32),i+=t.readUint32(e,8)),i}))[0]/r}))}))),r=Math.min.apply(null,o),isFinite(r)?r:0},t.offsetStartDTS=function(e,n,i){t.findBox(n,["moof","traf"]).map((function(n){return t.findBox(n,["tfhd"]).map((function(o){var a=t.readUint32(o,4),s=e[a].timescale||9e4;t.findBox(n,["tfdt"]).map((function(e){var n=e.data[e.start],o=t.readUint32(e,4);if(0===n)t.writeUint32(e,4,o-i*s);else{o*=Math.pow(2,32),o+=t.readUint32(e,8),o-=i*s,o=Math.max(o,0);var a=Math.floor(o/(r+1)),l=Math.floor(o%(r+1));t.writeUint32(e,4,a),t.writeUint32(e,8,l)}}))}))}))},t.prototype.append=function(e,n,i,r){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,l=this.initPTS;if(void 0===l){var c=t.getStartDTS(a,e);this.initPTS=l=c-n,this.observer.trigger(o.default.INIT_PTS_FOUND,{initPTS:l})}t.offsetStartDTS(a,e,l),s=t.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,s,i,r,e)},t.prototype.destroy=function(){},t}();e.default=a},"./src/demux/mpegaudio.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,i,o){if(!(n+24>e.length)){var r=this.parseHeader(e,n);if(r&&n+r.frameLength<=e.length){var a=i+o*(9e4*r.samplesPerFrame/r.sampleRate),s={unit:e.subarray(n,n+r.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=r.channelCount,t.samplerate=r.sampleRate,t.samples.push(s),t.len+=r.frameLength,{sample:s,length:r.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,o=t[e+1]>>1&3,r=t[e+2]>>4&15,a=t[e+2]>>2&3,s=t[e+2]>>1&1;if(1!==n&&0!==r&&15!==r&&3!==a){var l=3===n?3-o:3===o?3:4,c=1e3*i.BitratesMap[14*l+r-1],u=3===n?0:2===n?1:2,d=i.SamplingRateMap[3*u+a],p=t[e+3]>>6==3?1:2,h=i.SamplesCoefficients[n][o],_=i.BytesInSlot[o],g=8*h*_;return{sampleRate:d,channelCount:p,frameLength:parseInt(h*c/d+s,10)*_,samplesPerFrame:g}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),i=4;n&&n.frameLength&&(i=n.frameLength);var o=e+i;if(o===t.length||o+1<t.length&&this.isHeaderPattern(t,o))return!0}return!1}};e.default=i},"./src/demux/sample-aes.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/crypt/decrypter.js"),o=function(){function t(t,e,n,o){this.decryptdata=n,this.discardEPB=o,this.decrypter=new i.default(t,e,{removePKCS7Padding:!1})}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,n,i){var o=t[e].unit,r=o.subarray(16,o.length-o.length%16),a=r.buffer.slice(r.byteOffset,r.byteOffset+r.length),s=this;this.decryptBuffer(a,(function(r){r=new Uint8Array(r),o.set(r,16),i||s.decryptAacSamples(t,e+1,n)}))},t.prototype.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,i),!i)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),i=0,o=32;o<=t.length-16;o+=160,i+=16)n.set(t.subarray(o,o+16),i);return n},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,i=32;i<=t.length-16;i+=160,n+=16)t.set(e.subarray(n,n+16),i);return t},t.prototype.decryptAvcSample=function(t,e,n,i,o,r){var a=this.discardEPB(o.data),s=this.getAvcEncryptedData(a),l=this;this.decryptBuffer(s.buffer,(function(s){o.data=l.getAvcDecryptedUnit(a,s),r||l.decryptAvcSamples(t,e,n+1,i)}))},t.prototype.decryptAvcSamples=function(t,e,n,i){for(;;e++,n=0){if(e>=t.length)return void i();for(var o=t[e].units;!(n>=o.length);n++){var r=o[n];if(!(r.length<=48||1!==r.type&&5!==r.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,i,r,a),!a)return}}}},t}();e.default=o},"./src/demux/tsdemuxer.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/demux/adts.js"),o=n("./src/demux/mpegaudio.js"),r=n("./src/events.js"),a=n("./src/demux/exp-golomb.js"),s=n("./src/demux/sample-aes.js"),l=n("./src/utils/logger.js"),c=n("./src/errors.js"),u={video:1,audio:2,id3:3,text:4},d=function(){function t(t,e,n,i){this.observer=t,this.config=n,this.typeSupported=i,this.remuxer=e,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new s.default(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var n=t._syncOffset(e);return!(n<0||(n&&l.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:u[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,n,i,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",o),this._audioTrack=t.createTrack("audio",o),this._id3Track=t.createTrack("id3",o),this._txtTrack=t.createTrack("text",o),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=i,this._duration=o},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,n,i,o){var a,s,u,d,p,h=e.length,_=!1;this.contiguous=i;var g=this.pmtParsed,b=this._avcTrack,m=this._audioTrack,f=this._id3Track,y=b.pid,v=m.pid,I=f.pid,F=this._pmtId,B=b.pesData,E=m.pesData,C=f.pesData,U=this._parsePAT,x=this._parsePMT,Q=this._parsePES,R=this._parseAVCPES.bind(this),w=this._parseAACPES.bind(this),A=this._parseMPEGPES.bind(this),L=this._parseID3PES.bind(this),O=t._syncOffset(e);for(h-=(h+O)%188,a=O;a<h;a+=188)if(71===e[a]){if(s=!!(64&e[a+1]),u=((31&e[a+1])<<8)+e[a+2],(48&e[a+3])>>4>1){if((d=a+5+e[a+4])===a+188)continue}else d=a+4;switch(u){case y:s&&(B&&(p=Q(B))&&void 0!==p.pts&&R(p,!1),B={data:[],size:0}),B&&(B.data.push(e.subarray(d,a+188)),B.size+=a+188-d);break;case v:s&&(E&&(p=Q(E))&&void 0!==p.pts&&(m.isAAC?w(p):A(p)),E={data:[],size:0}),E&&(E.data.push(e.subarray(d,a+188)),E.size+=a+188-d);break;case I:s&&(C&&(p=Q(C))&&void 0!==p.pts&&L(p),C={data:[],size:0}),C&&(C.data.push(e.subarray(d,a+188)),C.size+=a+188-d);break;case 0:s&&(d+=e[d]+1),F=this._pmtId=U(e,d);break;case F:s&&(d+=e[d]+1);var G=x(e,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(y=G.avc)>0&&(b.pid=y),(v=G.audio)>0&&(m.pid=v,m.isAAC=G.isAAC),(I=G.id3)>0&&(f.pid=I),_&&!g&&(l.logger.log("reparse from beginning"),_=!1,a=O-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:_=!0}}else this.observer.trigger(r.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});B&&(p=Q(B))&&void 0!==p.pts?(R(p,!0),b.pesData=null):b.pesData=B,E&&(p=Q(E))&&void 0!==p.pts?(m.isAAC?w(p):A(p),m.pesData=null):(E&&E.size&&l.logger.log("last AAC PES packet truncated,might overlap between fragments"),m.pesData=E),C&&(p=Q(C))&&void 0!==p.pts?(L(p),f.pesData=null):f.pesData=C,null==this.sampleAes?this.remuxer.remux(m,b,f,this._txtTrack,n,i,o):this.decryptAndRemux(m,b,f,this._txtTrack,n,i,o)},t.prototype.decryptAndRemux=function(t,e,n,i,o,r,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,(function(){s.decryptAndRemuxAvc(t,e,n,i,o,r,a)}))}else this.decryptAndRemuxAvc(t,e,n,i,o,r,a)},t.prototype.decryptAndRemuxAvc=function(t,e,n,i,o,r,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,(function(){s.remuxer.remux(t,e,n,i,o,r,a)}))}else this.remuxer.remux(t,e,n,i,o,r,a)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,n,i){var o,r,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(o=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<o;){switch(r=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){l.logger.log("unkown stream type:"+t[e]);break}case 15:-1===a.audio&&(a.audio=r);break;case 21:-1===a.id3&&(a.id3=r);break;case 219:if(!i){l.logger.log("unkown stream type:"+t[e]);break}case 27:-1===a.avc&&(a.avc=r);break;case 3:case 4:n?-1===a.audio&&(a.audio=r,a.isAAC=!1):l.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:l.logger.warn("HEVC stream type found, not supported for now");break;default:l.logger.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return a},t.prototype._parsePES=function(t){var e,n,i,o,r,a,s,c,u=0,d=t.data;if(!t||0===t.size)return null;for(;d[0].length<19&&d.length>1;){var p=new Uint8Array(d[0].length+d[1].length);p.set(d[0]),p.set(d[1],d[0].length),d[0]=p,d.splice(1,1)}if(1===((e=d[0])[0]<<16)+(e[1]<<8)+e[2]){if((i=(e[4]<<8)+e[5])&&i>t.size-6)return null;192&(n=e[7])&&((a=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2)>4294967295&&(a-=8589934592),64&n?((s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>4294967295&&(s-=8589934592),a-s>54e5&&(l.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),c=(o=e[8])+9,t.size-=c,r=new Uint8Array(t.size);for(var h=0,_=d.length;h<_;h++){var g=(e=d[h]).byteLength;if(c){if(c>g){c-=g;continue}e=e.subarray(c),g-=c,c=0}r.set(e,u),u+=g}return i&&(i-=o+3),{data:r,pts:a,dts:s,len:i}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,i=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,n.push(t)):e.dropped++}t.debug.length&&l.logger.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var n,i,o,r=this,s=this._avcTrack,l=this._parseAVCNALu(t.data),c=this.avcSample,u=!1,d=this.pushAccesUnit.bind(this),p=function(t,e,n,i){return{key:t,pts:e,dts:n,units:[],debug:i}};t.data=null,c&&l.length&&!s.audFound&&(d(c,s),c=this.avcSample=p(!1,t.pts,t.dts,"")),l.forEach((function(e){switch(e.type){case 1:i=!0,c||(c=r.avcSample=p(!0,t.pts,t.dts,"")),c.frame=!0;var l=e.data;if(u&&l.length>4){var h=new a.default(l).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(c.key=!0)}break;case 5:i=!0,c||(c=r.avcSample=p(!0,t.pts,t.dts,"")),c.key=!0,c.frame=!0;break;case 6:i=!0,(n=new a.default(r.discardEPB(e.data))).readUByte();for(var _=0,g=0,b=!1,m=0;!b&&n.bytesAvailable>1;){_=0;do{_+=m=n.readUByte()}while(255===m);g=0;do{g+=m=n.readUByte()}while(255===m);if(4===_&&0!==n.bytesAvailable){if(b=!0,181===n.readUByte()&&49===n.readUShort()&&1195456820===n.readUInt()&&3===n.readUByte()){var f=n.readUByte(),y=31&f,v=[f,n.readUByte()];for(o=0;o<y;o++)v.push(n.readUByte()),v.push(n.readUByte()),v.push(n.readUByte());r._insertSampleInOrder(r._txtTrack.samples,{type:3,pts:t.pts,bytes:v})}}else if(g<n.bytesAvailable)for(o=0;o<g;o++)n.readUByte()}break;case 7:if(i=!0,u=!0,!s.sps){var I=(n=new a.default(e.data)).readSPS();s.width=I.width,s.height=I.height,s.pixelRatio=I.pixelRatio,s.sps=[e.data],s.duration=r._duration;var F=e.data.subarray(1,4),B="avc1.";for(o=0;o<3;o++){var E=F[o].toString(16);E.length<2&&(E="0"+E),B+=E}s.codec=B}break;case 8:i=!0,s.pps||(s.pps=[e.data]);break;case 9:i=!1,s.audFound=!0,c&&d(c,s),c=r.avcSample=p(!1,t.pts,t.dts,"");break;case 12:i=!1;break;default:i=!1,c&&(c.debug+="unknown NAL "+e.type+" ")}c&&i&&c.units.push(e)})),e&&c&&(d(c,s),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var i=n-1;i>=0;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var n=this._avcTrack.samples;e=n[n.length-1]}if(e){var i=e.units;t=i[i.length-1]}return t},t.prototype._parseAVCNALu=function(t){var e,n,i,o,r=0,a=t.byteLength,s=this._avcTrack,l=s.naluState||0,c=l,u=[],d=-1;for(-1===l&&(d=0,o=31&t[0],l=0,r=1);r<a;)if(e=t[r++],l)if(1!==l)if(e)if(1===e){var p,h;d>=0?(i={data:t.subarray(d,r-l-1),type:o},u.push(i)):(p=this._getLastNalUnit())&&(c&&r<=4-c&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-c)),(n=r-l-1)>0&&((h=new Uint8Array(p.data.byteLength+n)).set(p.data,0),h.set(t.subarray(0,n),p.data.byteLength),p.data=h)),r<a?(d=r,o=31&t[r],l=0):l=-1}else l=0;else l=3;else l=e?0:2;else l=e?0:1;return d>=0&&l>=0&&(i={data:t.subarray(d,a),type:o,state:l},u.push(i)),0===u.length&&(p=this._getLastNalUnit())&&((h=new Uint8Array(p.data.byteLength+t.byteLength)).set(p.data,0),h.set(t,p.data.byteLength),p.data=h),s.naluState=l,u},t.prototype.discardEPB=function(t){for(var e,n,i=t.byteLength,o=[],r=1;r<i-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(o.push(r+2),r+=2):r++;if(0===o.length)return t;e=i-o.length,n=new Uint8Array(e);var a=0;for(r=0;r<e;a++,r++)a===o[0]&&(a++,o.shift()),n[r]=t[a];return n},t.prototype._parseAACPES=function(t){var e,n,o,a,s,u=this._audioTrack,d=t.data,p=t.pts,h=this.aacOverFlow,_=this.aacLastPTS;if(h){var g=new Uint8Array(h.byteLength+d.byteLength);g.set(h,0),g.set(d,h.byteLength),d=g}for(o=0,s=d.length;o<s-1&&!i.isHeader(d,o);o++);if(o){var b=void 0,m=void 0;if(o<s-1?(b="AAC PES did not start with ADTS header,offset:"+o,m=!1):(b="no ADTS header found in AAC PES",m=!0),l.logger.warn("parsing error:"+b),this.observer.trigger(r.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:m,reason:b}),m)return}if(i.initTrackConfig(u,this.observer,d,o,this.audioCodec),n=0,e=i.getFrameDuration(u.samplerate),h&&_){var f=_+e;Math.abs(f-p)>1&&(l.logger.log("AAC: align PTS for overlapping frames by "+Math.round((f-p)/90)),p=f)}for(;o<s;)if(i.isHeader(d,o)&&o+5<s){var y=i.appendFrame(u,d,o,p,n);if(!y)break;o+=y.length,a=y.sample.pts,n++}else o++;h=o<s?d.subarray(o,s):null,this.aacOverFlow=h,this.aacLastPTS=a},t.prototype._parseMPEGPES=function(t){for(var e=t.data,n=e.length,i=0,r=0,a=t.pts;r<n;)if(o.default.isHeader(e,r)){var s=o.default.appendFrame(this._audioTrack,e,r,a,i);if(!s)break;r+=s.length,i++}else r++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}();e.default=d},"./src/empty.js":function(t,e){t.exports=void 0},"./src/errors.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},e.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/logger.js"),o=n("./src/errors.js"),r=n("./src/events.js"),a={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.hls=t,this.onEvent=this.onEvent.bind(this),this.handledEvents=e,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.prototype.onHandlerDestroying=function(){},t.prototype.onHandlerDestroyed=function(){},t.prototype.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){if(a[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)}),this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){this.hls.off(t,this.onEvent)}),this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){try{(function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,t,e).call()}catch(e){i.logger.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(r.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}();e.default=s},"./src/events.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),a=n("./src/errors.js"),s=n("./src/loader/playlist-loader.js"),l=n("./src/loader/fragment-loader.js"),c=n("./src/loader/key-loader.js"),u=n("./src/controller/fragment-tracker.js"),d=n("./src/controller/stream-controller.js"),p=n("./src/controller/level-controller.js"),h=n("./src/controller/id3-track-controller.js"),_=n("./src/is-supported.js"),g=n("./src/utils/logger.js"),b=n("./src/config.js"),m=n("./src/events.js"),f=function(t){function e(n){void 0===n&&(n={});var i=t.call(this)||this,o=e.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in o)r in n||(n[r]=o[r]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');g.enableLogs(n.debug),i.config=n,i._autoLevelCapping=-1;var a=i.abrController=new n.abrController(i),_=new n.bufferController(i),b=new n.capLevelController(i),m=new n.fpsController(i),f=new s.default(i),y=new l.default(i),v=new c.default(i),I=new h.default(i),F=i.levelController=new p.default(i),B=new u.FragmentTracker(i),E=[F,i.streamController=new d.default(i,B)],C=n.audioStreamController;C&&E.push(new C(i,B)),i.networkControllers=E;var U=[f,y,v,a,_,b,m,I,B];if(C=n.audioTrackController){var x=new C(i);i.audioTrackController=x,U.push(x)}if(C=n.subtitleTrackController){var Q=new C(i);i.subtitleTrackController=Q,E.push(Q)}if(C=n.emeController){var R=new C(i);i.emeController=R,U.push(R)}return(C=n.subtitleStreamController)&&E.push(new C(i,B)),(C=n.timelineController)&&U.push(new C(i)),i.coreComponents=U,i}return o(e,t),Object.defineProperty(e,"version",{get:function(){return"0.12.4"},enumerable:!0,configurable:!0}),e.isSupported=function(){return _.isSupported()},Object.defineProperty(e,"Events",{get:function(){return m.default},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ErrorTypes",{get:function(){return a.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ErrorDetails",{get:function(){return a.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DefaultConfig",{get:function(){return e.defaultConfig?e.defaultConfig:b.hlsDefaultConfig},set:function(t){e.defaultConfig=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){g.logger.log("destroy"),this.trigger(m.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(t){t.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},e.prototype.attachMedia=function(t){g.logger.log("attachMedia"),this.media=t,this.trigger(m.default.MEDIA_ATTACHING,{media:t})},e.prototype.detachMedia=function(){g.logger.log("detachMedia"),this.trigger(m.default.MEDIA_DETACHING),this.media=null},e.prototype.loadSource=function(t){t=r.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),g.logger.log("loadSource:"+t),this.url=t,this.trigger(m.default.MANIFEST_LOADING,{url:t})},e.prototype.startLoad=function(t){void 0===t&&(t=-1),g.logger.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},e.prototype.stopLoad=function(){g.logger.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},e.prototype.swapAudioCodec=function(){g.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},e.prototype.recoverMediaError=function(){g.logger.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Object.defineProperty(e.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(t){g.logger.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(t){g.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(t){g.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){g.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(t){g.logger.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(t){g.logger.log("set autoLevelCapping:"+t),this._autoLevelCapping=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minAutoLevel",{get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,i=0;i<n;i++)if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>e)return i;return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxAutoLevel",{get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioTracks",{get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioTrack",{get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleTracks",{get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleTrack",{get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitleDisplay",{get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)},enumerable:!0,configurable:!0}),e}(n("./src/observer.js").Observer);e.default=f},"./src/is-supported.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/mediasource-helper.js");e.isSupported=function(){var t=i.getMediaSource(),e=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!n&&!!o}},"./src/loader/fragment-loader.js":function(t,e,n){"use strict";(function(t){var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/events.js"),a=n("./src/event-handler.js"),s=n("./src/errors.js"),l=n("./src/utils/logger.js"),c=function(e){function n(t){var n=e.call(this,t,r.default.FRAG_LOADING)||this;return n.loaders={},n}return o(n,e),n.prototype.destroy=function(){var t=this.loaders;for(var n in t){var i=t[n];i&&i.destroy()}this.loaders={},e.prototype.destroy.call(this)},n.prototype.onFragLoading=function(e){var n=e.frag,i=n.type,o=this.loaders,r=this.hls.config,a=r.fLoader,s=r.loader;n.loaded=0;var c,u,d,p=o[i];p&&(l.logger.warn("abort previous fragment loader for type: "+i),p.abort()),p=o[i]=n.loader=r.fLoader?new a(r):new s(r),c={url:n.url,frag:n,responseType:"arraybuffer",progressData:!1};var h=n.byteRangeStartOffset,_=n.byteRangeEndOffset;t.isFinite(h)&&t.isFinite(_)&&(c.rangeStart=h,c.rangeEnd=_),u={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},p.load(c,u,d)},n.prototype.loadsuccess=function(t,e,n,i){void 0===i&&(i=null);var o=t.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(r.default.FRAG_LOADED,{payload:o,frag:a,stats:e,networkDetails:i})},n.prototype.loaderror=function(t,e,n){void 0===n&&(n=null);var i=e.frag,o=i.loader;o&&o.abort(),this.loaders[i.type]=void 0,this.hls.trigger(r.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},n.prototype.loadtimeout=function(t,e,n){void 0===n&&(n=null);var i=e.frag,o=i.loader;o&&o.abort(),this.loaders[i.type]=void 0,this.hls.trigger(r.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},n.prototype.loadprogress=function(t,e,n,i){void 0===i&&(i=null);var o=e.frag;o.loaded=t.loaded,this.hls.trigger(r.default.FRAG_LOAD_PROGRESS,{frag:o,stats:t,networkDetails:i})},n}(a.default);e.default=c}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/fragment.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n("./src/loader/level-key.js"),r=function(){function e(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((t={})[e.ElementaryStreamTypes.AUDIO]=!1,t[e.ElementaryStreamTypes.VIDEO]=!1,t)}return Object.defineProperty(e,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=i.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var t=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var n=this.lastByteRangeEndOffset;t[0]=n||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0],this._byteRange=t}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endProgramDateTime",{get:function(){if(!t.isFinite(this.programDateTime))return null;var e=t.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),e.prototype.addElementaryStream=function(t){this._elementaryStreams[t]=!0},e.prototype.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},e.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},e.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var n=t;return t&&t.method&&t.uri&&!t.iv&&((n=new o.default).method=t.method,n.baseuri=t.baseuri,n.reluri=t.reluri,n.iv=this.createInitializationVector(e)),n},e}();e.default=r}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/events.js"),a=n("./src/event-handler.js"),s=n("./src/errors.js"),l=n("./src/utils/logger.js"),c=function(t){function e(e){var n=t.call(this,e,r.default.KEY_LOADING)||this;return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return o(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},a.default.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,n=e.type,i=this.loaders[n],o=e.decryptdata,a=o.uri;if(a!==this.decrypturl||null===this.decryptkey){var s,c,u,d=this.hls.config;i&&(l.logger.warn("abort previous key loader for type:"+n),i.abort()),e.loader=this.loaders[n]=new d.loader(d),this.decrypturl=a,this.decryptkey=null,s={url:a,frag:e,responseType:"arraybuffer"},c={timeout:d.fragLoadingTimeOut,maxRetry:0,retryDelay:d.fragLoadingRetryDelay,maxRetryDelay:d.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(s,c,u)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(r.default.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,n){var i=n.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(t.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(r.default.KEY_LOADED,{frag:i})},e.prototype.loaderror=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(r.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},e.prototype.loadtimeout=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(r.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}(a.default);e.default=c},"./src/loader/level-key.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=function(){function t(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(t.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=i.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),t}();e.default=o},"./src/loader/level.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}return Object.defineProperty(e.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!t.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),e}();e.default=n}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n("./src/loader/fragment.js"),r=n("./src/loader/level.js"),a=n("./src/loader/level-key.js"),s=n("./src/utils/attr-list.js"),l=n("./src/utils/logger.js"),c=n("./src/utils/codecs.js"),u=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,d=/#EXT-X-MEDIA:(.*)/g,p=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),h=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,_=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function e(){}return e.findGroup=function(t,e){if(!t)return null;for(var n=null,i=0;i<t.length;i++){var o=t[i];o.id===e&&(n=o)}return n},e.convertAVC1ToAVCOTI=function(t){var e,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},e.resolve=function(t,e){return i.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){var i,o=[];function r(t,e){["video","audio"].forEach((function(n){var i=t.filter((function(t){return c.isCodecType(t,n)}));if(i.length){var o=i.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[n+"Codec"]=o.length>0?o[0]:i[0],t=t.filter((function(t){return-1===i.indexOf(t)}))}})),e.unknownCodecs=t}for(u.lastIndex=0;null!=(i=u.exec(t));){var a={},l=a.attrs=new s.default(i[1]);a.url=e.resolve(i[2],n);var d=l.decimalResolution("RESOLUTION");d&&(a.width=d.width,a.height=d.height),a.bitrate=l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),a.name=l.NAME,r([].concat((l.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=e.convertAVC1ToAVCOTI(a.videoCodec)),o.push(a)}return o},e.parseMasterPlaylistMedia=function(t,n,i,o){var r;void 0===o&&(o=[]);var a=[],l=0;for(d.lastIndex=0;null!==(r=d.exec(t));){var c={},u=new s.default(r[1]);if(u.TYPE===i){if(c.groupId=u["GROUP-ID"],c.name=u.NAME,c.type=i,c.default="YES"===u.DEFAULT,c.autoselect="YES"===u.AUTOSELECT,c.forced="YES"===u.FORCED,u.URI&&(c.url=e.resolve(u.URI,n)),c.lang=u.LANGUAGE,c.name||(c.name=c.lang),o.length){var p=e.findGroup(o,c.groupId);c.audioCodec=p?p.codec:o[0].codec}c.id=l++,a.push(c)}}return a},e.parseLevelPlaylist=function(e,n,i,c,u){var d,g,m=0,f=0,y=new r.default(n),v=new a.default,I=0,F=null,B=new o.default,E=null;for(p.lastIndex=0;null!==(d=p.exec(e));){var C=d[1];if(C){B.duration=parseFloat(C);var U=(" "+d[2]).slice(1);B.title=U||null,B.tagList.push(U?["INF",C,U]:["INF",C])}else if(d[3]){if(t.isFinite(B.duration)){var x=m++;B.type=c,B.start=f,B.levelkey=v,B.sn=x,B.level=i,B.cc=I,B.urlId=u,B.baseurl=n,B.relurl=(" "+d[3]).slice(1),b(B,F),y.fragments.push(B),F=B,f+=B.duration,B=new o.default}}else if(d[4]){if(B.rawByteRange=(" "+d[4]).slice(1),F){var Q=F.byteRangeEndOffset;Q&&(B.lastByteRangeEndOffset=Q)}}else if(d[5])B.rawProgramDateTime=(" "+d[5]).slice(1),B.tagList.push(["PROGRAM-DATE-TIME",B.rawProgramDateTime]),null===E&&(E=y.fragments.length);else{for(d=d[0].match(h),g=1;g<d.length&&void 0===d[g];g++);var R=(" "+d[g+1]).slice(1),w=(" "+d[g+2]).slice(1);switch(d[g]){case"#":B.tagList.push(w?[R,w]:[R]);break;case"PLAYLIST-TYPE":y.type=R.toUpperCase();break;case"MEDIA-SEQUENCE":m=y.startSN=parseInt(R);break;case"TARGETDURATION":y.targetduration=parseFloat(R);break;case"VERSION":y.version=parseInt(R);break;case"EXTM3U":break;case"ENDLIST":y.live=!1;break;case"DIS":I++,B.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":I=parseInt(R);break;case"KEY":var A=R,L=new s.default(A),O=L.enumeratedString("METHOD"),G=L.URI,k=L.hexadecimalInteger("IV");O&&(v=new a.default,G&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(O)>=0&&(v.method=O,v.baseuri=n,v.reluri=G,v.key=null,v.iv=k));break;case"START":var S=R,T=new s.default(S).decimalFloatingPoint("TIME-OFFSET");t.isFinite(T)&&(y.startTimeOffset=T);break;case"MAP":var W=new s.default(R);B.relurl=W.URI,B.rawByteRange=W.BYTERANGE,B.baseurl=n,B.level=i,B.type=c,B.sn="initSegment",y.initSegment=B,(B=new o.default).rawProgramDateTime=y.initSegment.rawProgramDateTime;break;default:l.logger.warn("line parsed but not handled: "+d)}}}return(B=F)&&!B.relurl&&(y.fragments.pop(),f-=B.duration),y.totalduration=f,y.averagetargetduration=f/y.fragments.length,y.endSN=m-1,y.startCC=y.fragments[0]?y.fragments[0].cc:0,y.endCC=I,!y.initSegment&&y.fragments.length&&y.fragments.every((function(t){return _.test(t.relurl)}))&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(B=new o.default).relurl=y.fragments[0].relurl,B.baseurl=n,B.level=i,B.type=c,B.sn="initSegment",y.initSegment=B,y.needSidxRanges=!0),E&&function(t,e){for(var n=t[e],i=e-1;i>=0;i--){var o=t[i];o.programDateTime=n.programDateTime-1e3*o.duration,n=o}}(y.fragments,E),y},e}();function b(e,n){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):n&&n.programDateTime&&(e.programDateTime=n.endProgramDateTime),t.isFinite(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}e.default=g}).call(this,n("./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":function(t,e,n){"use strict";(function(t){var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n("./src/events.js"),a=n("./src/event-handler.js"),s=n("./src/errors.js"),l=n("./src/utils/logger.js"),c=n("./src/demux/mp4demuxer.js"),u=n("./src/loader/m3u8-parser.js"),d=window.performance,p={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},h={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},_=function(e){function n(t){var n=e.call(this,t,r.default.MANIFEST_LOADING,r.default.LEVEL_LOADING,r.default.AUDIO_TRACK_LOADING,r.default.SUBTITLE_TRACK_LOADING)||this;return n.loaders={},n}return o(n,e),Object.defineProperty(n,"ContextType",{get:function(){return p},enumerable:!0,configurable:!0}),Object.defineProperty(n,"LevelType",{get:function(){return h},enumerable:!0,configurable:!0}),n.canHaveQualityLevels=function(t){return t!==p.AUDIO_TRACK&&t!==p.SUBTITLE_TRACK},n.mapContextToLevelType=function(t){switch(t.type){case p.AUDIO_TRACK:return h.AUDIO;case p.SUBTITLE_TRACK:return h.SUBTITLE;default:return h.MAIN}},n.getResponseUrl=function(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n},n.prototype.createInternalLoader=function(t){var e=this.hls.config,n=e.pLoader,i=e.loader,o=new(n||i)(e);return t.loader=o,this.loaders[t.type]=o,o},n.prototype.getInternalLoader=function(t){return this.loaders[t.type]},n.prototype.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},n.prototype.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},n.prototype.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},n.prototype.onManifestLoading=function(t){this.load(t.url,{type:p.MANIFEST,level:0,id:null})},n.prototype.onLevelLoading=function(t){this.load(t.url,{type:p.LEVEL,level:t.level,id:t.id})},n.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:p.AUDIO_TRACK,level:null,id:t.id})},n.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:p.SUBTITLE_TRACK,level:null,id:t.id})},n.prototype.load=function(t,e){var n=this.hls.config;l.logger.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var i,o,r,a,s=this.getInternalLoader(e);if(s){var c=s.context;if(c&&c.url===t)return l.logger.trace("playlist request ongoing"),!1;l.logger.warn("aborting previous loader for type: "+e.type),s.abort()}switch(e.type){case p.MANIFEST:i=n.manifestLoadingMaxRetry,o=n.manifestLoadingTimeOut,r=n.manifestLoadingRetryDelay,a=n.manifestLoadingMaxRetryTimeout;break;case p.LEVEL:i=0,o=n.levelLoadingTimeOut;break;default:i=n.levelLoadingMaxRetry,o=n.levelLoadingTimeOut,r=n.levelLoadingRetryDelay,a=n.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(e),e.url=t,e.responseType=e.responseType||"";var u={timeout:o,maxRetry:i,retryDelay:r,maxRetryDelay:a},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return l.logger.debug("Calling internal loader delegate for URL: "+t),s.load(e,u,d),!0},n.prototype.loadsuccess=function(t,e,n,i){if(void 0===i&&(i=null),n.isSidxRequest)return this._handleSidxRequest(t,n),void this._handlePlaylistLoaded(t,e,n,i);this.resetInternalLoader(n.type);var o=t.data;e.tload=d.now(),0===o.indexOf("#EXTM3U")?o.indexOf("#EXTINF:")>0||o.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,n,i):this._handleMasterPlaylist(t,e,n,i):this._handleManifestParsingError(t,n,"no EXTM3U delimiter",i)},n.prototype.loaderror=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!1,t)},n.prototype.loadtimeout=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!0)},n.prototype._handleMasterPlaylist=function(t,e,i,o){var a=this.hls,s=t.data,c=n.getResponseUrl(t,i),d=u.default.parseMasterPlaylist(s,c);if(d.length){var p=d.map((function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}})),h=u.default.parseMasterPlaylistMedia(s,c,"AUDIO",p),_=u.default.parseMasterPlaylistMedia(s,c,"SUBTITLES");if(h.length){var g=!1;h.forEach((function(t){t.url||(g=!0)})),!1===g&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(l.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}a.trigger(r.default.MANIFEST_LOADED,{levels:d,audioTracks:h,subtitles:_,url:c,stats:e,networkDetails:o})}else this._handleManifestParsingError(t,i,"no level found in manifest",o)},n.prototype._handleTrackOrLevelPlaylist=function(e,i,o,a){var s=this.hls,l=o.id,c=o.level,h=o.type,_=n.getResponseUrl(e,o),g=t.isFinite(l)?l:0,b=t.isFinite(c)?c:g,m=n.mapContextToLevelType(o),f=u.default.parseLevelPlaylist(e.data,_,b,m,g);if(f.tload=i.tload,h===p.MANIFEST){var y={url:_,details:f};s.trigger(r.default.MANIFEST_LOADED,{levels:[y],audioTracks:[],url:_,stats:i,networkDetails:a})}if(i.tparsed=d.now(),f.needSidxRanges){var v=f.initSegment.url;this.load(v,{isSidxRequest:!0,type:h,level:c,levelDetails:f,id:l,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else o.levelDetails=f,this._handlePlaylistLoaded(e,i,o,a)},n.prototype._handleSidxRequest=function(t,e){var n=c.default.parseSegmentIndex(new Uint8Array(t.data));if(n){var i=n.references,o=e.levelDetails;i.forEach((function(t,e){var n=t.info,i=o.fragments[e];0===i.byteRange.length&&(i.rawByteRange=String(1+n.end-n.start)+"@"+String(n.start))})),o.initSegment.rawByteRange=String(n.moovEndOffset)+"@0"}},n.prototype._handleManifestParsingError=function(t,e,n,i){this.hls.trigger(r.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:n,networkDetails:i})},n.prototype._handleNetworkError=function(t,e,n,i){var o,a;void 0===n&&(n=!1),void 0===i&&(i=null),l.logger.info("A network error occured while loading a "+t.type+"-type playlist");var c=this.getInternalLoader(t);switch(t.type){case p.MANIFEST:o=n?s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s.ErrorDetails.MANIFEST_LOAD_ERROR,a=!0;break;case p.LEVEL:o=n?s.ErrorDetails.LEVEL_LOAD_TIMEOUT:s.ErrorDetails.LEVEL_LOAD_ERROR,a=!1;break;case p.AUDIO_TRACK:o=n?s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,a=!1;break;default:a=!1}c&&(c.abort(),this.resetInternalLoader(t.type));var u={type:s.ErrorTypes.NETWORK_ERROR,details:o,fatal:a,url:c.url,loader:c,context:t,networkDetails:e};i&&(u.response=i),this.hls.trigger(r.default.ERROR,u)},n.prototype._handlePlaylistLoaded=function(t,e,i,o){var a=i.type,s=i.level,l=i.id,c=i.levelDetails;if(c.targetduration)if(n.canHaveQualityLevels(i.type))this.hls.trigger(r.default.LEVEL_LOADED,{details:c,level:s||0,id:l||0,stats:e,networkDetails:o});else switch(a){case p.AUDIO_TRACK:this.hls.trigger(r.default.AUDIO_TRACK_LOADED,{details:c,id:l,stats:e,networkDetails:o});break;case p.SUBTITLE_TRACK:this.hls.trigger(r.default.SUBTITLE_TRACK_LOADED,{details:c,id:l,stats:e,networkDetails:o})}else this._handleManifestParsingError(t,i,"invalid target duration",o)},n}(a.default);e.default=_}).call(this,n("./src/polyfills/number.js").Number)},"./src/observer.js":function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.emit.apply(this,[t,t].concat(e))},e}(n("./node_modules/eventemitter3/index.js").EventEmitter);e.Observer=r},"./src/polyfills/number.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/get-self-scope.js").getSelfScope().Number;e.Number=i,i.isFinite=i.isFinite||function(t){return"number"==typeof t&&isFinite(t)}},"./src/remux/aac-helper.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}();e.default=i},"./src/remux/mp4-generator.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Math.pow(2,32)-1,o=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:i};var o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=r,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,l,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,o))},t.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),i=8,o=n.length,r=o;o--;)i+=n[o].byteLength;for((e=new Uint8Array(i))[0]=i>>24&255,e[1]=i>>16&255,e[2]=i>>8&255,e[3]=255&i,e.set(t,4),o=0,i=8;o<r;o++)e.set(n[o],i),i+=n[o].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var o=Math.floor(n/(i+1)),r=Math.floor(n%(i+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,n))},t.moov=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,n){n*=e;var o=Math.floor(n/(i+1)),r=Math.floor(n%(i+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var n,i,o=e.samples||[],r=new Uint8Array(4+o.length);for(i=0;i<o.length;i++)n=o[i].flags,r[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,r)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n,i,o,r=[],a=[];for(n=0;n<e.sps.length;n++)o=(i=e.sps[n]).byteLength,r.push(o>>>8&255),r.push(255&o),r=r.concat(Array.prototype.slice.call(i));for(n=0;n<e.pps.length;n++)o=(i=e.pps[n]).byteLength,a.push(o>>>8&255),a.push(255&o),a=a.concat(Array.prototype.slice.call(i));var s=t.box(t.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(a))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var n=e.id,o=e.duration*e.timescale,r=e.width,a=e.height,s=Math.floor(o/(i+1)),l=Math.floor(o%(i+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,n){var o=t.sdtp(e),r=e.id,a=Math.floor(n/(i+1)),s=Math.floor(n%(i+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),t.trun(e,o.length+16+20+8+16+8+8),o)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var i,o,r,a,s,l,c=e.samples||[],u=c.length,d=12+16*u,p=new Uint8Array(d);for(n+=8+d,p.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),i=0;i<u;i++)r=(o=c[i]).duration,a=o.size,s=o.flags,l=o.cts,p.set([r>>>24&255,r>>>16&255,r>>>8&255,255&r,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return t.box(t.types.trun,p)},t.initSegment=function(e){t.types||t.init();var n,i=t.moov(e);return(n=new Uint8Array(t.FTYP.byteLength+i.byteLength)).set(t.FTYP),n.set(i,t.FTYP.byteLength),n},t}();e.default=o},"./src/remux/mp4-remuxer.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/remux/aac-helper.js"),o=n("./src/remux/mp4-generator.js"),r=n("./src/events.js"),a=n("./src/errors.js"),s=n("./src/utils/logger.js"),l=function(){function t(t,e,n,i){this.observer=t,this.config=e,this.typeSupported=n;var o=navigator.userAgent;this.isSafari=i&&i.indexOf("Apple")>-1&&o&&!o.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,n,i,o,a,l){if(this.ISGenerated||this.generateIS(t,e,o),this.ISGenerated){var c=t.samples.length,u=e.samples.length,d=o,p=o;if(c&&u){var h=(t.samples[0].pts-e.samples[0].pts)/e.inputTimeScale;d+=Math.max(0,h),p+=Math.max(0,-h)}if(c){t.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,o));var _=this.remuxAudio(t,d,a,l);if(u){var g=void 0;_&&(g=_.endPTS-_.startPTS),e.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,o)),this.remuxVideo(e,p,a,g,l)}}else if(u){var b=this.remuxVideo(e,p,a,0,l);b&&t.codec&&this.remuxEmptyAudio(t,d,a,b)}}n.samples.length&&this.remuxID3(n,o),i.samples.length&&this.remuxText(i,o),this.observer.trigger(r.default.FRAG_PARSED)},t.prototype.generateIS=function(t,e,n){var i,l,c=this.observer,u=t.samples,d=e.samples,p=this.typeSupported,h="audio/mp4",_={},g={tracks:_},b=void 0===this._initPTS;if(b&&(i=l=1/0),t.config&&u.length&&(t.timescale=t.samplerate,s.logger.log("audio sampling rate : "+t.samplerate),t.isAAC||(p.mpeg?(h="audio/mpeg",t.codec=""):p.mp3&&(t.codec="mp3")),_.audio={container:h,codec:t.codec,initSegment:!t.isAAC&&p.mpeg?new Uint8Array:o.default.initSegment([t]),metadata:{channelCount:t.channelCount}},b&&(i=l=u[0].pts-t.inputTimeScale*n)),e.sps&&e.pps&&d.length){var m=e.inputTimeScale;e.timescale=m,_.video={container:"video/mp4",codec:e.codec,initSegment:o.default.initSegment([e]),metadata:{width:e.width,height:e.height}},b&&(i=Math.min(i,d[0].pts-m*n),l=Math.min(l,d[0].dts-m*n),this.observer.trigger(r.default.INIT_PTS_FOUND,{initPTS:i}))}Object.keys(_).length?(c.trigger(r.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,b&&(this._initPTS=i,this._initDTS=l)):c.trigger(r.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,n,i,l){var c,u,d,p,h,_,g,b=8,m=t.timescale,f=t.samples,y=[],v=f.length,I=this._PTSNormalize,F=this._initPTS,B=this.nextAvcDts,E=this.isSafari;if(0!==v){E&&(n|=f.length&&B&&(l&&Math.abs(e-B/m)<.1||Math.abs(f[0].pts-B-F)<m/5)),n||(B=e*m),f.forEach((function(t){t.pts=I(t.pts-F,B),t.dts=I(t.dts-F,B)})),f.sort((function(t,e){var n=t.dts-e.dts,i=t.pts-e.pts;return n||i||t.id-e.id}));var C=f.reduce((function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)}),0);if(C<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(C/90)+" ms to overcome this issue");for(var U=0;U<f.length;U++)f[U].dts+=C}var x=f[0];h=Math.max(x.dts,0),p=Math.max(x.pts,0);var Q=Math.round((h-B)/90);n&&Q&&(Q>1?s.logger.log("AVC:"+Q+" ms hole between fragments detected,filling it"):Q<-1&&s.logger.log("AVC:"+-Q+" ms overlapping between fragments detected"),h=B,f[0].dts=h,p=Math.max(p-Q,B),f[0].pts=p,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(p/90)+"/"+Math.round(h/90)+",delta:"+Q+" ms")),x=f[f.length-1],g=Math.max(x.dts,0),_=Math.max(x.pts,0,g),E&&(c=Math.round((g-h)/(f.length-1)));var R=0,w=0;for(U=0;U<v;U++){for(var A=f[U],L=A.units,O=L.length,G=0,k=0;k<O;k++)G+=L[k].data.length;w+=G,R+=O,A.length=G,A.dts=E?h+U*c:Math.max(A.dts,h),A.pts=Math.max(A.pts,A.dts)}var S=w+4*R+8;try{u=new Uint8Array(S)}catch(t){return void this.observer.trigger(r.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:S,reason:"fail allocating video mdat "+S})}var T=new DataView(u.buffer);for(T.setUint32(0,S),u.set(o.default.types.mdat,4),U=0;U<v;U++){var W=f[U],N=W.units,D=0,V=void 0;for(k=0,O=N.length;k<O;k++){var X=N[k],Z=X.data,M=X.data.byteLength;T.setUint32(b,M),b+=4,u.set(Z,b),b+=M,D+=4+M}if(E)V=Math.max(0,c*Math.round((W.pts-W.dts)/c));else{if(U<v-1)c=f[U+1].dts-W.dts;else{var Y=this.config,P=W.dts-f[U>0?U-1:U].dts;if(Y.stretchShortVideoTrack){var j=Y.maxBufferHole,H=Math.floor(j*m),J=(i?p+i*m:this.nextAudioPts)-W.pts;J>H?((c=J-P)<0&&(c=P),s.logger.log("It is approximately "+J/90+" ms to the next segment; using duration "+c/90+" ms for the last video frame.")):c=P}else c=P}V=Math.round(W.pts-W.dts)}y.push({size:D,duration:c,cts:V,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:W.key?2:1,isNonSync:W.key?0:1}})}this.nextAvcDts=g+c;var z=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,y.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var $=y[0].flags;$.dependsOn=2,$.isNonSync=0}t.samples=y,d=o.default.moof(t.sequenceNumber++,h,t),t.samples=[];var K={data1:d,data2:u,startPTS:p/m,endPTS:(_+c)/m,startDTS:h/m,endDTS:this.nextAvcDts/m,type:"video",hasAudio:!1,hasVideo:!0,nb:y.length,dropped:z};return this.observer.trigger(r.default.FRAG_PARSING_DATA,K),K}},t.prototype.remuxAudio=function(t,e,n,l){var c,u,d,p,h,_,g,b=t.inputTimeScale,m=t.timescale,f=b/m,y=(t.isAAC?1024:1152)*f,v=this._PTSNormalize,I=this._initPTS,F=!t.isAAC&&this.typeSupported.mpeg,B=t.samples,E=[],C=this.nextAudioPts;if(n|=B.length&&C&&(l&&Math.abs(e-C/b)<.1||Math.abs(B[0].pts-C-I)<20*y),B.forEach((function(t){t.pts=t.dts=v(t.pts-I,e*b)})),0!==(B=B.filter((function(t){return t.pts>=0}))).length){if(n||(C=l?e*b:B[0].pts),t.isAAC)for(var U=this.config.maxAudioFramesDrift,x=0,Q=C;x<B.length;){var R,w=B[x];R=(W=w.pts)-Q;var A=Math.abs(1e3*R/b);if(R<=-U*y)s.logger.warn("Dropping 1 audio frame @ "+(Q/b).toFixed(3)+"s due to "+Math.round(A)+" ms overlap."),B.splice(x,1),t.len-=w.unit.length;else if(R>=U*y&&A<1e4&&Q){var L=Math.round(R/y);s.logger.warn("Injecting "+L+" audio frame @ "+(Q/b).toFixed(3)+"s due to "+Math.round(1e3*R/b)+" ms gap.");for(var O=0;O<L;O++){var G=Math.max(Q,0);(d=i.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),d=w.unit.subarray()),B.splice(x,0,{unit:d,pts:G,dts:G}),t.len+=d.length,Q+=y,x++}w.pts=w.dts=Q,Q+=y,x++}else Math.abs(R),w.pts=w.dts=Q,Q+=y,x++}O=0;for(var k=B.length;O<k;O++){var S=B[O],T=S.unit,W=S.pts;if(void 0!==g)u.duration=Math.round((W-g)/f);else{var N=Math.round(1e3*(W-C)/b),D=0;if(n&&t.isAAC&&N){if(N>0&&N<1e4)D=Math.round((W-C)/y),s.logger.log(N+" ms hole between AAC samples detected,filling it"),D>0&&((d=i.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(d=T.subarray()),t.len+=D*d.length);else if(N<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(C/b).toFixed(3)+"s/"+(W/b).toFixed(3)+"s/"+-N+"ms"),t.len-=T.byteLength;continue}W=C}if(_=W,!(t.len>0))return;var V=F?t.len:t.len+8;c=F?0:8;try{p=new Uint8Array(V)}catch(t){return void this.observer.trigger(r.default.ERROR,{type:a.ErrorTypes.MUX_ERROR,details:a.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:V,reason:"fail allocating audio mdat "+V})}for(F||(new DataView(p.buffer).setUint32(0,V),p.set(o.default.types.mdat,4)),x=0;x<D;x++)(d=i.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),d=T.subarray()),p.set(d,c),c+=d.byteLength,u={size:d.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(u)}p.set(T,c);var X=T.byteLength;c+=X,u={size:X,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(u),g=W}var Z=0,M=E.length;if(M>=2&&(Z=E[M-2].duration,u.duration=Z),M){this.nextAudioPts=C=g+f*Z,t.len=0,t.samples=E,h=F?new Uint8Array:o.default.moof(t.sequenceNumber++,_/f,t),t.samples=[];var Y=_/b,P=C/b,j={data1:h,data2:p,startPTS:Y,endPTS:P,startDTS:Y,endDTS:P,type:"audio",hasAudio:!0,hasVideo:!1,nb:M};return this.observer.trigger(r.default.FRAG_PARSING_DATA,j),j}return null}},t.prototype.remuxEmptyAudio=function(t,e,n,o){var r=t.inputTimeScale,a=r/(t.samplerate?t.samplerate:r),l=this.nextAudioPts,c=(void 0!==l?l:o.startDTS*r)+this._initDTS,u=o.endDTS*r+this._initDTS,d=1024*a,p=Math.ceil((u-c)/d),h=i.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.logger.warn("remux empty Audio"),h){for(var _=[],g=0;g<p;g++){var b=c+g*d;_.push({unit:h,pts:b,dts:b}),t.len+=h.length}t.samples=_,this.remuxAudio(t,e,n)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.prototype.remuxID3=function(t){var e,n=t.samples.length,i=t.inputTimeScale,o=this._initPTS,a=this._initDTS;if(n){for(var s=0;s<n;s++)(e=t.samples[s]).pts=(e.pts-o)/i,e.dts=(e.dts-a)/i;this.observer.trigger(r.default.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[]},t.prototype.remuxText=function(t){t.samples.sort((function(t,e){return t.pts-e.pts}));var e,n=t.samples.length,i=t.inputTimeScale,o=this._initPTS;if(n){for(var a=0;a<n;a++)(e=t.samples[a]).pts=(e.pts-o)/i;this.observer.trigger(r.default.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},t.prototype._PTSNormalize=function(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t},t}();e.default=l},"./src/remux/passthrough-remuxer.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/events.js"),o=function(){function t(t){this.observer=t}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,n,o,r,a,s,l){var c=this.observer,u="";t&&(u+="audio"),e&&(u+="video"),c.trigger(i.default.FRAG_PARSING_DATA,{data1:l,startPTS:r,startDTS:r,type:u,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),c.trigger(i.default.FRAG_PARSED)},t}();e.default=o},"./src/task-loop.js":function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=t.apply(this,[e].concat(n))||this;return o._tickInterval=null,o._tickTimer=null,o._tickCallCount=0,o._boundTick=o.tick.bind(o),o}return o(e,t),e.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.prototype.hasInterval=function(){return!!this._tickInterval},e.prototype.hasNextTick=function(){return!!this._tickTimer},e.prototype.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,t),!0)},e.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},e.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},e.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},e.prototype.doTick=function(){},e}(n("./src/event-handler.js").default);e.default=r},"./src/utils/attr-list.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function e(t){for(var n in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}return e.prototype.decimalInteger=function(e){var n=parseInt(this[e],10);return n>t.MAX_SAFE_INTEGER?1/0:n},e.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)n[i]=parseInt(e.slice(2*i,2*i+2),16);return n}return null},e.prototype.hexadecimalIntegerAsNumber=function(e){var n=parseInt(this[e],16);return n>t.MAX_SAFE_INTEGER?1/0:n},e.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.prototype.enumeratedString=function(t){return this[t]},e.prototype.decimalResolution=function(t){var e=n.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},e.parseAttrList=function(t){var e,n={};for(i.lastIndex=0;null!==(e=i.exec(t));){var o=e[2];0===o.indexOf('"')&&o.lastIndexOf('"')===o.length-1&&(o=o.slice(1,-1)),n[e[1]]=o}return n},e}();e.default=o}).call(this,n("./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={search:function(t,e){for(var n=0,i=t.length-1,o=null,r=null;n<=i;){var a=e(r=t[o=(n+i)/2|0]);if(a>0)n=o+1;else{if(!(a<0))return r;i=o-1}}return null}}},"./src/utils/buffer-helper.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.isBuffered=function(t,e){try{if(t)for(var n=t.buffered,i=0;i<n.length;i++)if(e>=n.start(i)&&e<=n.end(i))return!0}catch(t){}return!1},t.bufferInfo=function(t,e,n){try{if(t){var i=t.buffered,o=[],r=void 0;for(r=0;r<i.length;r++)o.push({start:i.start(r),end:i.end(r)});return this.bufferedInfo(o,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},t.bufferedInfo=function(t,e,n){var i,o,r,a,s,l=[];for(t.sort((function(t,e){var n=t.start-e.start;return n||e.end-t.end})),s=0;s<t.length;s++){var c=l.length;if(c){var u=l[c-1].end;t[s].start-u<n?t[s].end>u&&(l[c-1].end=t[s].end):l.push(t[s])}else l.push(t[s])}for(s=0,i=0,o=r=e;s<l.length;s++){var d=l[s].start,p=l[s].end;if(e+n>=d&&e<p)o=d,i=(r=p)-e;else if(e+n<d){a=d;break}}return{len:i,start:o,end:r,nextStart:a}},t}();e.BufferHelper=i},"./src/utils/codecs.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};e.isCodecType=function(t,e){var n=i[e];return!!n&&!0===n[t.slice(0,4)]},e.isCodecSupportedInMp4=function(t,e){return window.MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}},"./src/utils/discontinuities.js":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/binary-search.js"),o=n("./src/utils/logger.js");function r(t,e){for(var n=null,i=0;i<t.length;i+=1){var o=t[i];if(o&&o.cc===e){n=o;break}}return n}function a(t,e,n){var i=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(i=!0),i}function s(t,e){var n=t.fragments,i=e.fragments;if(i.length&&n.length){var a=r(n,i[0].cc);if(a&&(!a||a.startPTS))return a;o.logger.log("No frag in previous level to align on")}else o.logger.log("No fragments to align")}function l(t,e){e.fragments.forEach((function(e){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}})),e.PTSKnown=!0}function c(t,e,n){if(a(t,n,e)){var i=s(n.details,e);i&&(o.logger.log("Adjusting PTS using last level due to CC increase within current level"),l(i.start,e))}}function u(e,n){if(n&&n.fragments.length){if(!e.hasProgramDateTime||!n.hasProgramDateTime)return;var i=n.fragments[0].programDateTime,r=(e.fragments[0].programDateTime-i)/1e3+n.fragments[0].start;t.isFinite(r)&&(o.logger.log("adjusting PTS using programDateTime delta, sliding:"+r.toFixed(3)),l(r,e))}}e.findFirstFragWithCC=r,e.findFragWithCC=function(t,e){return i.default.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))},e.shouldAlignOnDiscontinuities=a,e.findDiscontinuousReferenceFrag=s,e.adjustPts=l,e.alignStream=function(t,e,n){c(t,n,e),!n.PTSKnown&&e&&u(n,e.details)},e.alignDiscontinuities=c,e.alignPDT=u}).call(this,n("./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/ewma.js"),o=function(){function t(t,e,n,o){this.hls=t,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new i.default(e),this.fast_=new i.default(n)}return t.prototype.sample=function(t,e){var n=8e3*e/(t=Math.max(t,this.minDelayMs_)),i=t/1e3;this.fast_.sample(i,n),this.slow_.sample(i,n)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}();e.default=o},"./src/utils/ewma.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}();e.default=i},"./src/utils/get-self-scope.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelfScope=function(){return"undefined"==typeof window?self:window}},"./src/utils/logger.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/get-self-scope.js");function o(){}var r={trace:o,debug:o,log:o,warn:o,info:o,error:o},a=r;function s(t,e){return e="["+t+"] > "+e}var l=i.getSelfScope();function c(t){var e=l.console[t];return e?function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];n[0]&&(n[0]=s(t,n[0])),e.apply(l.console,n)}:o}e.enableLogs=function(t){if(!0===t||"object"==typeof t){!function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];e.forEach((function(e){a[e]=t[e]?t[e].bind(t):c(e)}))}(t,"debug","log","info","warn","error");try{a.log()}catch(t){a=r}}else a=r},e.logger=a},"./src/utils/mediakeys-helper.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;e.requestMediaKeySystemAccess=i},"./src/utils/mediasource-helper.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMediaSource=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/texttrack-utils.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sendAddTrackEvent=function(t,e){var n=null;try{n=new window.Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)},e.clearCurrentCues=function(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}},"./src/utils/time-ranges.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={toString:function(t){for(var e="",n=t.length,i=0;i<n;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e}}},"./src/utils/xhr-loader.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("./src/utils/logger.js"),o=window.performance,r=window.XMLHttpRequest,a=function(){function t(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:o.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t,e=this.context;t=this.loader=new r;var n=this.stats;n.tfirst=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(n){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(n){return void this.callbacks.onError({code:t.status,text:n.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,r=this.stats,a=this.context,s=this.config;if(!r.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(o.now(),r.trequest)),4===n){var l=e.status;if(l>=200&&l<300){r.tload=Math.max(r.tfirst,o.now());var c=void 0,u=void 0;u="arraybuffer"===a.responseType?(c=e.response).byteLength:(c=e.responseText).length,r.loaded=r.total=u;var d={url:e.responseURL,data:c};this.callbacks.onSuccess(d,r,a,e)}else r.retry>=s.maxRetry||l>=400&&l<499?(i.logger.error(l+" while loading "+a.url),this.callbacks.onError({code:l,text:e.statusText},a,e)):(i.logger.warn(l+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},t.prototype.loadtimeout=function(){i.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var i=this.callbacks.onProgress;i&&i(n,this.context,null,e)},t}();e.default=a}}).default},t.exports=i())},function(t,e,n){"use strict";function i(t,e){return e?parseFloat((t/e*100).toFixed(2)):0}function o(t,e){var n=0;if(!t||!t.length)return null;for(;n<t.length-1&&!(t.start(n)<=e&&e<=t.end(n));)n+=1;return{start:t.start(n),end:t.end(n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.getTimePercent=i,e.getOverallBufferedPercent=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),t&&t.length&&n?i(o(t,e).end,n):0},e.getOverallPlayedPercent=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),i(t,e)},e.geOverallBufferLength=function(t){var e=0;if(!t||!t.length)return e;for(var n=0;n<t.length;n+=1)e+=t.end(n)-t.start(n);return e},e.getNearestBufferSegmentInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser="undefined"!=typeof window,e.NativeEnvironmentSupport={MSE:!1,HLS:!1,DASH:!1,MP4:!1,WEBM:!1,OGG:!1,MOV:!1,MKV:!1},function(){if(e.isBrowser){e.NativeEnvironmentSupport.MSE="WebKitMediaSource"in window||"MediaSource"in window;var t=document.createElement("video");"function"==typeof t.canPlayType&&((t.canPlayType("application/x-mpegURL")||t.canPlayType("application/vnd.apple.mpegURL"))&&(e.NativeEnvironmentSupport.HLS=!0),t.canPlayType("application/dash+xml")&&(e.NativeEnvironmentSupport.DASH=!0),t.canPlayType("video/mp4")&&(e.NativeEnvironmentSupport.MP4=!0),t.canPlayType("video/webm")&&(e.NativeEnvironmentSupport.WEBM=!0),t.canPlayType("video/ogg")&&(e.NativeEnvironmentSupport.OGG=!0),t.canPlayType("video/quicktime")&&(e.NativeEnvironmentSupport.MOV=!0),t.canPlayType("video/x-matroska")&&(e.NativeEnvironmentSupport.MKV=!0))}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=/iphone/i,o=/ipod/i,r=/ipad/i,a=/(android)/i,s=/^((?!chrome|android).)*safari/i,l=/^((?!chrome|android|iphone|ipod|ipad).)*safari/i,c=function(){return!!window.MSStream},u=function(){return window.navigator&&window.navigator.userAgent},d=function(){return!c()&&i.test(u())};e.isIPhone=d;var p=function(){return!c()&&o.test(u())};e.isIPod=p;var h=function(){return!c()&&r.test(u())};e.isIPad=h;e.isIOS=function(){return d()||p()||h()};e.isAndroid=function(){return a.test(u())};e.isDesktopSafari=function(){return l.test(u())};e.isSafari=function(){return s.test(u())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),o=n(18);e.MediaStreamDeliveryPriority=o.MediaStreamDeliveryPriority,e.MEDIA_STREAM_DELIVERY_PRIORITY=o.MediaStreamDeliveryPriority,e.MediaStreamType=o.MediaStreamType,e.MEDIA_STREAM_TYPES=o.MediaStreamType,e.MimeToStreamTypeMap=o.MimeToStreamTypeMap;var r=i.__importDefault(n(19));e.UIEvent=r.default,e.UI_EVENTS=r.default;var a=i.__importDefault(n(20));e.VideoEvent=a.default,e.VIDEO_EVENTS=a.default;var s=i.__importDefault(n(21));e.Error=s.default,e.ERRORS=s.default;var l=i.__importDefault(n(22));e.TextLabel=l.default,e.TEXT_LABELS=l.default;var c=i.__importDefault(n(23));e.EngineState=c.default,e.ENGINE_STATES=c.default;var u=i.__importDefault(n(24));e.LiveState=u.default,e.LIVE_STATES=u.default},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MP4="MP4",t.WEBM="WEBM",t.HLS="HLS",t.DASH="DASH",t.OGG="OGG",t.MOV="MOV",t.MKV="MKV"}(i||(i={})),e.MediaStreamType=i;var o,r={"application/x-mpegURL":i.HLS,"application/vnd.apple.mpegURL":i.HLS,"application/dash+xml":i.DASH,"video/mp4":i.MP4,"video/x-mp4":i.MP4,"x-video/mp4":i.MP4,"video/webm":i.WEBM,"video/ogg":i.OGG,"video/quicktime":i.MOV,"video/x-matroska":i.MKV};e.MimeToStreamTypeMap=r,function(t){t[t.NATIVE_PROGRESSIVE=0]="NATIVE_PROGRESSIVE",t[t.ADAPTIVE_VIA_MSE=1]="ADAPTIVE_VIA_MSE",t[t.NATIVE_ADAPTIVE=2]="NATIVE_ADAPTIVE",t[t.FORCED=3]="FORCED"}(o||(o={})),e.MediaStreamDeliveryPriority=o},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.PLAY_CLICK="ui-events/play-click",t.PLAY_OVERLAY_CLICK="ui-events/play-overlay-click",t.PAUSE_CLICK="ui-events/pause-click",t.PROGRESS_CHANGE="ui-events/progress-change",t.PROGRESS_DRAG_STARTED="ui-events/progress-drag-started",t.PROGRESS_DRAG_ENDED="ui-events/progress-drag-ended",t.PROGRESS_SYNC_BUTTON_MOUSE_ENTER="ui-events/progress-sync-button-mouse-enter",t.PROGRESS_SYNC_BUTTON_MOUSE_LEAVE="ui-events/progress-sync-button-mouse-leave",t.PROGRESS_USER_PREVIEWING_FRAME="ui-events/progress-user-previewing-frame",t.VOLUME_CHANGE="ui-events/volume-change",t.MUTE_CLICK="ui-events/mute-click",t.UNMUTE_CLICK="ui-events/unmute-click",t.ENTER_FULL_SCREEN_CLICK="ui-events/enter-full-screen-click",t.EXIT_FULL_SCREEN_CLICK="ui-events/exit-full-screen-click",t.ENTER_PICTURE_IN_PICTURE_CLICK="ui-events/enter-picture-in-picture-click",t.EXIT_PICTURE_IN_PICTURE_CLICK="ui-events/exit-picture-in-picture-click",t.MOUSE_ENTER_ON_PLAYER="ui-events/mouse-enter-on-player",t.MOUSE_MOVE_ON_PLAYER="ui-events/mouse-move-on-player",t.MOUSE_LEAVE_ON_PLAYER="ui-events/mouse-leave-on-player",t.FOCUS_ENTER_ON_PLAYER="ui-events/focus-enter-on-player",t.FOCUS_LEAVE_ON_PLAYER="ui-events/focus-leave-on-player",t.MAIN_BLOCK_HIDE="ui-events/main-block-hide",t.MAIN_BLOCK_SHOW="ui-events/main-block-show",t.LOADER_SHOW="ui-events/loader-show",t.LOADER_HIDE="ui-events/loader-hide",t.LOADING_COVER_SHOW="ui-events/loading-cover-show",t.LOADING_COVER_HIDE="ui-events/loading-cover-hide",t.TOGGLE_PLAYBACK_WITH_KEYBOARD="ui-events/toggle-playback-with-keyboard",t.GO_BACKWARD_WITH_KEYBOARD="ui-events/go-backward-with-keyboard",t.GO_FORWARD_WITH_KEYBOARD="ui-events/go-forward-with-keyboard",t.INCREASE_VOLUME_WITH_KEYBOARD="ui-events/increase-volume-with-keyboard",t.DECREASE_VOLUME_WITH_KEYBOARD="ui-events/decrease-volume-with-keyboard",t.MUTE_WITH_KEYBOARD="ui-events/mute-with-keyboard",t.UNMUTE_WITH_KEYBOARD="ui-events/unmute-with-keyboard",t.HIDE_INTERACTION_INDICATOR="ui-events/hide-interaction-indicator",t.PLAY_WITH_SCREEN_CLICK="ui-events/play-with-screen-click",t.PAUSE_WITH_SCREEN_CLICK="ui-events/pause-with-screen-click",t.ENTER_FULL_SCREEN_WITH_SCREEN_CLICK="ui-events/enter-full-screen-with-screen-click",t.EXIT_FULL_SCREEN_WITH_SCREEN_CLICK="ui-events/exit-full-screen-with-screen-click",t.CONTROL_DRAG_START="ui-events/control-drag-start",t.CONTROL_DRAG_END="ui-events/control-drag-end",t.KEYBOARD_KEYDOWN_INTERCEPTED="ui-events/keyboard-keydown-intercepted",t.FULL_SCREEN_STATE_CHANGED="ui-events/full-screen-state-changed",t.PICTURE_IN_PICTURE_STATUS_CHANGE="ui-events/picture-in-picture-status-changed",t.RESIZE="ui-events/resize"}(i||(i={})),e.default=i},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.ERROR="video-events/error",t.STATE_CHANGED="video-events/state-changed",t.LIVE_STATE_CHANGED="video-events/live-state-changed",t.DYNAMIC_CONTENT_ENDED="video-events/dynamic-content-ended",t.CHUNK_LOADED="video-events/chunk-loaded",t.CURRENT_TIME_UPDATED="video-events/current-time-updated",t.DURATION_UPDATED="video-events/duration-updated",t.SOUND_STATE_CHANGED="video-events/sound-state-changed",t.VOLUME_CHANGED="video-events/volume-changed",t.MUTE_CHANGED="video-events/mute-changed",t.SEEK_IN_PROGRESS="video-events/seek-in-progress",t.UPLOAD_STALLED="video-events/upload-stalled",t.UPLOAD_SUSPEND="video-events/upload-suspend",t.PLAY_REQUEST="video-events/play-request",t.PLAY_ABORTED="video-events/play-aborted",t.RESET="video-events/reset-playback"}(i||(i={})),e.default=i},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.SRC_PARSE="error-src-parse",t.MANIFEST_LOAD="error-manifest-load",t.MANIFEST_PARSE="error-manifest-parse",t.MANIFEST_INCOMPATIBLE="error-manifest-incompatible",t.LEVEL_LOAD="error-level-load",t.CONTENT_LOAD="error-content-load",t.CONTENT_PARSE="error-content-parse",t.MEDIA="error-media",t.UNKNOWN="error-unknown"}(i||(i={})),e.default=i},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.LOGO_LABEL="logo-label",t.LOGO_TOOLTIP="logo-tooltip",t.LIVE_INDICATOR_TEXT="live-indicator-text",t.LIVE_SYNC_LABEL="live-sync-button-label",t.LIVE_SYNC_TOOLTIP="live-sync-button-tooltip",t.ENTER_FULL_SCREEN_LABEL="enter-full-screen-label",t.ENTER_FULL_SCREEN_TOOLTIP="enter-full-screen-tooltip",t.EXIT_FULL_SCREEN_LABEL="exit-full-screen-label",t.EXIT_FULL_SCREEN_TOOLTIP="exit-full-screen-tooltip",t.ENTER_PICTURE_IN_PICTURE_LABEL="enter-picture-in-picture-button-label",t.ENTER_PICTURE_IN_PICTURE_TOOLTIP="enter-picture-in-picture-button-tooltip",t.EXIT_PICTURE_IN_PICTURE_LABEL="exit-picture-in-picture-button-label",t.EXIT_PICTURE_IN_PICTURE_TOOLTIP="exit-picture-in-picture-button-tooltip",t.PLAY_CONTROL_LABEL="play-control-label",t.PAUSE_CONTROL_LABEL="pause-control-label",t.PROGRESS_CONTROL_LABEL="progress-control-label",t.PROGRESS_CONTROL_VALUE="progress-control-value",t.UNMUTE_CONTROL_LABEL="unmute-control-label",t.UNMUTE_CONTROL_TOOLTIP="unmute-control-label",t.MUTE_CONTROL_LABEL="mute-control-label",t.MUTE_CONTROL_TOOLTIP="mute-control-tooltip",t.VOLUME_CONTROL_LABEL="volume-control-label",t.VOLUME_CONTROL_VALUE="volume-control-value",t.DOWNLOAD_BUTTON_LABEL="download-button-label",t.DOWNLOAD_BUTTON_TOOLTIP="download-button-tooltip"}(i||(i={})),e.default=i},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.SRC_SET="engine-state/src-set",t.LOAD_STARTED="engine-state/load-started",t.METADATA_LOADED="engine-state/metadata-loaded",t.READY_TO_PLAY="engine-state/ready-to-play",t.SEEK_IN_PROGRESS="engine-state/seek-in-progress",t.PLAY_REQUESTED="engine-state/play-requested",t.WAITING="engine-state/waiting",t.PLAYING="engine-state/playing",t.PAUSED="engine-state/paused",t.ENDED="engine-state/ended"}(i||(i={})),e.default=i},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.NONE="live-state/none",t.INITIAL="live-state/initial",t.NOT_SYNC="live-state/not-sync",t.SYNC="live-state/sync",t.ENDED="live-state/ended"}(i||(i={})),e.default=i},function(t,e,n){(e=t.exports=n(4)(!1)).push([t.i,".B1lGL{position:absolute;z-index:100;top:0;right:0;bottom:0;left:0;display:none}.B1lGL._1URtI{display:flex;justify-content:center;align-items:center}._1uwOI{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;background:black no-repeat center;background-size:cover;justify-content:center;align-items:center}._1uwOI:before{position:absolute;top:0;left:0;width:100%;height:100%;content:'';background-color:rgba(0,0,0,0.35)}.AQ0UB{position:relative;width:71px;height:71px;cursor:pointer;opacity:1}.AQ0UB:hover{opacity:.8}._3CKqa{fill:white}._2T3h2{stroke:white}\n",""]),e.locals={overlay:"B1lGL",active:"_1URtI",poster:"_1uwOI",icon:"AQ0UB",svgFill:"_3CKqa",svgStroke:"_2T3h2"}},function(t,e,n){(e=t.exports=n(4)(!1)).push([t.i,"._1cEBn{position:absolute;z-index:90;top:0;right:0;bottom:0;left:0;background-color:black}._1MMTz{position:absolute;z-index:90;top:50%;left:50%;display:none;clip:rect(0, 48px, 48px, 24px);width:42px;height:42px;margin-top:-21px;margin-left:-21px;-webkit-animation:_3eLdX 1s linear infinite;animation:_3eLdX 1s linear infinite;color:white}._1MMTz._1t3sb{display:block}._1MMTz::after{clip:rect(4px, 48px, 48px, 24px);-webkit-animation:_2O08I 1s linear infinite;animation:_2O08I 1s linear infinite;position:absolute;top:0;right:0;bottom:0;left:0;content:'';border:3px solid currentColor;border-radius:50%}._1MMTz::before{clip:rect(0, 48px, 48px, 24px);-webkit-animation:_3vDG6 1s linear infinite;animation:_3vDG6 1s linear infinite;position:absolute;top:0;right:0;bottom:0;left:0;content:'';border:3px solid currentColor;border-radius:50%}@-webkit-keyframes _2O08I{50%{clip:rect(42px, 48px, 48px, 24px);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}}@keyframes _2O08I{50%{clip:rect(42px, 48px, 48px, 24px);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}}@-webkit-keyframes _3vDG6{50%{clip:rect(0, 48px, 9px, 24px);transform:rotate(135deg);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}}@keyframes _3vDG6{50%{clip:rect(0, 48px, 9px, 24px);transform:rotate(135deg);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}}@-webkit-keyframes _3eLdX{from{transform:rotate(0);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}45%{transform:rotate(18deg);color:white}55%{transform:rotate(54deg)}to{transform:rotate(360deg)}}@keyframes _3eLdX{from{transform:rotate(0);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}45%{transform:rotate(18deg);color:white}55%{transform:rotate(54deg)}to{transform:rotate(360deg)}}\n",""]),e.locals={wrapper:"_1cEBn",loader:"_1MMTz",rotate:"_3eLdX",active:"_1t3sb",clip:"_2O08I","clip-reverse":"_3vDG6",clipReverse:"_3vDG6"}},function(t,e,n){(e=t.exports=n(4)(!1)).push([t.i,"._1c7iJ{position:relative;z-index:50;width:100%;height:100%}.T7_S2{position:relative}.luLIo{height:0;width:0;visibility:hidden}\n",""]),e.locals={playerContainer:"_1c7iJ",mainContainer:"T7_S2",mockedVideo:"luLIo"}},function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return m}));var i=n(0),o=n.n(i),r=n(7),a=n.n(r),s=n(1),l=n(8),c=n.n(l),u=n(9),d=n.n(u),p=n(5),h=n.n(p);function _(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild}var g=function(){function t(t,e,n,i){this.callbacks=i,this._initUI(t,e,n),this._bindEventListeners()}return t.prototype._initUI=function(t,e,n){var i;this.overlay=_('<div\n    class="'+(i={styles:c.a}).styles.overlay+" "+i.styles.active+'"\n    data-hook="overlay"\n    >\n    <div\n      class="'+i.styles.poster+'"\n      data-hook="overlay-content"\n      >\n    </div>\n    <div\n      class="'+i.styles.icon+'"\n      data-hook="overlay-play-button"\n      >\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 36 36"\n        preserveAspectRatio="xMidYMin slice"\n        width="100%"\n        style="padding-bottom: 100%; height: 1px; overflow: visible"\n        >\n        \x3c!-- padding-bottom: 100% * height/width --\x3e\n        <g\n          fill="none"\n          fill-rule="evenodd"\n          >\n          <circle\n            cx="18"\n            cy="18"\n            r="17"\n            class="'+i.styles.svgStroke+'"\n            stroke-width="2"\n            />\n          <path\n            class="'+i.styles.svgFill+'"\n            d="M23.935 17.708l-10.313 6.033V11.676z"\n            />\n        </g>\n      </svg>\n    </div>\n  </div>'),this.loader=_(function(t){return'\n  <div class="'+t.styles.wrapper+'">\n  <div\n    class="'+t.styles.loader+" "+t.styles.active+'"\n    data-hook="loader"\n    >\n    </div>\n  </div>'}({styles:d.a})),this.playerContainer=document.createElement("div"),this.playerContainer.setAttribute("data-player-container","true"),this.playerContainer.classList.add(h.a.playerContainer),this.rootNode=document.createElement("div"),this.rootNode.classList.add(h.a.mainContainer),n?(this.rootNode.style.width="100%",this.rootNode.style.height="100%"):(this.rootNode.style.width=t?t+"px":"",this.rootNode.style.height=e?e+"px":""),this.rootNode.appendChild(this.overlay),this.rootNode.appendChild(this.loader),this.rootNode.appendChild(this.playerContainer)},t.prototype._bindEventListeners=function(){this.overlay.querySelector('[data-hook="overlay-play-button"]').addEventListener("click",this.callbacks.onPlayClick)},t.prototype._unbindEventListeners=function(){this.overlay.querySelector('[data-hook="overlay-play-button"]').removeEventListener("click",this.callbacks.onPlayClick)},t.prototype.setPoster=function(t){this.overlay.querySelector('[data-hook="overlay-content"]').style.backgroundImage=t?"url("+t+")":""},t.prototype.hideOverlay=function(){this.overlay.style.display="none"},t.prototype.showOverlay=function(){this.overlay.style.display="flex"},t.prototype.hideLoader=function(){this.loader.style.display="none"},t.prototype.showLoader=function(){this.loader.style.display="flex"},t.prototype.attachToElement=function(t){t.appendChild(this.rootNode)},t.prototype.attachPlayer=function(t){t.attachToElement(this.playerContainer)},t.prototype.destroy=function(){this._unbindEventListeners(),this.rootNode.parentNode&&this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.loader=null,this.overlay=null,this.playerContainer=null,this.callbacks=null},t}(),b=function(){return(b=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};o.a.registerPlaybackAdapter(a.a);function m(t,e){void 0===e&&(e={});var n=e.size,i=void 0===n?{width:null,height:null}:n,r=i.width,a=i.height,l=e.fillAllSpace,c=e.overlay&&e.overlay.poster,u=o.a.create(b(b({},e),{overlay:!1})),d=new g(r,a,l,{onPlayClick:function(){d.hideOverlay(),u.play()}});d.attachPlayer(u),u.on(o.a.ENGINE_STATES.PLAYING,(function(){d.hideOverlay()})),u.on(o.a.ENGINE_STATES.ENDED,(function(){d.showOverlay()}));var p=function(t){if(u.pause(),d.showLoader(),c)d.setPoster(c);else{var e=r&&a&&Object(s.getVideoImage)(t,{width:r,height:a,previewIndex:1});d.setPoster(e)}return d.showOverlay(),Object(s.getInfo)(t).then((function(t){return Promise.all([Object(s.getVideoURLs)(t),Object(s.getVideoMetadata)(t)]).then((function(t){var e,n,i=t[0],o=t[1];d.hideLoader(),u.setSrc((e=i,n=o.duration,n>3e4?e.filter((function(t){return"ADAPTIVE"===t.quality})):e.filter((function(t){return"ADAPTIVE"!==t.quality})).sort((function(t,e){return parseInt(t.quality,10)>parseInt(e.quality,10)?0:1})))[0])}))}))};return p(t),{setID:p,play:u.play,pause:u.pause,attachToElement:function(t){return d.attachToElement(t)},destroy:function(){u.destroy(),d.destroy()},player:u}}}])}));
//# sourceMappingURL=wixmg-player.bundle.min.js.map